(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const m of i)if(m.type==="childList")for(const s of m.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const m={};return i.integrity&&(m.integrity=i.integrity),i.referrerPolicy&&(m.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?m.credentials="include":i.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function t(i){if(i.ep)return;i.ep=!0;const m=r(i);fetch(i.href,m)}})();function jn(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var r=function t(){if(this instanceof t){var i=[null];i.push.apply(i,arguments);var m=Function.bind.apply(n,i);return new m}return n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),r}var Ge={},rn=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Gn=function(e,n){n=n||{};var r=1,t=1;function i(L){var z=L.match(/\n/g);z&&(r+=z.length);var I=L.lastIndexOf(`
`);t=~I?L.length-I:t+L.length}function m(){var L={line:r,column:t};return function(z){return z.position=new s(L),y(),z}}function s(L){this.start=L,this.end={line:r,column:t},this.source=n.source}s.prototype.content=e;var l=[];function c(L){var z=new Error(n.source+":"+r+":"+t+": "+L);if(z.reason=L,z.filename=n.source,z.line=r,z.column=t,z.source=e,n.silent)l.push(z);else throw z}function o(){var L=u();return{type:"stylesheet",stylesheet:{source:n.source,rules:L,parsingErrors:l}}}function a(){return h(/^{\s*/)}function f(){return h(/^}/)}function u(){var L,z=[];for(y(),p(z);e.length&&e.charAt(0)!="}"&&(L=V()||W());)L!==!1&&(z.push(L),p(z));return z}function h(L){var z=L.exec(e);if(z){var I=z[0];return i(I),e=e.slice(I.length),z}}function y(){h(/^\s*/)}function p(L){var z;for(L=L||[];z=g();)z!==!1&&L.push(z);return L}function g(){var L=m();if(!(e.charAt(0)!="/"||e.charAt(1)!="*")){for(var z=2;e.charAt(z)!=""&&(e.charAt(z)!="*"||e.charAt(z+1)!="/");)++z;if(z+=2,e.charAt(z-1)==="")return c("End of comment missing");var I=e.slice(2,z-2);return t+=2,i(I),e=e.slice(z),t+=2,L({type:"comment",comment:I})}}function M(){var L=h(/^([^{]+)/);if(L)return re(L[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(z){return z.replace(/,/g,"‌")}).split(/\s*(?![^(]*\)),\s*/).map(function(z){return z.replace(/\u200C/g,",")})}function v(){var L=m(),z=h(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(z){if(z=re(z[0]),!h(/^:\s*/))return c("property missing ':'");var I=h(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),J=L({type:"declaration",property:z.replace(rn,""),value:I?re(I[0]).replace(rn,""):""});return h(/^[;\s]*/),J}}function _(){var L=[];if(!a())return c("missing '{'");p(L);for(var z;z=v();)z!==!1&&(L.push(z),p(L));return f()?L:c("missing '}'")}function d(){for(var L,z=[],I=m();L=h(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)z.push(L[1]),h(/^,\s*/);if(z.length)return I({type:"keyframe",values:z,declarations:_()})}function x(){var L=m(),I=h(/^@([-\w]+)?keyframes\s*/);if(I){var z=I[1],I=h(/^([-\w]+)\s*/);if(!I)return c("@keyframes missing name");var J=I[1];if(!a())return c("@keyframes missing '{'");for(var K,se=p();K=d();)se.push(K),se=se.concat(p());return f()?L({type:"keyframes",name:J,vendor:z,keyframes:se}):c("@keyframes missing '}'")}}function w(){var L=m(),z=h(/^@supports *([^{]+)/);if(z){var I=re(z[1]);if(!a())return c("@supports missing '{'");var J=p().concat(u());return f()?L({type:"supports",supports:I,rules:J}):c("@supports missing '}'")}}function S(){var L=m(),z=h(/^@host\s*/);if(z){if(!a())return c("@host missing '{'");var I=p().concat(u());return f()?L({type:"host",rules:I}):c("@host missing '}'")}}function $(){var L=m(),z=h(/^@media *([^{]+)/);if(z){var I=re(z[1]);if(!a())return c("@media missing '{'");var J=p().concat(u());return f()?L({type:"media",media:I,rules:J}):c("@media missing '}'")}}function j(){var L=m(),z=h(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(z)return L({type:"custom-media",name:re(z[1]),media:re(z[2])})}function N(){var L=m(),z=h(/^@page */);if(z){var I=M()||[];if(!a())return c("@page missing '{'");for(var J=p(),K;K=v();)J.push(K),J=J.concat(p());return f()?L({type:"page",selectors:I,declarations:J}):c("@page missing '}'")}}function C(){var L=m(),z=h(/^@([-\w]+)?document *([^{]+)/);if(z){var I=re(z[1]),J=re(z[2]);if(!a())return c("@document missing '{'");var K=p().concat(u());return f()?L({type:"document",document:J,vendor:I,rules:K}):c("@document missing '}'")}}function O(){var L=m(),z=h(/^@font-face\s*/);if(z){if(!a())return c("@font-face missing '{'");for(var I=p(),J;J=v();)I.push(J),I=I.concat(p());return f()?L({type:"font-face",declarations:I}):c("@font-face missing '}'")}}var q=U("import"),b=U("charset"),E=U("namespace");function U(L){var z=new RegExp("^@"+L+"\\s*([^;]+);");return function(){var I=m(),J=h(z);if(J){var K={type:L};return K[L]=J[1].trim(),I(K)}}}function V(){if(e[0]=="@")return x()||$()||j()||w()||q()||b()||E()||C()||N()||S()||O()}function W(){var L=m(),z=M();return z?(p(),L({type:"rule",selectors:z,declarations:_()})):c("selector missing")}return Ie(o())};function re(e){return e?e.replace(/^\s+|\s+$/g,""):""}function Ie(e,n){var r=e&&typeof e.type=="string",t=r?e:n;for(var i in e){var m=e[i];Array.isArray(m)?m.forEach(function(s){Ie(s,t)}):m&&typeof m=="object"&&Ie(m,t)}return r&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:n||null}),e}var wn=be;function be(e){this.options=e||{}}be.prototype.emit=function(e){return e};be.prototype.visit=function(e){return this[e.type](e)};be.prototype.mapVisit=function(e,n){var r="";n=n||"";for(var t=0,i=e.length;t<i;t++)r+=this.visit(e[t]),n&&t<i-1&&(r+=this.emit(n));return r};var De={exports:{}};typeof Object.create=="function"?De.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:De.exports=function(n,r){if(r){n.super_=r;var t=function(){};t.prototype=r.prototype,n.prototype=new t,n.prototype.constructor=n}};var _n=De.exports,zn=wn,Vn=_n,kn=Z;function Z(e){zn.call(this,e)}Vn(Z,zn);Z.prototype.compile=function(e){return e.stylesheet.rules.map(this.visit,this).join("")};Z.prototype.comment=function(e){return this.emit("",e.position)};Z.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)};Z.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")};Z.prototype.document=function(e){var n="@"+(e.vendor||"")+"document "+e.document;return this.emit(n,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")};Z.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)};Z.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)};Z.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")};Z.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit("{")+this.mapVisit(e.keyframes)+this.emit("}")};Z.prototype.keyframe=function(e){var n=e.declarations;return this.emit(e.values.join(","),e.position)+this.emit("{")+this.mapVisit(n)+this.emit("}")};Z.prototype.page=function(e){var n=e.selectors.length?e.selectors.join(", "):"";return this.emit("@page "+n,e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")};Z.prototype["font-face"]=function(e){return this.emit("@font-face",e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")};Z.prototype.host=function(e){return this.emit("@host",e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")};Z.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)};Z.prototype.rule=function(e){var n=e.declarations;return n.length?this.emit(e.selectors.join(","),e.position)+this.emit("{")+this.mapVisit(n)+this.emit("}"):""};Z.prototype.declaration=function(e){return this.emit(e.property+":"+e.value,e.position)+this.emit(";")};var Sn=wn,Bn=_n,Un=Y;function Y(e){e=e||{},Sn.call(this,e),this.indentation=e.indent}Bn(Y,Sn);Y.prototype.compile=function(e){return this.stylesheet(e)};Y.prototype.stylesheet=function(e){return this.mapVisit(e.stylesheet.rules,`

`)};Y.prototype.comment=function(e){return this.emit(this.indent()+"/*"+e.comment+"*/",e.position)};Y.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)};Y.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(this.indent(-1)+`
}`)};Y.prototype.document=function(e){var n="@"+(e.vendor||"")+"document "+e.document;return this.emit(n,e.position)+this.emit(`  {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(this.indent(-1)+`
}`)};Y.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)};Y.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)};Y.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(this.indent(-1)+`
}`)};Y.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.keyframes,`
`)+this.emit(this.indent(-1)+"}")};Y.prototype.keyframe=function(e){var n=e.declarations;return this.emit(this.indent())+this.emit(e.values.join(", "),e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(n,`
`)+this.emit(this.indent(-1)+`
`+this.indent()+`}
`)};Y.prototype.page=function(e){var n=e.selectors.length?e.selectors.join(", ")+" ":"";return this.emit("@page "+n,e.position)+this.emit(`{
`)+this.emit(this.indent(1))+this.mapVisit(e.declarations,`
`)+this.emit(this.indent(-1))+this.emit(`
}`)};Y.prototype["font-face"]=function(e){return this.emit("@font-face ",e.position)+this.emit(`{
`)+this.emit(this.indent(1))+this.mapVisit(e.declarations,`
`)+this.emit(this.indent(-1))+this.emit(`
}`)};Y.prototype.host=function(e){return this.emit("@host",e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(this.indent(-1)+`
}`)};Y.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)};Y.prototype.rule=function(e){var n=this.indent(),r=e.declarations;return r.length?this.emit(e.selectors.map(function(t){return n+t}).join(`,
`),e.position)+this.emit(` {
`)+this.emit(this.indent(1))+this.mapVisit(r,`
`)+this.emit(this.indent(-1))+this.emit(`
`+this.indent()+"}"):""};Y.prototype.declaration=function(e){return this.emit(this.indent())+this.emit(e.property+": "+e.value,e.position)+this.emit(";")};Y.prototype.indent=function(e){return this.level=this.level||1,e!=null?(this.level+=e,""):Array(this.level).join(this.indentation||"  ")};var ge={exports:{}},le={},Ce={},xe={},Me={},tn;function Jn(){if(tn)return Me;tn=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Me.encode=function(n){if(0<=n&&n<e.length)return e[n];throw new TypeError("Must be between 0 and 63: "+n)},Me.decode=function(n){var r=65,t=90,i=97,m=122,s=48,l=57,c=43,o=47,a=26,f=52;return r<=n&&n<=t?n-r:i<=n&&n<=m?n-i+a:s<=n&&n<=l?n-s+f:n==c?62:n==o?63:-1},Me}var mn;function bn(){if(mn)return xe;mn=1;var e=Jn(),n=5,r=1<<n,t=r-1,i=r;function m(l){return l<0?(-l<<1)+1:(l<<1)+0}function s(l){var c=(l&1)===1,o=l>>1;return c?-o:o}return xe.encode=function(c){var o="",a,f=m(c);do a=f&t,f>>>=n,f>0&&(a|=i),o+=e.encode(a);while(f>0);return o},xe.decode=function(c,o,a){var f=c.length,u=0,h=0,y,p;do{if(o>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(p=e.decode(c.charCodeAt(o++)),p===-1)throw new Error("Invalid base64 digit: "+c.charAt(o-1));y=!!(p&i),p&=t,u=u+(p<<h),h+=n}while(y);a.value=s(u),a.rest=o},xe}var Ae={},sn;function pe(){return sn||(sn=1,function(e){function n(d,x,w){if(x in d)return d[x];if(arguments.length===3)return w;throw new Error('"'+x+'" is a required argument.')}e.getArg=n;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,t=/^data:.+\,.+$/;function i(d){var x=d.match(r);return x?{scheme:x[1],auth:x[2],host:x[3],port:x[4],path:x[5]}:null}e.urlParse=i;function m(d){var x="";return d.scheme&&(x+=d.scheme+":"),x+="//",d.auth&&(x+=d.auth+"@"),d.host&&(x+=d.host),d.port&&(x+=":"+d.port),d.path&&(x+=d.path),x}e.urlGenerate=m;function s(d){var x=d,w=i(d);if(w){if(!w.path)return d;x=w.path}for(var S=e.isAbsolute(x),$=x.split(/\/+/),j,N=0,C=$.length-1;C>=0;C--)j=$[C],j==="."?$.splice(C,1):j===".."?N++:N>0&&(j===""?($.splice(C+1,N),N=0):($.splice(C,2),N--));return x=$.join("/"),x===""&&(x=S?"/":"."),w?(w.path=x,m(w)):x}e.normalize=s;function l(d,x){d===""&&(d="."),x===""&&(x=".");var w=i(x),S=i(d);if(S&&(d=S.path||"/"),w&&!w.scheme)return S&&(w.scheme=S.scheme),m(w);if(w||x.match(t))return x;if(S&&!S.host&&!S.path)return S.host=x,m(S);var $=x.charAt(0)==="/"?x:s(d.replace(/\/+$/,"")+"/"+x);return S?(S.path=$,m(S)):$}e.join=l,e.isAbsolute=function(d){return d.charAt(0)==="/"||r.test(d)};function c(d,x){d===""&&(d="."),d=d.replace(/\/$/,"");for(var w=0;x.indexOf(d+"/")!==0;){var S=d.lastIndexOf("/");if(S<0||(d=d.slice(0,S),d.match(/^([^\/]+:\/)?\/*$/)))return x;++w}return Array(w+1).join("../")+x.substr(d.length+1)}e.relative=c;var o=function(){var d=Object.create(null);return!("__proto__"in d)}();function a(d){return d}function f(d){return h(d)?"$"+d:d}e.toSetString=o?a:f;function u(d){return h(d)?d.slice(1):d}e.fromSetString=o?a:u;function h(d){if(!d)return!1;var x=d.length;if(x<9||d.charCodeAt(x-1)!==95||d.charCodeAt(x-2)!==95||d.charCodeAt(x-3)!==111||d.charCodeAt(x-4)!==116||d.charCodeAt(x-5)!==111||d.charCodeAt(x-6)!==114||d.charCodeAt(x-7)!==112||d.charCodeAt(x-8)!==95||d.charCodeAt(x-9)!==95)return!1;for(var w=x-10;w>=0;w--)if(d.charCodeAt(w)!==36)return!1;return!0}function y(d,x,w){var S=g(d.source,x.source);return S!==0||(S=d.originalLine-x.originalLine,S!==0)||(S=d.originalColumn-x.originalColumn,S!==0||w)||(S=d.generatedColumn-x.generatedColumn,S!==0)||(S=d.generatedLine-x.generatedLine,S!==0)?S:g(d.name,x.name)}e.compareByOriginalPositions=y;function p(d,x,w){var S=d.generatedLine-x.generatedLine;return S!==0||(S=d.generatedColumn-x.generatedColumn,S!==0||w)||(S=g(d.source,x.source),S!==0)||(S=d.originalLine-x.originalLine,S!==0)||(S=d.originalColumn-x.originalColumn,S!==0)?S:g(d.name,x.name)}e.compareByGeneratedPositionsDeflated=p;function g(d,x){return d===x?0:d===null?1:x===null?-1:d>x?1:-1}function M(d,x){var w=d.generatedLine-x.generatedLine;return w!==0||(w=d.generatedColumn-x.generatedColumn,w!==0)||(w=g(d.source,x.source),w!==0)||(w=d.originalLine-x.originalLine,w!==0)||(w=d.originalColumn-x.originalColumn,w!==0)?w:g(d.name,x.name)}e.compareByGeneratedPositionsInflated=M;function v(d){return JSON.parse(d.replace(/^\)]}'[^\n]*\n/,""))}e.parseSourceMapInput=v;function _(d,x,w){if(x=x||"",d&&(d[d.length-1]!=="/"&&x[0]!=="/"&&(d+="/"),x=d+x),w){var S=i(w);if(!S)throw new Error("sourceMapURL could not be parsed");if(S.path){var $=S.path.lastIndexOf("/");$>=0&&(S.path=S.path.substring(0,$+1))}x=l(m(S),x)}return s(x)}e.computeSourceURL=_}(Ae)),Ae}var Le={},ln;function Cn(){if(ln)return Le;ln=1;var e=pe(),n=Object.prototype.hasOwnProperty,r=typeof Map<"u";function t(){this._array=[],this._set=r?new Map:Object.create(null)}return t.fromArray=function(m,s){for(var l=new t,c=0,o=m.length;c<o;c++)l.add(m[c],s);return l},t.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},t.prototype.add=function(m,s){var l=r?m:e.toSetString(m),c=r?this.has(m):n.call(this._set,l),o=this._array.length;(!c||s)&&this._array.push(m),c||(r?this._set.set(m,o):this._set[l]=o)},t.prototype.has=function(m){if(r)return this._set.has(m);var s=e.toSetString(m);return n.call(this._set,s)},t.prototype.indexOf=function(m){if(r){var s=this._set.get(m);if(s>=0)return s}else{var l=e.toSetString(m);if(n.call(this._set,l))return this._set[l]}throw new Error('"'+m+'" is not in the set.')},t.prototype.at=function(m){if(m>=0&&m<this._array.length)return this._array[m];throw new Error("No element indexed by "+m)},t.prototype.toArray=function(){return this._array.slice()},Le.ArraySet=t,Le}var Oe={},cn;function Wn(){if(cn)return Oe;cn=1;var e=pe();function n(t,i){var m=t.generatedLine,s=i.generatedLine,l=t.generatedColumn,c=i.generatedColumn;return s>m||s==m&&c>=l||e.compareByGeneratedPositionsInflated(t,i)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(i,m){this._array.forEach(i,m)},r.prototype.add=function(i){n(this._last,i)?(this._last=i,this._array.push(i)):(this._sorted=!1,this._array.push(i))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Oe.MappingList=r,Oe}var on;function An(){if(on)return Ce;on=1;var e=bn(),n=pe(),r=Cn().ArraySet,t=Wn().MappingList;function i(m){m||(m={}),this._file=n.getArg(m,"file",null),this._sourceRoot=n.getArg(m,"sourceRoot",null),this._skipValidation=n.getArg(m,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new t,this._sourcesContents=null}return i.prototype._version=3,i.fromSourceMap=function(s){var l=s.sourceRoot,c=new i({file:s.file,sourceRoot:l});return s.eachMapping(function(o){var a={generated:{line:o.generatedLine,column:o.generatedColumn}};o.source!=null&&(a.source=o.source,l!=null&&(a.source=n.relative(l,a.source)),a.original={line:o.originalLine,column:o.originalColumn},o.name!=null&&(a.name=o.name)),c.addMapping(a)}),s.sources.forEach(function(o){var a=o;l!==null&&(a=n.relative(l,o)),c._sources.has(a)||c._sources.add(a);var f=s.sourceContentFor(o);f!=null&&c.setSourceContent(o,f)}),c},i.prototype.addMapping=function(s){var l=n.getArg(s,"generated"),c=n.getArg(s,"original",null),o=n.getArg(s,"source",null),a=n.getArg(s,"name",null);this._skipValidation||this._validateMapping(l,c,o,a),o!=null&&(o=String(o),this._sources.has(o)||this._sources.add(o)),a!=null&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:o,name:a})},i.prototype.setSourceContent=function(s,l){var c=s;this._sourceRoot!=null&&(c=n.relative(this._sourceRoot,c)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[n.toSetString(c)]=l):this._sourcesContents&&(delete this._sourcesContents[n.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},i.prototype.applySourceMap=function(s,l,c){var o=l;if(l==null){if(s.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);o=s.file}var a=this._sourceRoot;a!=null&&(o=n.relative(a,o));var f=new r,u=new r;this._mappings.unsortedForEach(function(h){if(h.source===o&&h.originalLine!=null){var y=s.originalPositionFor({line:h.originalLine,column:h.originalColumn});y.source!=null&&(h.source=y.source,c!=null&&(h.source=n.join(c,h.source)),a!=null&&(h.source=n.relative(a,h.source)),h.originalLine=y.line,h.originalColumn=y.column,y.name!=null&&(h.name=y.name))}var p=h.source;p!=null&&!f.has(p)&&f.add(p);var g=h.name;g!=null&&!u.has(g)&&u.add(g)},this),this._sources=f,this._names=u,s.sources.forEach(function(h){var y=s.sourceContentFor(h);y!=null&&(c!=null&&(h=n.join(c,h)),a!=null&&(h=n.relative(a,h)),this.setSourceContent(h,y))},this)},i.prototype._validateMapping=function(s,l,c,o){if(l&&typeof l.line!="number"&&typeof l.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(s&&"line"in s&&"column"in s&&s.line>0&&s.column>=0&&!l&&!c&&!o)){if(s&&"line"in s&&"column"in s&&l&&"line"in l&&"column"in l&&s.line>0&&s.column>=0&&l.line>0&&l.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:s,source:c,original:l,name:o}))}},i.prototype._serializeMappings=function(){for(var s=0,l=1,c=0,o=0,a=0,f=0,u="",h,y,p,g,M=this._mappings.toArray(),v=0,_=M.length;v<_;v++){if(y=M[v],h="",y.generatedLine!==l)for(s=0;y.generatedLine!==l;)h+=";",l++;else if(v>0){if(!n.compareByGeneratedPositionsInflated(y,M[v-1]))continue;h+=","}h+=e.encode(y.generatedColumn-s),s=y.generatedColumn,y.source!=null&&(g=this._sources.indexOf(y.source),h+=e.encode(g-f),f=g,h+=e.encode(y.originalLine-1-o),o=y.originalLine-1,h+=e.encode(y.originalColumn-c),c=y.originalColumn,y.name!=null&&(p=this._names.indexOf(y.name),h+=e.encode(p-a),a=p)),u+=h}return u},i.prototype._generateSourcesContent=function(s,l){return s.map(function(c){if(!this._sourcesContents)return null;l!=null&&(c=n.relative(l,c));var o=n.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)},i.prototype.toJSON=function(){var s={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(s.file=this._file),this._sourceRoot!=null&&(s.sourceRoot=this._sourceRoot),this._sourcesContents&&(s.sourcesContent=this._generateSourcesContent(s.sources,s.sourceRoot)),s},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},Ce.SourceMapGenerator=i,Ce}var ce={},Ee={},an;function Qn(){return an||(an=1,function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function n(r,t,i,m,s,l){var c=Math.floor((t-r)/2)+r,o=s(i,m[c],!0);return o===0?c:o>0?t-c>1?n(c,t,i,m,s,l):l==e.LEAST_UPPER_BOUND?t<m.length?t:-1:c:c-r>1?n(r,c,i,m,s,l):l==e.LEAST_UPPER_BOUND?c:r<0?-1:r}e.search=function(t,i,m,s){if(i.length===0)return-1;var l=n(-1,i.length,t,i,m,s||e.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&m(i[l],i[l-1],!0)===0;)--l;return l}}(Ee)),Ee}var Re={},fn;function Xn(){if(fn)return Re;fn=1;function e(t,i,m){var s=t[i];t[i]=t[m],t[m]=s}function n(t,i){return Math.round(t+Math.random()*(i-t))}function r(t,i,m,s){if(m<s){var l=n(m,s),c=m-1;e(t,l,s);for(var o=t[s],a=m;a<s;a++)i(t[a],o)<=0&&(c+=1,e(t,c,a));e(t,c+1,a);var f=c+1;r(t,i,m,f-1),r(t,i,f+1,s)}}return Re.quickSort=function(t,i){r(t,i,0,t.length-1)},Re}var hn;function Yn(){if(hn)return ce;hn=1;var e=pe(),n=Qn(),r=Cn().ArraySet,t=bn(),i=Xn().quickSort;function m(o,a){var f=o;return typeof o=="string"&&(f=e.parseSourceMapInput(o)),f.sections!=null?new c(f,a):new s(f,a)}m.fromSourceMap=function(o,a){return s.fromSourceMap(o,a)},m.prototype._version=3,m.prototype.__generatedMappings=null,Object.defineProperty(m.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),m.prototype.__originalMappings=null,Object.defineProperty(m.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),m.prototype._charIsMappingSeparator=function(a,f){var u=a.charAt(f);return u===";"||u===","},m.prototype._parseMappings=function(a,f){throw new Error("Subclasses must implement _parseMappings")},m.GENERATED_ORDER=1,m.ORIGINAL_ORDER=2,m.GREATEST_LOWER_BOUND=1,m.LEAST_UPPER_BOUND=2,m.prototype.eachMapping=function(a,f,u){var h=f||null,y=u||m.GENERATED_ORDER,p;switch(y){case m.GENERATED_ORDER:p=this._generatedMappings;break;case m.ORIGINAL_ORDER:p=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var g=this.sourceRoot;p.map(function(M){var v=M.source===null?null:this._sources.at(M.source);return v=e.computeSourceURL(g,v,this._sourceMapURL),{source:v,generatedLine:M.generatedLine,generatedColumn:M.generatedColumn,originalLine:M.originalLine,originalColumn:M.originalColumn,name:M.name===null?null:this._names.at(M.name)}},this).forEach(a,h)},m.prototype.allGeneratedPositionsFor=function(a){var f=e.getArg(a,"line"),u={source:e.getArg(a,"source"),originalLine:f,originalColumn:e.getArg(a,"column",0)};if(u.source=this._findSourceIndex(u.source),u.source<0)return[];var h=[],y=this._findMapping(u,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,n.LEAST_UPPER_BOUND);if(y>=0){var p=this._originalMappings[y];if(a.column===void 0)for(var g=p.originalLine;p&&p.originalLine===g;)h.push({line:e.getArg(p,"generatedLine",null),column:e.getArg(p,"generatedColumn",null),lastColumn:e.getArg(p,"lastGeneratedColumn",null)}),p=this._originalMappings[++y];else for(var M=p.originalColumn;p&&p.originalLine===f&&p.originalColumn==M;)h.push({line:e.getArg(p,"generatedLine",null),column:e.getArg(p,"generatedColumn",null),lastColumn:e.getArg(p,"lastGeneratedColumn",null)}),p=this._originalMappings[++y]}return h},ce.SourceMapConsumer=m;function s(o,a){var f=o;typeof o=="string"&&(f=e.parseSourceMapInput(o));var u=e.getArg(f,"version"),h=e.getArg(f,"sources"),y=e.getArg(f,"names",[]),p=e.getArg(f,"sourceRoot",null),g=e.getArg(f,"sourcesContent",null),M=e.getArg(f,"mappings"),v=e.getArg(f,"file",null);if(u!=this._version)throw new Error("Unsupported version: "+u);p&&(p=e.normalize(p)),h=h.map(String).map(e.normalize).map(function(_){return p&&e.isAbsolute(p)&&e.isAbsolute(_)?e.relative(p,_):_}),this._names=r.fromArray(y.map(String),!0),this._sources=r.fromArray(h,!0),this._absoluteSources=this._sources.toArray().map(function(_){return e.computeSourceURL(p,_,a)}),this.sourceRoot=p,this.sourcesContent=g,this._mappings=M,this._sourceMapURL=a,this.file=v}s.prototype=Object.create(m.prototype),s.prototype.consumer=m,s.prototype._findSourceIndex=function(o){var a=o;if(this.sourceRoot!=null&&(a=e.relative(this.sourceRoot,a)),this._sources.has(a))return this._sources.indexOf(a);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==o)return f;return-1},s.fromSourceMap=function(a,f){var u=Object.create(s.prototype),h=u._names=r.fromArray(a._names.toArray(),!0),y=u._sources=r.fromArray(a._sources.toArray(),!0);u.sourceRoot=a._sourceRoot,u.sourcesContent=a._generateSourcesContent(u._sources.toArray(),u.sourceRoot),u.file=a._file,u._sourceMapURL=f,u._absoluteSources=u._sources.toArray().map(function(w){return e.computeSourceURL(u.sourceRoot,w,f)});for(var p=a._mappings.toArray().slice(),g=u.__generatedMappings=[],M=u.__originalMappings=[],v=0,_=p.length;v<_;v++){var d=p[v],x=new l;x.generatedLine=d.generatedLine,x.generatedColumn=d.generatedColumn,d.source&&(x.source=y.indexOf(d.source),x.originalLine=d.originalLine,x.originalColumn=d.originalColumn,d.name&&(x.name=h.indexOf(d.name)),M.push(x)),g.push(x)}return i(u.__originalMappings,e.compareByOriginalPositions),u},s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}s.prototype._parseMappings=function(a,f){for(var u=1,h=0,y=0,p=0,g=0,M=0,v=a.length,_=0,d={},x={},w=[],S=[],$,j,N,C,O;_<v;)if(a.charAt(_)===";")u++,_++,h=0;else if(a.charAt(_)===",")_++;else{for($=new l,$.generatedLine=u,C=_;C<v&&!this._charIsMappingSeparator(a,C);C++);if(j=a.slice(_,C),N=d[j],N)_+=j.length;else{for(N=[];_<C;)t.decode(a,_,x),O=x.value,_=x.rest,N.push(O);if(N.length===2)throw new Error("Found a source, but no line and column");if(N.length===3)throw new Error("Found a source and line, but no column");d[j]=N}$.generatedColumn=h+N[0],h=$.generatedColumn,N.length>1&&($.source=g+N[1],g+=N[1],$.originalLine=y+N[2],y=$.originalLine,$.originalLine+=1,$.originalColumn=p+N[3],p=$.originalColumn,N.length>4&&($.name=M+N[4],M+=N[4])),S.push($),typeof $.originalLine=="number"&&w.push($)}i(S,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,i(w,e.compareByOriginalPositions),this.__originalMappings=w},s.prototype._findMapping=function(a,f,u,h,y,p){if(a[u]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+a[u]);if(a[h]<0)throw new TypeError("Column must be greater than or equal to 0, got "+a[h]);return n.search(a,f,y,p)},s.prototype.computeColumnSpans=function(){for(var a=0;a<this._generatedMappings.length;++a){var f=this._generatedMappings[a];if(a+1<this._generatedMappings.length){var u=this._generatedMappings[a+1];if(f.generatedLine===u.generatedLine){f.lastGeneratedColumn=u.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},s.prototype.originalPositionFor=function(a){var f={generatedLine:e.getArg(a,"line"),generatedColumn:e.getArg(a,"column")},u=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(a,"bias",m.GREATEST_LOWER_BOUND));if(u>=0){var h=this._generatedMappings[u];if(h.generatedLine===f.generatedLine){var y=e.getArg(h,"source",null);y!==null&&(y=this._sources.at(y),y=e.computeSourceURL(this.sourceRoot,y,this._sourceMapURL));var p=e.getArg(h,"name",null);return p!==null&&(p=this._names.at(p)),{source:y,line:e.getArg(h,"originalLine",null),column:e.getArg(h,"originalColumn",null),name:p}}}return{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(a){return a==null}):!1},s.prototype.sourceContentFor=function(a,f){if(!this.sourcesContent)return null;var u=this._findSourceIndex(a);if(u>=0)return this.sourcesContent[u];var h=a;this.sourceRoot!=null&&(h=e.relative(this.sourceRoot,h));var y;if(this.sourceRoot!=null&&(y=e.urlParse(this.sourceRoot))){var p=h.replace(/^file:\/\//,"");if(y.scheme=="file"&&this._sources.has(p))return this.sourcesContent[this._sources.indexOf(p)];if((!y.path||y.path=="/")&&this._sources.has("/"+h))return this.sourcesContent[this._sources.indexOf("/"+h)]}if(f)return null;throw new Error('"'+h+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(a){var f=e.getArg(a,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var u={source:f,originalLine:e.getArg(a,"line"),originalColumn:e.getArg(a,"column")},h=this._findMapping(u,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(a,"bias",m.GREATEST_LOWER_BOUND));if(h>=0){var y=this._originalMappings[h];if(y.source===u.source)return{line:e.getArg(y,"generatedLine",null),column:e.getArg(y,"generatedColumn",null),lastColumn:e.getArg(y,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},ce.BasicSourceMapConsumer=s;function c(o,a){var f=o;typeof o=="string"&&(f=e.parseSourceMapInput(o));var u=e.getArg(f,"version"),h=e.getArg(f,"sections");if(u!=this._version)throw new Error("Unsupported version: "+u);this._sources=new r,this._names=new r;var y={line:-1,column:0};this._sections=h.map(function(p){if(p.url)throw new Error("Support for url field in sections not implemented.");var g=e.getArg(p,"offset"),M=e.getArg(g,"line"),v=e.getArg(g,"column");if(M<y.line||M===y.line&&v<y.column)throw new Error("Section offsets must be ordered and non-overlapping.");return y=g,{generatedOffset:{generatedLine:M+1,generatedColumn:v+1},consumer:new m(e.getArg(p,"map"),a)}})}return c.prototype=Object.create(m.prototype),c.prototype.constructor=m,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){for(var o=[],a=0;a<this._sections.length;a++)for(var f=0;f<this._sections[a].consumer.sources.length;f++)o.push(this._sections[a].consumer.sources[f]);return o}}),c.prototype.originalPositionFor=function(a){var f={generatedLine:e.getArg(a,"line"),generatedColumn:e.getArg(a,"column")},u=n.search(f,this._sections,function(y,p){var g=y.generatedLine-p.generatedOffset.generatedLine;return g||y.generatedColumn-p.generatedOffset.generatedColumn}),h=this._sections[u];return h?h.consumer.originalPositionFor({line:f.generatedLine-(h.generatedOffset.generatedLine-1),column:f.generatedColumn-(h.generatedOffset.generatedLine===f.generatedLine?h.generatedOffset.generatedColumn-1:0),bias:a.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(a){return a.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(a,f){for(var u=0;u<this._sections.length;u++){var h=this._sections[u],y=h.consumer.sourceContentFor(a,!0);if(y)return y}if(f)return null;throw new Error('"'+a+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(a){for(var f=0;f<this._sections.length;f++){var u=this._sections[f];if(u.consumer._findSourceIndex(e.getArg(a,"source"))!==-1){var h=u.consumer.generatedPositionFor(a);if(h){var y={line:h.line+(u.generatedOffset.generatedLine-1),column:h.column+(u.generatedOffset.generatedLine===h.line?u.generatedOffset.generatedColumn-1:0)};return y}}}return{line:null,column:null}},c.prototype._parseMappings=function(a,f){this.__generatedMappings=[],this.__originalMappings=[];for(var u=0;u<this._sections.length;u++)for(var h=this._sections[u],y=h.consumer._generatedMappings,p=0;p<y.length;p++){var g=y[p],M=h.consumer._sources.at(g.source);M=e.computeSourceURL(h.consumer.sourceRoot,M,this._sourceMapURL),this._sources.add(M),M=this._sources.indexOf(M);var v=null;g.name&&(v=h.consumer._names.at(g.name),this._names.add(v),v=this._names.indexOf(v));var _={source:M,generatedLine:g.generatedLine+(h.generatedOffset.generatedLine-1),generatedColumn:g.generatedColumn+(h.generatedOffset.generatedLine===g.generatedLine?h.generatedOffset.generatedColumn-1:0),originalLine:g.originalLine,originalColumn:g.originalColumn,name:v};this.__generatedMappings.push(_),typeof _.originalLine=="number"&&this.__originalMappings.push(_)}i(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),i(this.__originalMappings,e.compareByOriginalPositions)},ce.IndexedSourceMapConsumer=c,ce}var qe={},un;function Zn(){if(un)return qe;un=1;var e=An().SourceMapGenerator,n=pe(),r=/(\r?\n)/,t=10,i="$$$isSourceNode$$$";function m(s,l,c,o,a){this.children=[],this.sourceContents={},this.line=s??null,this.column=l??null,this.source=c??null,this.name=a??null,this[i]=!0,o!=null&&this.add(o)}return m.fromStringWithSourceMap=function(l,c,o){var a=new m,f=l.split(r),u=0,h=function(){var v=d(),_=d()||"";return v+_;function d(){return u<f.length?f[u++]:void 0}},y=1,p=0,g=null;return c.eachMapping(function(v){if(g!==null)if(y<v.generatedLine)M(g,h()),y++,p=0;else{var _=f[u]||"",d=_.substr(0,v.generatedColumn-p);f[u]=_.substr(v.generatedColumn-p),p=v.generatedColumn,M(g,d),g=v;return}for(;y<v.generatedLine;)a.add(h()),y++;if(p<v.generatedColumn){var _=f[u]||"";a.add(_.substr(0,v.generatedColumn)),f[u]=_.substr(v.generatedColumn),p=v.generatedColumn}g=v},this),u<f.length&&(g&&M(g,h()),a.add(f.splice(u).join(""))),c.sources.forEach(function(v){var _=c.sourceContentFor(v);_!=null&&(o!=null&&(v=n.join(o,v)),a.setSourceContent(v,_))}),a;function M(v,_){if(v===null||v.source===void 0)a.add(_);else{var d=o?n.join(o,v.source):v.source;a.add(new m(v.originalLine,v.originalColumn,d,_,v.name))}}},m.prototype.add=function(l){if(Array.isArray(l))l.forEach(function(c){this.add(c)},this);else if(l[i]||typeof l=="string")l&&this.children.push(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},m.prototype.prepend=function(l){if(Array.isArray(l))for(var c=l.length-1;c>=0;c--)this.prepend(l[c]);else if(l[i]||typeof l=="string")this.children.unshift(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},m.prototype.walk=function(l){for(var c,o=0,a=this.children.length;o<a;o++)c=this.children[o],c[i]?c.walk(l):c!==""&&l(c,{source:this.source,line:this.line,column:this.column,name:this.name})},m.prototype.join=function(l){var c,o,a=this.children.length;if(a>0){for(c=[],o=0;o<a-1;o++)c.push(this.children[o]),c.push(l);c.push(this.children[o]),this.children=c}return this},m.prototype.replaceRight=function(l,c){var o=this.children[this.children.length-1];return o[i]?o.replaceRight(l,c):typeof o=="string"?this.children[this.children.length-1]=o.replace(l,c):this.children.push("".replace(l,c)),this},m.prototype.setSourceContent=function(l,c){this.sourceContents[n.toSetString(l)]=c},m.prototype.walkSourceContents=function(l){for(var c=0,o=this.children.length;c<o;c++)this.children[c][i]&&this.children[c].walkSourceContents(l);for(var a=Object.keys(this.sourceContents),c=0,o=a.length;c<o;c++)l(n.fromSetString(a[c]),this.sourceContents[a[c]])},m.prototype.toString=function(){var l="";return this.walk(function(c){l+=c}),l},m.prototype.toStringWithSourceMap=function(l){var c={code:"",line:1,column:0},o=new e(l),a=!1,f=null,u=null,h=null,y=null;return this.walk(function(p,g){c.code+=p,g.source!==null&&g.line!==null&&g.column!==null?((f!==g.source||u!==g.line||h!==g.column||y!==g.name)&&o.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:c.line,column:c.column},name:g.name}),f=g.source,u=g.line,h=g.column,y=g.name,a=!0):a&&(o.addMapping({generated:{line:c.line,column:c.column}}),f=null,a=!1);for(var M=0,v=p.length;M<v;M++)p.charCodeAt(M)===t?(c.line++,c.column=0,M+1===v?(f=null,a=!1):a&&o.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:c.line,column:c.column},name:g.name})):c.column++}),this.walkSourceContents(function(p,g){o.setSourceContent(p,g)}),{code:c.code,map:o}},qe.SourceNode=m,qe}var yn;function pn(){return yn||(yn=1,le.SourceMapGenerator=An().SourceMapGenerator,le.SourceMapConsumer=Yn().SourceMapConsumer,le.SourceNode=Zn().SourceNode),le}var $e={exports:{}},dn;function Hn(){return dn||(dn=1,function(e){(function(n){function r(i){return typeof i=="function"?i:typeof Buffer=="function"?function(s){//!! Deliberately using an API that's deprecated in node.js because
//!! this file is for browsers and we expect them to cope with it.
//!! Discussion: github.com/node-browser-compat/atob/pull/9
return new Buffer(s,"base64").toString("binary")}:typeof n.base64js=="object"?function(s){var l=n.base64js.b64ToByteArray(s);return Array.prototype.map.call(l,function(c){return String.fromCharCode(c)}).join("")}:function(){throw new Error("You're probably in an old browser or an iOS webworker. It might help to include beatgammit's base64-js.")}}var t=r(n.atob);n.atob=t,e&&e.exports&&(e.exports=t)})(window)}($e)),$e.exports}const Kn={},er=Object.freeze(Object.defineProperty({__proto__:null,default:Kn},Symbol.toStringTag,{value:"Module"})),ze=jn(er);var Fe,gn;function nr(){if(gn)return Fe;gn=1;var e="%[a-f0-9]{2}",n=new RegExp("("+e+")|([^%]+?)","gi"),r=new RegExp("("+e+")+","gi");function t(s,l){try{return[decodeURIComponent(s.join(""))]}catch{}if(s.length===1)return s;l=l||1;var c=s.slice(0,l),o=s.slice(l);return Array.prototype.concat.call([],t(c),t(o))}function i(s){try{return decodeURIComponent(s)}catch{for(var l=s.match(n)||[],c=1;c<l.length;c++)s=t(l,c).join(""),l=s.match(n)||[];return s}}function m(s){for(var l={"%FE%FF":"��","%FF%FE":"��"},c=r.exec(s);c;){try{l[c[0]]=decodeURIComponent(c[0])}catch{var o=i(c[0]);o!==c[0]&&(l[c[0]]=o)}c=r.exec(s)}l["%C2"]="�";for(var a=Object.keys(l),f=0;f<a.length;f++){var u=a[f];s=s.replace(new RegExp(u,"g"),l[u])}return s}return Fe=function(s){if(typeof s!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof s+"`");try{return s=s.replace(/\+/g," "),decodeURIComponent(s)}catch{return m(s)}},Fe}var Te,xn;function rr(){if(xn)return Te;xn=1;var e=Hn(),n=ze,r=ze,t=nr();function i(){return Array.prototype.reduce.call(arguments,function(C,O){return n.resolve(C,O)})}function m(C){return r.sep==="\\"?C.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):C}function s(C){return t(C.replace(/\+/g,"%2B"))}function l(C,O,q){setImmediate(function(){C(O,q)})}function c(C,O){try{return JSON.parse(C.replace(/^\)\]\}'/,""))}catch(q){throw q.sourceMapData=O,q}}function o(C,O,q){var b=s(O);try{return String(C(b))}catch(E){throw E.sourceMapData=q,E}}var a=/[#@] sourceMappingURL=([^\s'"]*)/,f=RegExp(`(?:/\\*(?:\\s*\r?
(?://)?)?(?:`+a.source+")\\s*\\*/|//(?:"+a.source+"))\\s*");function u(C){var O=C.match(f);return O?O[1]||O[2]||"":null}function h(C,O,q,b){var E;try{E=d(C,O)}catch(V){return l(b,V)}if(!E||E.map)return l(b,null,E);var U=s(E.url);q(U,function(V,W){if(V)return V.sourceMapData=E,b(V);E.map=String(W);try{E.map=c(E.map,E)}catch(L){return b(L)}b(null,E)})}function y(C,O,q){var b=d(C,O);return!b||b.map||(b.map=o(q,b.url,b),b.map=c(b.map,b)),b}var p=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,g=/^(?:application|text)\/json$/,M="utf-8";function v(C){for(var O=e(C),q=O.length,b=new Uint8Array(q),E=0;E<q;E++)b[E]=O.charCodeAt(E);return b}function _(C){if(typeof TextDecoder>"u"||typeof Uint8Array>"u")return e(C);var O=v(C),q=new TextDecoder(M,{fatal:!0});return q.decode(O)}function d(C,O){O=m(O);var q=u(C);if(!q)return null;var b=q.match(p);if(b){var E=b[1]||"text/plain",U=b[2]||"",V=b[3]||"",W={sourceMappingURL:q,url:null,sourcesRelativeTo:O,map:V};if(!g.test(E)){var L=new Error("Unuseful data uri mime type: "+E);throw L.sourceMapData=W,L}try{W.map=c(U===";base64"?_(V):decodeURIComponent(V),W)}catch(I){throw I.sourceMapData=W,I}return W}var z=i(O,q);return{sourceMappingURL:q,url:z,sourcesRelativeTo:z,map:null}}function x(C,O,q,b,E){typeof b=="function"&&(E=b,b={});var U=C.sources?C.sources.length:0,V={sourcesResolved:[],sourcesContent:[]};if(U===0){l(E,null,V);return}var W=function(){U--,U===0&&E(null,V)};$(C,O,b,function(L,z,I){if(V.sourcesResolved[I]=L,typeof z=="string")V.sourcesContent[I]=z,l(W,null);else{var J=s(L);q(J,function(K,se){V.sourcesContent[I]=K||String(se),W()})}})}function w(C,O,q,b){var E={sourcesResolved:[],sourcesContent:[]};return!C.sources||C.sources.length===0||$(C,O,b,function(U,V,W){if(E.sourcesResolved[W]=U,q!==null)if(typeof V=="string")E.sourcesContent[W]=V;else{var L=s(U);try{E.sourcesContent[W]=String(q(L))}catch(z){E.sourcesContent[W]=z}}}),E}var S=/\/?$/;function $(C,O,q,b){q=q||{},O=m(O);for(var E,U,V,W=0,L=C.sources.length;W<L;W++)V=null,typeof q.sourceRoot=="string"?V=q.sourceRoot:typeof C.sourceRoot=="string"&&q.sourceRoot!==!1&&(V=C.sourceRoot),V===null||V===""?E=i(O,C.sources[W]):E=i(O,V.replace(S,"/"),C.sources[W]),U=(C.sourcesContent||[])[W],b(E,U,W)}function j(C,O,q,b,E){if(typeof b=="function"&&(E=b,b={}),C===null){var U=O,V={sourceMappingURL:null,url:U,sourcesRelativeTo:U,map:null},W=s(U);q(W,function(z,I){if(z)return z.sourceMapData=V,E(z);V.map=String(I);try{V.map=c(V.map,V)}catch(J){return E(J)}L(V)})}else h(C,O,q,function(z,I){if(z)return E(z);if(!I)return E(null,null);L(I)});function L(z){x(z.map,z.sourcesRelativeTo,q,b,function(I,J){if(I)return E(I);z.sourcesResolved=J.sourcesResolved,z.sourcesContent=J.sourcesContent,E(null,z)})}}function N(C,O,q,b){var E;if(C===null){var U=O;E={sourceMappingURL:null,url:U,sourcesRelativeTo:U,map:null},E.map=o(q,U,E),E.map=c(E.map,E)}else if(E=y(C,O,q),!E)return null;var V=w(E.map,E.sourcesRelativeTo,q,b);return E.sourcesResolved=V.sourcesResolved,E.sourcesContent=V.sourcesContent,E}return Te={resolveSourceMap:h,resolveSourceMapSync:y,resolveSources:x,resolveSourcesSync:w,resolve:j,resolveSync:N,parseMapToJSON:c},Te}var Mn;function tr(){return Mn||(Mn=1,function(e,n){var r=pn().SourceMapGenerator,t=pn().SourceMapConsumer,i=rr(),m=ze,s=ze;e.exports=c;const l=function(o){return s.sep==="\\"?o.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):o};function c(o){o._comment=o.comment,o.map=new r,o.position={line:1,column:1},o.files={};for(var a in n)o[a]=n[a]}n.updatePosition=function(o){var a=o.match(/\n/g);a&&(this.position.line+=a.length);var f=o.lastIndexOf(`
`);this.position.column=~f?o.length-f:this.position.column+o.length},n.emit=function(o,a){if(a){var f=l(a.source||"source.css");this.map.addMapping({source:f,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:a.start.line,column:a.start.column-1}}),this.addFile(f,a)}return this.updatePosition(o),o},n.addFile=function(o,a){typeof a.content=="string"&&(Object.prototype.hasOwnProperty.call(this.files,o)||(this.files[o]=a.content))},n.applySourceMaps=function(){Object.keys(this.files).forEach(function(o){var a=this.files[o];if(this.map.setSourceContent(o,a),this.options.inputSourcemaps!==!1){var f=i.resolveSync(a,o,m.readFileSync);if(f){var u=new t(f.map),h=f.sourcesRelativeTo;this.map.applySourceMap(u,o,l(s.dirname(h)))}}},this)},n.comment=function(o){return/^# sourceMappingURL=/.test(o.comment)?this.emit("",o.position):this._comment(o)}}(ge,ge.exports)),ge.exports}var ir=kn,mr=Un,sr=function(e,n){n=n||{};var r=n.compress?new ir(n):new mr(n);if(n.sourcemap){var t=tr();t(r);var m=r.compile(e);r.applySourceMaps();var i=n.sourcemap==="generator"?r.map:r.map.toJSON();return{code:m,map:i}}var m=r.compile(e);return m};Ge.parse=Gn;Ge.stringify=sr;function lr(e,n){try{var r=Ge.parse(e)}catch{return console.error(`Failed to parse css ${e}`),{Add:()=>{},Remove:()=>{}}}function t(){if(r&&r.stylesheet&&r.stylesheet.rules){const m=r.stylesheet.rules;for(const s of m)if(s.type==="rule"){const l=s.selectors,c=s.declarations;if(l&&c)for(const o of l){const a=Array.from(n.querySelectorAll(o));n.matches(o)&&a.unshift(n);for(const f of a)for(const u of c){const{property:h,value:y}=u;f.style.setProperty(h,y)}}}}}function i(){if(r&&r.stylesheet&&r.stylesheet.rules){const m=r.stylesheet.rules;for(const s of m)if(s.type==="rule"){const l=s.selectors,c=s.declarations;if(l&&c)for(const o of l){const a=Array.from(n.querySelectorAll(o));n.matches(o)&&a.unshift(n);for(const f of a)for(const u of c){const{property:h,value:y}=u;f.style.setProperty(h,null)}}}}}return{Add:t,Remove:i}}function cr(e){return e.map(n=>Ln(n))}function or(e){var n={};for(const r in e)n[r]=Ln(e[r]);return n}function Ln(e){let n=e;for(;typeof e=="function";)n=e,e=e();return n}function Se(e){for(;typeof e=="function";)e=e();return e}class On{$css(n,r){r.element&&r.element.Remove();const t=lr(n,this);t.Add(),r.element=t}$update(){var n=this.querySelectorAll("*");for(const r of this.__events)r();for(const r of n)if(r.__events)for(const t of r.__events)t();return this}$on(n,r){const t=this;function i(){t.removeEventListener(n,m)}function m(s){r(s,i)}return this.addEventListener(n,m),this}$style(n,r){if(r.style)if(typeof n=="object")for(const t in n)this.style.setProperty(t,null);else{const t=n.split(";").filter(i=>i.length>0);this.style={};for(const i of t){const[m,s]=i.split(":");this.style.setProperty(m,null)}}if(typeof n=="object")for(const t in n)this.style.setProperty(t,n[t]);else{const t=n.split(";").filter(i=>i.length>0);this.style={};for(const i of t){const[m,s]=i.split(":");this.style.setProperty(m,s)}}return r.style=n,this}$class(n,r){let t;if(typeof n=="object"?t=Object.keys(n).filter(i=>n[i]):t=n.split(" "),r.classesSplit)for(const i of r.classesSplit)this.classList.remove(i);for(const i of t)this.classList.add(i);r.classesSplit=t}$getComputedStyle(n){return window.getComputedStyle(this).getPropertyValue(n)}$parent(n){return n.appendChild(this),this}$model(n,r){this.value=n.value,r.added||(r.added=!0,this.$on("input",()=>{n.value=this.value}))}$child(n,r){return n instanceof HTMLElement||(n=document.createTextNode(n)),r.element?r.element.replaceWith(n):this.appendChild(n),r.element=n,this}$state(n){var r=Se(n);(r==null?void 0:r.$key)=="ce800a6b-1ecc-41dd-8ade-fb12cd3cdb62"&&r.$subscribe(this)}}var Ne=new On,ar=["$on","$update","$parent","$state"];function fr(e){let n;n=document.createElement(e),n.__events=[];for(const r of hr(On))ar.includes(r)?n[r]=(...t)=>Ne[r].apply(n,t):n[r]=(...t)=>{t.push({});function i(){var l=[];for(const o of t){var c=Se(o);(c==null?void 0:c.$key)=="ce800a6b-1ecc-41dd-8ade-fb12cd3cdb62"&&r!="$model"?l.push(c.value):l.push(c)}return Ne[r].apply(n,l)}var m=[];for(const l of t){var s=Se(l);(s==null?void 0:s.$key)=="ce800a6b-1ecc-41dd-8ade-fb12cd3cdb62"?(s.$subscribe(n),r=="$model"?m.push(s):m.push(s.value)):m.push(s)}return n.__events.push(i),Ne[r].apply(n,m)};return n}function hr(e){const n=[],r=new e,t=Object.getPrototypeOf(r),i=Object.getOwnPropertyNames(t);for(const m of i)typeof t[m]=="function"&&m!="constructor"&&n.push(m);return n}const ur=(e,n,...r)=>{var t;if(typeof e=="function"){if(t=e(or(n),...cr(r)),t===void 0)return r}else{t=fr(e);for(const l of r)t.$child(l)}const i={style:l=>{t.$style(l)},class:l=>{t.$class(l)},css:l=>{t.$css(l)},ref:l=>{l.$element=t},state:l=>{t.$state(l)},model:l=>{t.$model(l)}},m={on:(l,c)=>{t.$on(l,c)}};for(var s in n){const l=s.split(":");l.length==2?m[l[0]]&&m[l[0]](l[1],n[s]):Object.keys(i).includes(s)?i[s](n[s]):t[s]=Se(n[s])}return t};function yr(e,n){const r={get(t,i){return typeof t[i]=="object"&&t[i]!==null?new Proxy(t[i],r):t[i]},set(t,i,m){return t[i]!=m&&(t[i]=m,e()),!0}};return new Proxy(n,r)}function pr(e,{surface:n,x:r=0,y:t=0,w:i=null,h:m=null}){i!=null&&m!=null?e.drawImage(n.canvas,r,t,i,m):e.drawImage(n.canvas,r,t)}function dr(e,n,r){r(e,n);const{backgroundColor:t}=n,{border:i}=n;if(t!=null&&(e.fillStyle=t,e.fill()),i!=null){const{thickness:m,color:s}=i;m!=null&&s!=null&&(e.lineWidth=m,e.strokeStyle=s),e.stroke()}}function gr(e,n,r){r(e,n);let{cap:t}=n;const{backgroundColor:i}=n,{border:m}=n,{w:s}=n;if(t==null&&(t="round"),e.lineCap=t,m!=null){const{thickness:l,color:c}=m;l!=null&&c!=null&&(e.lineWidth=l+s,e.strokeStyle=c,e.stroke())}i!=null&&(e.lineWidth=s,e.strokeStyle=i,e.stroke())}function xr(){function e(t,{x:i,y:m,w:s,h:l}){s/=2,l/=2,t.beginPath(),t.ellipse(i+s,m+l,s,l,0,0,2*Math.PI)}function n({px:t,py:i,x:m,y:s,w:l,h:c}){l/=2,c/=2,m+=l,s+=c;const o=t-m,a=i-s;return o*o/(l*l)+a*a/(c*c)<=1}function r({px:t,py:i,x:m,y:s,w:l,h:c}){l/=2,c/=2;const o=m+l,a=s+c,f=t-o,u=i-a,h=Math.atan2(u,f),y=o+l*Math.cos(h),p=a+c*Math.sin(h);return{x:y,y:p}}return{draw:e,pointOnShape:n,getClosestPoint:r}}function Mr(){function e(t,{x:i,y:m,w:s,h:l,border:{radius:c}}){if(c==0||c==null){t.beginPath(),t.rect(i,m,s,l);return}else typeof c=="number"?c={tl:c,tr:c,br:c,bl:c}:c={tl:0,tr:0,br:0,bl:0,...c};t.beginPath(),t.moveTo(i+c.tl,m),t.lineTo(i+s-c.tr,m),t.quadraticCurveTo(i+s,m,i+s,m+c.tr),t.lineTo(i+s,m+l-c.br),t.quadraticCurveTo(i+s,m+l,i+s-c.br,m+l),t.lineTo(i+c.bl,m+l),t.quadraticCurveTo(i,m+l,i,m+l-c.bl),t.lineTo(i,m+c.tl),t.quadraticCurveTo(i,m,i+c.tl,m)}function n({px:t,py:i,x:m,y:s,w:l,h:c}){return t>=m&&t<=m+l&&i>=s&&i<=s+c}function r({px:t,py:i,x:m,y:s,w:l,h:c}){if(t>=m&&t<=m+l&&i>=s&&i<=s+c){const f=t-m,u=m+l-t,h=i-s,y=s+c-i,p=Math.min(f,u,h,y);return p===f?{x:m,y:i}:p===u?{x:m+l,y:i}:p===h?{x:t,y:s}:{x:t,y:s+c}}let o;t<m?o=m:t>m+l?o=m+l:o=t;let a;return i<s?a=s:i>s+c?a=s+c:a=i,{x:o,y:a}}return{draw:e,pointOnShape:n,getClosestPoint:r}}function me(e,n,r,t){var i=r-e,m=t-n,s=Math.sqrt(i*i+m*m);return s}function je(e,n,r,t,i,m){var s=Math.sqrt(Math.pow(i-r,2)+Math.pow(m-t,2)),l=(i-r)/s,c=(m-t)/s,o={x:e-r,y:n-t},a=o.x*l+o.y*c;a=Math.max(0,Math.min(a,s));var f=r+a*l,u=t+a*c;return{x:f,y:u}}function vr(){function e(t,{segments:i}){t.beginPath(),t.moveTo(i[0].x,i[0].y);for(var m=1;m<i.length;m++){const{x:s,y:l}=i[m];t.lineTo(s,l)}}function n({px:t,py:i,segments:m,w:s}){for(var l=0;l<m.length-1;l+=1){const{x:c,y:o}=m[l],{x:a,y:f}=m[l+1],u=je(t,i,c,o,a,f);if(me(u.x,u.y,t,i)<s/2)return!0}return!1}function r({px:t,py:i,segments:m}){let s=null,l=null;for(var c=0;c<m.length-1;c+=1){const{x:o,y:a}=m[c],{x:f,y:u}=m[c+1],h=je(t,i,o,a,f,u),y=me(h.x,h.y,t,i);(l==null||y<l)&&(s=h,l=y)}return s}return{draw:e,pointOnShape:n,getClosestPoint:r}}const wr=Math.PI/180,_r=180/Math.PI,R=1e-6;function zr(e,n){return Math.abs(e-n)<=R*Math.max(1,Math.abs(e),Math.abs(n))}function Sr(e,n,r){return r=r||R,Math.abs(e-n)<=r}function br(e,n,r){return e<n?n:e>r?r:e}function Cr(e){return e<0?0:e>1?1:e}function Ar(e,n,r){return e+(n-e)*r}function Lr(e){return e*wr}function Or(e){return e*_r}const te=Math.random;function En(e,n){return Math.random()*(n-e)+e}function Er(e,n){return Math.floor(En(e,n))}function Rr(e){return--e,e=e>>1|e,e=e>>2|e,e=e>>4|e,e=e>>8|e,e=e>>16|e,++e,e}const Ve=32,qr=2147483647,$r=-1<<Ve-1;function Fr(e){return(e>0)-(e<0)}function Tr(e){let n=e>>Ve-1;return(e^n)-n}function Nr(e,n){return n^(e^n)&-(e<n)}function Pr(e,n){return e^(e^n)&-(e<n)}function Ir(e){return!(e&e-1)&&!!e}function Dr(e){let n,r;return n=(e>65535)<<4,e>>>=n,r=(e>255)<<3,e>>>=r,n|=r,r=(e>15)<<2,e>>>=r,n|=r,r=(e>3)<<1,e>>>=r,n|=r,n|e>>1}function jr(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0}function Gr(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}function Rn(e){let n=32;return e&=-e,e&&n--,e&65535&&(n-=16),e&16711935&&(n-=8),e&252645135&&(n-=4),e&858993459&&(n-=2),e&1431655765&&(n-=1),n}function Vr(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function kr(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)}function Br(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1}const ye=new Array(256);(function(e){for(let n=0;n<256;++n){let r=n,t=n,i=7;for(r>>>=1;r;r>>>=1)t<<=1,t|=r&1,--i;e[n]=t<<i&255}})(ye);function Ur(e){return ye[e&255]<<24|ye[e>>>8&255]<<16|ye[e>>>16&255]<<8|ye[e>>>24&255]}function Jr(e,n){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e|n<<1}function Wr(e,n){return e=e>>>n&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16}function Qr(e,n,r){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,e|=n<<1,r&=1023,r=(r|r<<16)&4278190335,r=(r|r<<8)&251719695,r=(r|r<<4)&3272356035,r=(r|r<<2)&1227133513,e|r<<2}function Xr(e,n){return e=e>>>n&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22}function Yr(e){let n=e|e-1;return n+1|(~n&-~n)-1>>>Rn(e)+1}const Zr=Object.freeze(Object.defineProperty({__proto__:null,INT_BITS:Ve,INT_MAX:qr,INT_MIN:$r,abs:Tr,countTrailingZeros:Rn,deinterleave2:Wr,deinterleave3:Xr,interleave2:Jr,interleave3:Qr,isPow2:Ir,log10:jr,log2:Dr,max:Pr,min:Nr,nextCombination:Yr,nextPow2:Vr,parity:Br,popCount:Gr,prevPow2:kr,reverse:Ur,sign:Fr},Symbol.toStringTag,{value:"Module"}));let Pe=new Array(2);class ke{constructor(n,r){this.x=n,this.y=r}toJSON(){return Pe[0]=this.x,Pe[1]=this.y,Pe}}let P={};P.create=function(){return new ke(0,0)};P.new=function(e,n){return new ke(e,n)};P.clone=function(e){return new ke(e.x,e.y)};P.copy=function(e,n){return e.x=n.x,e.y=n.y,e};P.set=function(e,n,r){return e.x=n,e.y=r,e};P.add=function(e,n,r){return e.x=n.x+r.x,e.y=n.y+r.y,e};P.subtract=function(e,n,r){return e.x=n.x-r.x,e.y=n.y-r.y,e};P.sub=P.subtract;P.multiply=function(e,n,r){return e.x=n.x*r.x,e.y=n.y*r.y,e};P.mul=P.multiply;P.divide=function(e,n,r){return e.x=n.x/r.x,e.y=n.y/r.y,e};P.div=P.divide;P.ceil=function(e,n){return e.x=Math.ceil(n.x),e.y=Math.ceil(n.y),e};P.floor=function(e,n){return e.x=Math.floor(n.x),e.y=Math.floor(n.y),e};P.min=function(e,n,r){return e.x=Math.min(n.x,r.x),e.y=Math.min(n.y,r.y),e};P.max=function(e,n,r){return e.x=Math.max(n.x,r.x),e.y=Math.max(n.y,r.y),e};P.round=function(e,n){return e.x=Math.round(n.x),e.y=Math.round(n.y),e};P.scale=function(e,n,r){return e.x=n.x*r,e.y=n.y*r,e};P.scaleAndAdd=function(e,n,r,t){return e.x=n.x+r.x*t,e.y=n.y+r.y*t,e};P.distance=function(e,n){let r=n.x-e.x,t=n.y-e.y;return Math.sqrt(r*r+t*t)};P.dist=P.distance;P.squaredDistance=function(e,n){let r=n.x-e.x,t=n.y-e.y;return r*r+t*t};P.sqrDist=P.squaredDistance;P.length=function(e){let n=e.x,r=e.y;return Math.sqrt(n*n+r*r)};P.len=P.length;P.squaredLength=function(e){let n=e.x,r=e.y;return n*n+r*r};P.sqrLen=P.squaredLength;P.negate=function(e,n){return e.x=-n.x,e.y=-n.y,e};P.inverse=function(e,n){return e.x=1/n.x,e.y=1/n.y,e};P.inverseSafe=function(e,n){let r=n.x,t=n.y;return Math.abs(r)<R?e.x=0:e.x=1/r,Math.abs(t)<R?e.y=0:e.y=1/n.y,e};P.normalize=function(e,n){let r=n.x,t=n.y,i=r*r+t*t;return i>0&&(i=1/Math.sqrt(i),e.x=n.x*i,e.y=n.y*i),e};P.dot=function(e,n){return e.x*n.x+e.y*n.y};P.cross=function(e,n,r){let t=n.x*r.y-n.y*r.x;return e.x=e.y=0,e.z=t,e};P.lerp=function(e,n,r,t){let i=n.x,m=n.y;return e.x=i+t*(r.x-i),e.y=m+t*(r.y-m),e};P.random=function(e,n){n=n||1;let r=te()*2*Math.PI;return e.x=Math.cos(r)*n,e.y=Math.sin(r)*n,e};P.transformMat2=function(e,n,r){let t=n.x,i=n.y;return e.x=r.m00*t+r.m02*i,e.y=r.m01*t+r.m03*i,e};P.transformMat23=function(e,n,r){let t=n.x,i=n.y;return e.x=r.m00*t+r.m02*i+r.m04,e.y=r.m01*t+r.m03*i+r.m05,e};P.transformMat3=function(e,n,r){let t=n.x,i=n.y;return e.x=r.m00*t+r.m03*i+r.m06,e.y=r.m01*t+r.m04*i+r.m07,e};P.transformMat4=function(e,n,r){let t=n.x,i=n.y;return e.x=r.m00*t+r.m04*i+r.m12,e.y=r.m01*t+r.m05*i+r.m13,e};P.forEach=function(){let e=P.create();return function(n,r,t,i,m,s){let l,c;for(r||(r=2),t||(t=0),i?c=Math.min(i*r+t,n.length):c=n.length,l=t;l<c;l+=r)e.x=n[l],e.y=n[l+1],m(e,e,s),n[l]=e.x,n[l+1]=e.y;return n}}();P.str=function(e){return`vec2(${e.x}, ${e.y})`};P.array=function(e,n){return e[0]=n.x,e[1]=n.y,e};P.exactEquals=function(e,n){return e.x===n.x&&e.y===n.y};P.equals=function(e,n){let r=e.x,t=e.y,i=n.x,m=n.y;return Math.abs(r-i)<=R*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(t-m)<=R*Math.max(1,Math.abs(t),Math.abs(m))};let ve=new Array(3);class Be{constructor(n,r,t){this.x=n,this.y=r,this.z=t}toJSON(){return ve[0]=this.x,ve[1]=this.y,ve[2]=this.z,ve}}let A={};A.create=function(){return new Be(0,0,0)};A.new=function(e,n,r){return new Be(e,n,r)};A.clone=function(e){return new Be(e.x,e.y,e.z)};A.copy=function(e,n){return e.x=n.x,e.y=n.y,e.z=n.z,e};A.set=function(e,n,r,t){return e.x=n,e.y=r,e.z=t,e};A.add=function(e,n,r){return e.x=n.x+r.x,e.y=n.y+r.y,e.z=n.z+r.z,e};A.subtract=function(e,n,r){return e.x=n.x-r.x,e.y=n.y-r.y,e.z=n.z-r.z,e};A.sub=A.subtract;A.multiply=function(e,n,r){return e.x=n.x*r.x,e.y=n.y*r.y,e.z=n.z*r.z,e};A.mul=A.multiply;A.divide=function(e,n,r){return e.x=n.x/r.x,e.y=n.y/r.y,e.z=n.z/r.z,e};A.div=A.divide;A.ceil=function(e,n){return e.x=Math.ceil(n.x),e.y=Math.ceil(n.y),e.z=Math.ceil(n.z),e};A.floor=function(e,n){return e.x=Math.floor(n.x),e.y=Math.floor(n.y),e.z=Math.floor(n.z),e};A.min=function(e,n,r){return e.x=Math.min(n.x,r.x),e.y=Math.min(n.y,r.y),e.z=Math.min(n.z,r.z),e};A.max=function(e,n,r){return e.x=Math.max(n.x,r.x),e.y=Math.max(n.y,r.y),e.z=Math.max(n.z,r.z),e};A.round=function(e,n){return e.x=Math.round(n.x),e.y=Math.round(n.y),e.z=Math.round(n.z),e};A.scale=function(e,n,r){return e.x=n.x*r,e.y=n.y*r,e.z=n.z*r,e};A.scaleAndAdd=function(e,n,r,t){return e.x=n.x+r.x*t,e.y=n.y+r.y*t,e.z=n.z+r.z*t,e};A.distance=function(e,n){let r=n.x-e.x,t=n.y-e.y,i=n.z-e.z;return Math.sqrt(r*r+t*t+i*i)};A.dist=A.distance;A.squaredDistance=function(e,n){let r=n.x-e.x,t=n.y-e.y,i=n.z-e.z;return r*r+t*t+i*i};A.sqrDist=A.squaredDistance;A.length=function(e){let n=e.x,r=e.y,t=e.z;return Math.sqrt(n*n+r*r+t*t)};A.len=A.length;A.squaredLength=function(e){let n=e.x,r=e.y,t=e.z;return n*n+r*r+t*t};A.sqrLen=A.squaredLength;A.negate=function(e,n){return e.x=-n.x,e.y=-n.y,e.z=-n.z,e};A.inverse=function(e,n){return e.x=1/n.x,e.y=1/n.y,e.z=1/n.z,e};A.inverseSafe=function(e,n){let r=n.x,t=n.y,i=n.z;return Math.abs(r)<R?e.x=0:e.x=1/r,Math.abs(t)<R?e.y=0:e.y=1/t,Math.abs(i)<R?e.z=0:e.z=1/i,e};A.normalize=function(e,n){let r=n.x,t=n.y,i=n.z,m=r*r+t*t+i*i;return m>0&&(m=1/Math.sqrt(m),e.x=r*m,e.y=t*m,e.z=i*m),e};A.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z};A.cross=function(e,n,r){let t=n.x,i=n.y,m=n.z,s=r.x,l=r.y,c=r.z;return e.x=i*c-m*l,e.y=m*s-t*c,e.z=t*l-i*s,e};A.lerp=function(e,n,r,t){let i=n.x,m=n.y,s=n.z;return e.x=i+t*(r.x-i),e.y=m+t*(r.y-m),e.z=s+t*(r.z-s),e};A.hermite=function(e,n,r,t,i,m){let s=m*m,l=s*(2*m-3)+1,c=s*(m-2)+m,o=s*(m-1),a=s*(3-2*m);return e.x=n.x*l+r.x*c+t.x*o+i.x*a,e.y=n.y*l+r.y*c+t.y*o+i.y*a,e.z=n.z*l+r.z*c+t.z*o+i.z*a,e};A.bezier=function(e,n,r,t,i,m){let s=1-m,l=s*s,c=m*m,o=l*s,a=3*m*l,f=3*c*s,u=c*m;return e.x=n.x*o+r.x*a+t.x*f+i.x*u,e.y=n.y*o+r.y*a+t.y*f+i.y*u,e.z=n.z*o+r.z*a+t.z*f+i.z*u,e};A.random=function(e,n){n=n||1;let r=te()*2*Math.PI,t=te()*2-1,i=Math.sqrt(1-t*t)*n;return e.x=Math.cos(r)*i,e.y=Math.sin(r)*i,e.z=t*n,e};A.transformMat4=function(e,n,r){let t=n.x,i=n.y,m=n.z,s=r.m03*t+r.m07*i+r.m11*m+r.m15;return s=s||1,e.x=(r.m00*t+r.m04*i+r.m08*m+r.m12)/s,e.y=(r.m01*t+r.m05*i+r.m09*m+r.m13)/s,e.z=(r.m02*t+r.m06*i+r.m10*m+r.m14)/s,e};A.transformMat3=function(e,n,r){let t=n.x,i=n.y,m=n.z;return e.x=t*r.m00+i*r.m03+m*r.m06,e.y=t*r.m01+i*r.m04+m*r.m07,e.z=t*r.m02+i*r.m05+m*r.m08,e};A.transformQuat=function(e,n,r){let t=n.x,i=n.y,m=n.z,s=r.x,l=r.y,c=r.z,o=r.w,a=o*t+l*m-c*i,f=o*i+c*t-s*m,u=o*m+s*i-l*t,h=-s*t-l*i-c*m;return e.x=a*o+h*-s+f*-c-u*-l,e.y=f*o+h*-l+u*-s-a*-c,e.z=u*o+h*-c+a*-l-f*-s,e};A.rotateX=function(e,n,r,t){let i=[],m=[];return i.x=n.x-r.x,i.y=n.y-r.y,i.z=n.z-r.z,m.x=i.x,m.y=i.y*Math.cos(t)-i.z*Math.sin(t),m.z=i.y*Math.sin(t)+i.z*Math.cos(t),e.x=m.x+r.x,e.y=m.y+r.y,e.z=m.z+r.z,e};A.rotateY=function(e,n,r,t){let i=[],m=[];return i.x=n.x-r.x,i.y=n.y-r.y,i.z=n.z-r.z,m.x=i.z*Math.sin(t)+i.x*Math.cos(t),m.y=i.y,m.z=i.z*Math.cos(t)-i.x*Math.sin(t),e.x=m.x+r.x,e.y=m.y+r.y,e.z=m.z+r.z,e};A.rotateZ=function(e,n,r,t){let i=[],m=[];return i.x=n.x-r.x,i.y=n.y-r.y,i.z=n.z-r.z,m.x=i.x*Math.cos(t)-i.y*Math.sin(t),m.y=i.x*Math.sin(t)+i.y*Math.cos(t),m.z=i.z,e.x=m.x+r.x,e.y=m.y+r.y,e.z=m.z+r.z,e};A.forEach=function(){let e=A.create();return function(n,r,t,i,m,s){let l,c;for(r||(r=3),t||(t=0),i?c=Math.min(i*r+t,n.length):c=n.length,l=t;l<c;l+=r)e.x=n[l],e.y=n[l+1],e.z=n[l+2],m(e,e,s),n[l]=e.x,n[l+1]=e.y,n[l+2]=e.z;return n}}();A.angle=function(){let e=A.create(),n=A.create();return function(r,t){A.copy(e,r),A.copy(n,t),A.normalize(e,e),A.normalize(n,n);let i=A.dot(e,n);return i>1?0:i<-1?Math.PI:Math.acos(i)}}();A.str=function(e){return`vec3(${e.x}, ${e.y}, ${e.z})`};A.array=function(e,n){return e[0]=n.x,e[1]=n.y,e[2]=n.z,e};A.exactEquals=function(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z};A.equals=function(e,n){let r=e.x,t=e.y,i=e.z,m=n.x,s=n.y,l=n.z;return Math.abs(r-m)<=R*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(t-s)<=R*Math.max(1,Math.abs(t),Math.abs(s))&&Math.abs(i-l)<=R*Math.max(1,Math.abs(i),Math.abs(l))};let oe=new Array(4);class Ue{constructor(n,r,t,i){this.x=n,this.y=r,this.z=t,this.w=i}toJSON(){return oe[0]=this.x,oe[1]=this.y,oe[2]=this.z,oe[3]=this.w,oe}}let F={};F.create=function(){return new Ue(0,0,0,0)};F.new=function(e,n,r,t){return new Ue(e,n,r,t)};F.clone=function(e){return new Ue(e.x,e.y,e.z,e.w)};F.copy=function(e,n){return e.x=n.x,e.y=n.y,e.z=n.z,e.w=n.w,e};F.set=function(e,n,r,t,i){return e.x=n,e.y=r,e.z=t,e.w=i,e};F.add=function(e,n,r){return e.x=n.x+r.x,e.y=n.y+r.y,e.z=n.z+r.z,e.w=n.w+r.w,e};F.subtract=function(e,n,r){return e.x=n.x-r.x,e.y=n.y-r.y,e.z=n.z-r.z,e.w=n.w-r.w,e};F.sub=F.subtract;F.multiply=function(e,n,r){return e.x=n.x*r.x,e.y=n.y*r.y,e.z=n.z*r.z,e.w=n.w*r.w,e};F.mul=F.multiply;F.divide=function(e,n,r){return e.x=n.x/r.x,e.y=n.y/r.y,e.z=n.z/r.z,e.w=n.w/r.w,e};F.div=F.divide;F.ceil=function(e,n){return e.x=Math.ceil(n.x),e.y=Math.ceil(n.y),e.z=Math.ceil(n.z),e.w=Math.ceil(n.w),e};F.floor=function(e,n){return e.x=Math.floor(n.x),e.y=Math.floor(n.y),e.z=Math.floor(n.z),e.w=Math.floor(n.w),e};F.min=function(e,n,r){return e.x=Math.min(n.x,r.x),e.y=Math.min(n.y,r.y),e.z=Math.min(n.z,r.z),e.w=Math.min(n.w,r.w),e};F.max=function(e,n,r){return e.x=Math.max(n.x,r.x),e.y=Math.max(n.y,r.y),e.z=Math.max(n.z,r.z),e.w=Math.max(n.w,r.w),e};F.round=function(e,n){return e.x=Math.round(n.x),e.y=Math.round(n.y),e.z=Math.round(n.z),e.w=Math.round(n.w),e};F.scale=function(e,n,r){return e.x=n.x*r,e.y=n.y*r,e.z=n.z*r,e.w=n.w*r,e};F.scaleAndAdd=function(e,n,r,t){return e.x=n.x+r.x*t,e.y=n.y+r.y*t,e.z=n.z+r.z*t,e.w=n.w+r.w*t,e};F.distance=function(e,n){let r=n.x-e.x,t=n.y-e.y,i=n.z-e.z,m=n.w-e.w;return Math.sqrt(r*r+t*t+i*i+m*m)};F.dist=F.distance;F.squaredDistance=function(e,n){let r=n.x-e.x,t=n.y-e.y,i=n.z-e.z,m=n.w-e.w;return r*r+t*t+i*i+m*m};F.sqrDist=F.squaredDistance;F.length=function(e){let n=e.x,r=e.y,t=e.z,i=e.w;return Math.sqrt(n*n+r*r+t*t+i*i)};F.len=F.length;F.squaredLength=function(e){let n=e.x,r=e.y,t=e.z,i=e.w;return n*n+r*r+t*t+i*i};F.sqrLen=F.squaredLength;F.negate=function(e,n){return e.x=-n.x,e.y=-n.y,e.z=-n.z,e.w=-n.w,e};F.inverse=function(e,n){return e.x=1/n.x,e.y=1/n.y,e.z=1/n.z,e.w=1/n.w,e};F.inverseSafe=function(e,n){let r=n.x,t=n.y,i=n.z,m=n.w;return Math.abs(r)<R?e.x=0:e.x=1/r,Math.abs(t)<R?e.y=0:e.y=1/t,Math.abs(i)<R?e.z=0:e.z=1/i,Math.abs(m)<R?e.w=0:e.w=1/m,e};F.normalize=function(e,n){let r=n.x,t=n.y,i=n.z,m=n.w,s=r*r+t*t+i*i+m*m;return s>0&&(s=1/Math.sqrt(s),e.x=r*s,e.y=t*s,e.z=i*s,e.w=m*s),e};F.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z+e.w*n.w};F.lerp=function(e,n,r,t){let i=n.x,m=n.y,s=n.z,l=n.w;return e.x=i+t*(r.x-i),e.y=m+t*(r.y-m),e.z=s+t*(r.z-s),e.w=l+t*(r.w-l),e};F.random=function(e,n){return n=n||1,e.x=te(),e.y=te(),e.z=te(),e.w=te(),F.normalize(e,e),F.scale(e,e,n),e};F.transformMat4=function(e,n,r){let t=n.x,i=n.y,m=n.z,s=n.w;return e.x=r.m00*t+r.m04*i+r.m08*m+r.m12*s,e.y=r.m01*t+r.m05*i+r.m09*m+r.m13*s,e.z=r.m02*t+r.m06*i+r.m10*m+r.m14*s,e.w=r.m03*t+r.m07*i+r.m11*m+r.m15*s,e};F.transformQuat=function(e,n,r){let t=n.x,i=n.y,m=n.z,s=r.x,l=r.y,c=r.z,o=r.w,a=o*t+l*m-c*i,f=o*i+c*t-s*m,u=o*m+s*i-l*t,h=-s*t-l*i-c*m;return e.x=a*o+h*-s+f*-c-u*-l,e.y=f*o+h*-l+u*-s-a*-c,e.z=u*o+h*-c+a*-l-f*-s,e.w=n.w,e};F.forEach=function(){let e=F.create();return function(n,r,t,i,m,s){let l,c;for(r||(r=4),t||(t=0),i?c=Math.min(i*r+t,n.length):c=n.length,l=t;l<c;l+=r)e.x=n[l],e.y=n[l+1],e.z=n[l+2],e.w=n[l+3],m(e,e,s),n[l]=e.x,n[l+1]=e.y,n[l+2]=e.z,n[l+3]=e.w;return n}}();F.str=function(e){return`vec4(${e.x}, ${e.y}, ${e.z}, ${e.w})`};F.array=function(e,n){return e[0]=n.x,e[1]=n.y,e[2]=n.z,e[3]=n.w,e};F.exactEquals=function(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w};F.equals=function(e,n){let r=e.x,t=e.y,i=e.z,m=e.w,s=n.x,l=n.y,c=n.z,o=n.w;return Math.abs(r-s)<=R*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(t-l)<=R*Math.max(1,Math.abs(t),Math.abs(l))&&Math.abs(i-c)<=R*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(m-o)<=R*Math.max(1,Math.abs(m),Math.abs(o))};let ne=new Array(9);class Je{constructor(n,r,t,i,m,s,l,c,o){this.m00=n,this.m01=r,this.m02=t,this.m03=i,this.m04=m,this.m05=s,this.m06=l,this.m07=c,this.m08=o}toJSON(){return ne[0]=this.m00,ne[1]=this.m01,ne[2]=this.m02,ne[3]=this.m03,ne[4]=this.m04,ne[5]=this.m05,ne[6]=this.m06,ne[7]=this.m07,ne[8]=this.m08,ne}}let G={};G.create=function(){return new Je(1,0,0,0,1,0,0,0,1)};G.new=function(e,n,r,t,i,m,s,l,c){return new Je(e,n,r,t,i,m,s,l,c)};G.clone=function(e){return new Je(e.m00,e.m01,e.m02,e.m03,e.m04,e.m05,e.m06,e.m07,e.m08)};G.copy=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m03,e.m04=n.m04,e.m05=n.m05,e.m06=n.m06,e.m07=n.m07,e.m08=n.m08,e};G.set=function(e,n,r,t,i,m,s,l,c,o){return e.m00=n,e.m01=r,e.m02=t,e.m03=i,e.m04=m,e.m05=s,e.m06=l,e.m07=c,e.m08=o,e};G.identity=function(e){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=1,e.m05=0,e.m06=0,e.m07=0,e.m08=1,e};G.transpose=function(e,n){if(e===n){let r=n.m01,t=n.m02,i=n.m05;e.m01=n.m03,e.m02=n.m06,e.m03=r,e.m05=n.m07,e.m06=t,e.m07=i}else e.m00=n.m00,e.m01=n.m03,e.m02=n.m06,e.m03=n.m01,e.m04=n.m04,e.m05=n.m07,e.m06=n.m02,e.m07=n.m05,e.m08=n.m08;return e};G.invert=function(e,n){let r=n.m00,t=n.m01,i=n.m02,m=n.m03,s=n.m04,l=n.m05,c=n.m06,o=n.m07,a=n.m08,f=a*s-l*o,u=-a*m+l*c,h=o*m-s*c,y=r*f+t*u+i*h;return y?(y=1/y,e.m00=f*y,e.m01=(-a*t+i*o)*y,e.m02=(l*t-i*s)*y,e.m03=u*y,e.m04=(a*r-i*c)*y,e.m05=(-l*r+i*m)*y,e.m06=h*y,e.m07=(-o*r+t*c)*y,e.m08=(s*r-t*m)*y,e):null};G.adjoint=function(e,n){let r=n.m00,t=n.m01,i=n.m02,m=n.m03,s=n.m04,l=n.m05,c=n.m06,o=n.m07,a=n.m08;return e.m00=s*a-l*o,e.m01=i*o-t*a,e.m02=t*l-i*s,e.m03=l*c-m*a,e.m04=r*a-i*c,e.m05=i*m-r*l,e.m06=m*o-s*c,e.m07=t*c-r*o,e.m08=r*s-t*m,e};G.determinant=function(e){let n=e.m00,r=e.m01,t=e.m02,i=e.m03,m=e.m04,s=e.m05,l=e.m06,c=e.m07,o=e.m08;return n*(o*m-s*c)+r*(-o*i+s*l)+t*(c*i-m*l)};G.multiply=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=n.m04,c=n.m05,o=n.m06,a=n.m07,f=n.m08,u=r.m00,h=r.m01,y=r.m02,p=r.m03,g=r.m04,M=r.m05,v=r.m06,_=r.m07,d=r.m08;return e.m00=u*t+h*s+y*o,e.m01=u*i+h*l+y*a,e.m02=u*m+h*c+y*f,e.m03=p*t+g*s+M*o,e.m04=p*i+g*l+M*a,e.m05=p*m+g*c+M*f,e.m06=v*t+_*s+d*o,e.m07=v*i+_*l+d*a,e.m08=v*m+_*c+d*f,e};G.mul=G.multiply;G.translate=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=n.m04,c=n.m05,o=n.m06,a=n.m07,f=n.m08,u=r.x,h=r.y;return e.m00=t,e.m01=i,e.m02=m,e.m03=s,e.m04=l,e.m05=c,e.m06=u*t+h*s+o,e.m07=u*i+h*l+a,e.m08=u*m+h*c+f,e};G.rotate=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=n.m04,c=n.m05,o=n.m06,a=n.m07,f=n.m08,u=Math.sin(r),h=Math.cos(r);return e.m00=h*t+u*s,e.m01=h*i+u*l,e.m02=h*m+u*c,e.m03=h*s-u*t,e.m04=h*l-u*i,e.m05=h*c-u*m,e.m06=o,e.m07=a,e.m08=f,e};G.scale=function(e,n,r){let t=r.x,i=r.y;return e.m00=t*n.m00,e.m01=t*n.m01,e.m02=t*n.m02,e.m03=i*n.m03,e.m04=i*n.m04,e.m05=i*n.m05,e.m06=n.m06,e.m07=n.m07,e.m08=n.m08,e};G.fromMat4=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m04,e.m04=n.m05,e.m05=n.m06,e.m06=n.m08,e.m07=n.m09,e.m08=n.m10,e};G.fromTranslation=function(e,n){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=1,e.m05=0,e.m06=n.x,e.m07=n.y,e.m08=1,e};G.fromRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=t,e.m01=r,e.m02=0,e.m03=-r,e.m04=t,e.m05=0,e.m06=0,e.m07=0,e.m08=1,e};G.fromScaling=function(e,n){return e.m00=n.x,e.m01=0,e.m02=0,e.m03=0,e.m04=n.y,e.m05=0,e.m06=0,e.m07=0,e.m08=1,e};G.fromMat2d=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=0,e.m03=n.m02,e.m04=n.m03,e.m05=0,e.m06=n.m04,e.m07=n.m05,e.m08=1,e};G.fromQuat=function(e,n){let r=n.x,t=n.y,i=n.z,m=n.w,s=r+r,l=t+t,c=i+i,o=r*s,a=t*s,f=t*l,u=i*s,h=i*l,y=i*c,p=m*s,g=m*l,M=m*c;return e.m00=1-f-y,e.m03=a-M,e.m06=u+g,e.m01=a+M,e.m04=1-o-y,e.m07=h-p,e.m02=u-g,e.m05=h+p,e.m08=1-o-f,e};G.fromViewUp=function(){let e=A.new(0,1,0),n=A.create(),r=A.create();return function(t,i,m){return A.sqrLen(i)<R*R||(m=m||e,A.cross(n,m,i),A.sqrLen(n)<R*R)?(G.identity(t),t):(A.cross(r,i,n),G.set(t,n.x,n.y,n.z,r.x,r.y,r.z,i.x,i.y,i.z),t)}}();G.normalFromMat4=function(e,n){let r=n.m00,t=n.m01,i=n.m02,m=n.m03,s=n.m04,l=n.m05,c=n.m06,o=n.m07,a=n.m08,f=n.m09,u=n.m10,h=n.m11,y=n.m12,p=n.m13,g=n.m14,M=n.m15,v=r*l-t*s,_=r*c-i*s,d=r*o-m*s,x=t*c-i*l,w=t*o-m*l,S=i*o-m*c,$=a*p-f*y,j=a*g-u*y,N=a*M-h*y,C=f*g-u*p,O=f*M-h*p,q=u*M-h*g,b=v*q-_*O+d*C+x*N-w*j+S*$;return b?(b=1/b,e.m00=(l*q-c*O+o*C)*b,e.m01=(c*N-s*q-o*j)*b,e.m02=(s*O-l*N+o*$)*b,e.m03=(i*O-t*q-m*C)*b,e.m04=(r*q-i*N+m*j)*b,e.m05=(t*N-r*O-m*$)*b,e.m06=(p*S-g*w+M*x)*b,e.m07=(g*d-y*S-M*_)*b,e.m08=(y*w-p*d+M*v)*b,e):null};G.str=function(e){return`mat3(${e.m00}, ${e.m01}, ${e.m02}, ${e.m03}, ${e.m04}, ${e.m05}, ${e.m06}, ${e.m07}, ${e.m08})`};G.array=function(e,n){return e[0]=n.m00,e[1]=n.m01,e[2]=n.m02,e[3]=n.m03,e[4]=n.m04,e[5]=n.m05,e[6]=n.m06,e[7]=n.m07,e[8]=n.m08,e};G.frob=function(e){return Math.sqrt(Math.pow(e.m00,2)+Math.pow(e.m01,2)+Math.pow(e.m02,2)+Math.pow(e.m03,2)+Math.pow(e.m04,2)+Math.pow(e.m05,2)+Math.pow(e.m06,2)+Math.pow(e.m07,2)+Math.pow(e.m08,2))};G.add=function(e,n,r){return e.m00=n.m00+r.m00,e.m01=n.m01+r.m01,e.m02=n.m02+r.m02,e.m03=n.m03+r.m03,e.m04=n.m04+r.m04,e.m05=n.m05+r.m05,e.m06=n.m06+r.m06,e.m07=n.m07+r.m07,e.m08=n.m08+r.m08,e};G.subtract=function(e,n,r){return e.m00=n.m00-r.m00,e.m01=n.m01-r.m01,e.m02=n.m02-r.m02,e.m03=n.m03-r.m03,e.m04=n.m04-r.m04,e.m05=n.m05-r.m05,e.m06=n.m06-r.m06,e.m07=n.m07-r.m07,e.m08=n.m08-r.m08,e};G.sub=G.subtract;G.multiplyScalar=function(e,n,r){return e.m00=n.m00*r,e.m01=n.m01*r,e.m02=n.m02*r,e.m03=n.m03*r,e.m04=n.m04*r,e.m05=n.m05*r,e.m06=n.m06*r,e.m07=n.m07*r,e.m08=n.m08*r,e};G.multiplyScalarAndAdd=function(e,n,r,t){return e.m00=n.m00+r.m00*t,e.m01=n.m01+r.m01*t,e.m02=n.m02+r.m02*t,e.m03=n.m03+r.m03*t,e.m04=n.m04+r.m04*t,e.m05=n.m05+r.m05*t,e.m06=n.m06+r.m06*t,e.m07=n.m07+r.m07*t,e.m08=n.m08+r.m08*t,e};G.exactEquals=function(e,n){return e.m00===n.m00&&e.m01===n.m01&&e.m02===n.m02&&e.m03===n.m03&&e.m04===n.m04&&e.m05===n.m05&&e.m06===n.m06&&e.m07===n.m07&&e.m08===n.m08};G.equals=function(e,n){let r=e.m00,t=e.m01,i=e.m02,m=e.m03,s=e.m04,l=e.m05,c=e.m06,o=e.m07,a=e.m08,f=n.m00,u=n.m01,h=n.m02,y=n.m03,p=n.m04,g=n.m05,M=n.m06,v=n.m07,_=n.m08;return Math.abs(r-f)<=R*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(t-u)<=R*Math.max(1,Math.abs(t),Math.abs(u))&&Math.abs(i-h)<=R*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(m-y)<=R*Math.max(1,Math.abs(m),Math.abs(y))&&Math.abs(s-p)<=R*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(l-g)<=R*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-M)<=R*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(o-v)<=R*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-_)<=R*Math.max(1,Math.abs(a),Math.abs(_))};let ae=new Array(4);class We{constructor(n,r,t,i){this.x=n,this.y=r,this.z=t,this.w=i}toJSON(){return ae[0]=this.x,ae[1]=this.y,ae[2]=this.z,ae[3]=this.w,ae}}let T={};T.create=function(){return new We(0,0,0,1)};T.new=function(e,n,r,t){return new We(e,n,r,t)};T.clone=function(e){return new We(e.x,e.y,e.z,e.w)};T.copy=F.copy;T.set=F.set;T.identity=function(e){return e.x=0,e.y=0,e.z=0,e.w=1,e};T.rotationTo=function(){let e=A.create(),n=A.new(1,0,0),r=A.new(0,1,0);return function(t,i,m){let s=A.dot(i,m);return s<-.999999?(A.cross(e,n,i),A.length(e)<1e-6&&A.cross(e,r,i),A.normalize(e,e),T.fromAxisAngle(t,e,Math.PI),t):s>.999999?(t.x=0,t.y=0,t.z=0,t.w=1,t):(A.cross(e,i,m),t.x=e.x,t.y=e.y,t.z=e.z,t.w=1+s,T.normalize(t,t))}}();T.getAxisAngle=function(e,n){let r=Math.acos(n.w)*2,t=Math.sin(r/2);return t!=0?(e.x=n.x/t,e.y=n.y/t,e.z=n.z/t):(e.x=1,e.y=0,e.z=0),r};T.multiply=function(e,n,r){let t=n.x,i=n.y,m=n.z,s=n.w,l=r.x,c=r.y,o=r.z,a=r.w;return e.x=t*a+s*l+i*o-m*c,e.y=i*a+s*c+m*l-t*o,e.z=m*a+s*o+t*c-i*l,e.w=s*a-t*l-i*c-m*o,e};T.mul=T.multiply;T.scale=F.scale;T.rotateX=function(e,n,r){r*=.5;let t=n.x,i=n.y,m=n.z,s=n.w,l=Math.sin(r),c=Math.cos(r);return e.x=t*c+s*l,e.y=i*c+m*l,e.z=m*c-i*l,e.w=s*c-t*l,e};T.rotateY=function(e,n,r){r*=.5;let t=n.x,i=n.y,m=n.z,s=n.w,l=Math.sin(r),c=Math.cos(r);return e.x=t*c-m*l,e.y=i*c+s*l,e.z=m*c+t*l,e.w=s*c-i*l,e};T.rotateZ=function(e,n,r){r*=.5;let t=n.x,i=n.y,m=n.z,s=n.w,l=Math.sin(r),c=Math.cos(r);return e.x=t*c+i*l,e.y=i*c-t*l,e.z=m*c+s*l,e.w=s*c-m*l,e};T.rotateAround=function(){let e=A.create(),n=T.create();return function(r,t,i,m){return T.invert(n,t),A.transformQuat(e,i,n),T.fromAxisAngle(n,e,m),T.mul(r,t,n),r}}();T.rotateAroundLocal=function(){let e=T.create();return function(n,r,t,i){return T.fromAxisAngle(e,t,i),T.mul(n,r,e),n}}();T.calculateW=function(e,n){let r=n.x,t=n.y,i=n.z;return e.x=r,e.y=t,e.z=i,e.w=Math.sqrt(Math.abs(1-r*r-t*t-i*i)),e};T.dot=F.dot;T.lerp=F.lerp;T.slerp=function(e,n,r,t){let i=n.x,m=n.y,s=n.z,l=n.w,c=r.x,o=r.y,a=r.z,f=r.w,u,h,y,p,g;return h=i*c+m*o+s*a+l*f,h<0&&(h=-h,c=-c,o=-o,a=-a,f=-f),1-h>1e-6?(u=Math.acos(h),y=Math.sin(u),p=Math.sin((1-t)*u)/y,g=Math.sin(t*u)/y):(p=1-t,g=t),e.x=p*i+g*c,e.y=p*m+g*o,e.z=p*s+g*a,e.w=p*l+g*f,e};T.sqlerp=function(){let e=T.create(),n=T.create();return function(r,t,i,m,s,l){return T.slerp(e,t,s,l),T.slerp(n,i,m,l),T.slerp(r,e,n,2*l*(1-l)),r}}();T.invert=function(e,n){let r=n.x,t=n.y,i=n.z,m=n.w,s=r*r+t*t+i*i+m*m,l=s?1/s:0;return e.x=-r*l,e.y=-t*l,e.z=-i*l,e.w=m*l,e};T.conjugate=function(e,n){return e.x=-n.x,e.y=-n.y,e.z=-n.z,e.w=n.w,e};T.length=F.length;T.len=T.length;T.squaredLength=F.squaredLength;T.sqrLen=T.squaredLength;T.normalize=F.normalize;T.fromAxes=function(){let e=G.create();return function(n,r,t,i){return G.set(e,r.x,r.y,r.z,t.x,t.y,t.z,i.x,i.y,i.z),T.normalize(n,T.fromMat3(n,e))}}();T.fromViewUp=function(){let e=G.create();return function(n,r,t){return G.fromViewUp(e,r,t),e?T.normalize(n,T.fromMat3(n,e)):null}}();T.fromAxisAngle=function(e,n,r){r=r*.5;let t=Math.sin(r);return e.x=t*n.x,e.y=t*n.y,e.z=t*n.z,e.w=Math.cos(r),e};T.fromMat3=function(e,n){let r=n.m00,t=n.m03,i=n.m06,m=n.m01,s=n.m04,l=n.m07,c=n.m02,o=n.m05,a=n.m08,f=r+s+a;if(f>0){let u=.5/Math.sqrt(f+1);e.w=.25/u,e.x=(o-l)*u,e.y=(i-c)*u,e.z=(m-t)*u}else if(r>s&&r>a){let u=2*Math.sqrt(1+r-s-a);e.w=(o-l)/u,e.x=.25*u,e.y=(t+m)/u,e.z=(i+c)/u}else if(s>a){let u=2*Math.sqrt(1+s-r-a);e.w=(i-c)/u,e.x=(t+m)/u,e.y=.25*u,e.z=(l+o)/u}else{let u=2*Math.sqrt(1+a-r-s);e.w=(m-t)/u,e.x=(i+c)/u,e.y=(l+o)/u,e.z=.25*u}return e};T.fromEuler=function(e,n,r,t){let i=.5*Math.PI/180;n*=i,r*=i,t*=i;let m=Math.sin(n),s=Math.cos(n),l=Math.sin(r),c=Math.cos(r),o=Math.sin(t),a=Math.cos(t);return e.x=m*c*a-s*l*o,e.y=s*l*a+m*c*o,e.z=s*c*o-m*l*a,e.w=s*c*a+m*l*o,e};T.str=function(e){return`quat(${e.x}, ${e.y}, ${e.z}, ${e.w})`};T.array=function(e,n){return e[0]=n.x,e[1]=n.y,e[2]=n.z,e[3]=n.w,e};T.exactEquals=F.exactEquals;T.equals=F.equals;let fe=new Array(4);class Qe{constructor(n,r,t,i){this.m00=n,this.m01=r,this.m02=t,this.m03=i}toJSON(){return fe[0]=this.m00,fe[1]=this.m01,fe[2]=this.m02,fe[3]=this.m03,fe}}let B={};B.create=function(){return new Qe(1,0,0,1)};B.new=function(e,n,r,t){return new Qe(e,n,r,t)};B.clone=function(e){return new Qe(e.m00,e.m01,e.m02,e.m03)};B.copy=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m03,e};B.identity=function(e){return e.m00=1,e.m01=0,e.m02=0,e.m03=1,e};B.set=function(e,n,r,t,i){return e.m00=n,e.m01=r,e.m02=t,e.m03=i,e};B.transpose=function(e,n){if(e===n){let r=n.m01;e.m01=n.m02,e.m02=r}else e.m00=n.m00,e.m01=n.m02,e.m02=n.m01,e.m03=n.m03;return e};B.invert=function(e,n){let r=n.m00,t=n.m01,i=n.m02,m=n.m03,s=r*m-i*t;return s?(s=1/s,e.m00=m*s,e.m01=-t*s,e.m02=-i*s,e.m03=r*s,e):null};B.adjoint=function(e,n){let r=n.m00;return e.m00=n.m03,e.m01=-n.m01,e.m02=-n.m02,e.m03=r,e};B.determinant=function(e){return e.m00*e.m03-e.m02*e.m01};B.multiply=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=r.m00,c=r.m01,o=r.m02,a=r.m03;return e.m00=t*l+m*c,e.m01=i*l+s*c,e.m02=t*o+m*a,e.m03=i*o+s*a,e};B.mul=B.multiply;B.rotate=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=Math.sin(r),c=Math.cos(r);return e.m00=t*c+m*l,e.m01=i*c+s*l,e.m02=t*-l+m*c,e.m03=i*-l+s*c,e};B.scale=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=r.x,c=r.y;return e.m00=t*l,e.m01=i*l,e.m02=m*c,e.m03=s*c,e};B.fromRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=t,e.m01=r,e.m02=-r,e.m03=t,e};B.fromScaling=function(e,n){return e.m00=n.x,e.m01=0,e.m02=0,e.m03=n.y,e};B.str=function(e){return`mat2(${e.m00}, ${e.m01}, ${e.m02}, ${e.m03})`};B.array=function(e,n){return e[0]=n.m00,e[1]=n.m01,e[2]=n.m02,e[3]=n.m03,e};B.frob=function(e){return Math.sqrt(Math.pow(e.m00,2)+Math.pow(e.m01,2)+Math.pow(e.m02,2)+Math.pow(e.m03,2))};B.LDU=function(e,n,r,t){e.m02=t.m02/t.m00,r.m00=t.m00,r.m01=t.m01,r.m03=t.m03-e.m02*r.m01};B.add=function(e,n,r){return e.m00=n.m00+r.m00,e.m01=n.m01+r.m01,e.m02=n.m02+r.m02,e.m03=n.m03+r.m03,e};B.subtract=function(e,n,r){return e.m00=n.m00-r.m00,e.m01=n.m01-r.m01,e.m02=n.m02-r.m02,e.m03=n.m03-r.m03,e};B.sub=B.subtract;B.exactEquals=function(e,n){return e.m00===n.m00&&e.m01===n.m01&&e.m02===n.m02&&e.m03===n.m03};B.equals=function(e,n){let r=e.m00,t=e.m01,i=e.m02,m=e.m03,s=n.m00,l=n.m01,c=n.m02,o=n.m03;return Math.abs(r-s)<=R*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(t-l)<=R*Math.max(1,Math.abs(t),Math.abs(l))&&Math.abs(i-c)<=R*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(m-o)<=R*Math.max(1,Math.abs(m),Math.abs(o))};B.multiplyScalar=function(e,n,r){return e.m00=n.m00*r,e.m01=n.m01*r,e.m02=n.m02*r,e.m03=n.m03*r,e};B.multiplyScalarAndAdd=function(e,n,r,t){return e.m00=n.m00+r.m00*t,e.m01=n.m01+r.m01*t,e.m02=n.m02+r.m02*t,e.m03=n.m03+r.m03*t,e};let ie=new Array(6);class Xe{constructor(n,r,t,i,m,s){this.m00=n,this.m01=r,this.m02=t,this.m03=i,this.m04=m,this.m05=s}toJSON(){return ie[0]=this.m00,ie[1]=this.m01,ie[2]=this.m02,ie[3]=this.m03,ie[4]=this.m04,ie[5]=this.m05,ie}}let k={};k.create=function(){return new Xe(1,0,0,1,0,0)};k.new=function(e,n,r,t,i,m){return new Xe(e,n,r,t,i,m)};k.clone=function(e){return new Xe(e.m00,e.m01,e.m02,e.m03,e.m04,e.m05)};k.copy=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m03,e.m04=n.m04,e.m05=n.m05,e};k.identity=function(e){return e.m00=1,e.m01=0,e.m02=0,e.m03=1,e.m04=0,e.m05=0,e};k.set=function(e,n,r,t,i,m,s){return e.m00=n,e.m01=r,e.m02=t,e.m03=i,e.m04=m,e.m05=s,e};k.invert=function(e,n){let r=n.m00,t=n.m01,i=n.m02,m=n.m03,s=n.m04,l=n.m05,c=r*m-t*i;return c?(c=1/c,e.m00=m*c,e.m01=-t*c,e.m02=-i*c,e.m03=r*c,e.m04=(i*l-m*s)*c,e.m05=(t*s-r*l)*c,e):null};k.determinant=function(e){return e.m00*e.m03-e.m01*e.m02};k.multiply=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=n.m04,c=n.m05,o=r.m00,a=r.m01,f=r.m02,u=r.m03,h=r.m04,y=r.m05;return e.m00=t*o+m*a,e.m01=i*o+s*a,e.m02=t*f+m*u,e.m03=i*f+s*u,e.m04=t*h+m*y+l,e.m05=i*h+s*y+c,e};k.mul=k.multiply;k.rotate=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=n.m04,c=n.m05,o=Math.sin(r),a=Math.cos(r);return e.m00=t*a+m*o,e.m01=i*a+s*o,e.m02=t*-o+m*a,e.m03=i*-o+s*a,e.m04=l,e.m05=c,e};k.scale=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=n.m04,c=n.m05,o=r.x,a=r.y;return e.m00=t*o,e.m01=i*o,e.m02=m*a,e.m03=s*a,e.m04=l,e.m05=c,e};k.translate=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=n.m04,c=n.m05,o=r.x,a=r.y;return e.m00=t,e.m01=i,e.m02=m,e.m03=s,e.m04=t*o+m*a+l,e.m05=i*o+s*a+c,e};k.fromRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=t,e.m01=r,e.m02=-r,e.m03=t,e.m04=0,e.m05=0,e};k.fromScaling=function(e,n){return e.m00=n.m00,e.m01=0,e.m02=0,e.m03=n.m01,e.m04=0,e.m05=0,e};k.fromTranslation=function(e,n){return e.m00=1,e.m01=0,e.m02=0,e.m03=1,e.m04=n.x,e.m05=n.y,e};k.fromRTS=function(e,n,r,t){let i=Math.sin(n),m=Math.cos(n);return e.m00=m*t.x,e.m01=i*t.x,e.m02=-i*t.y,e.m03=m*t.y,e.m04=r.x,e.m05=r.y,e};k.str=function(e){return`mat23(${e.m00}, ${e.m01}, ${e.m02}, ${e.m03}, ${e.m04}, ${e.m05})`};k.array=function(e,n){return e[0]=n.m00,e[1]=n.m01,e[2]=n.m02,e[3]=n.m03,e[4]=n.m04,e[5]=n.m05,e};k.array4x4=function(e,n){return e[0]=n.m00,e[1]=n.m01,e[2]=0,e[3]=0,e[4]=n.m02,e[5]=n.m03,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=n.m04,e[13]=n.m05,e[14]=0,e[15]=1,e};k.frob=function(e){return Math.sqrt(Math.pow(e.m00,2)+Math.pow(e.m01,2)+Math.pow(e.m02,2)+Math.pow(e.m03,2)+Math.pow(e.m04,2)+Math.pow(e.m05,2)+1)};k.add=function(e,n,r){return e.m00=n.m00+r.m00,e.m01=n.m01+r.m01,e.m02=n.m02+r.m02,e.m03=n.m03+r.m03,e.m04=n.m04+r.m04,e.m05=n.m05+r.m05,e};k.subtract=function(e,n,r){return e.m00=n.m00-r.m00,e.m01=n.m01-r.m01,e.m02=n.m02-r.m02,e.m03=n.m03-r.m03,e.m04=n.m04-r.m04,e.m05=n.m05-r.m05,e};k.sub=k.subtract;k.multiplyScalar=function(e,n,r){return e.m00=n.m00*r,e.m01=n.m01*r,e.m02=n.m02*r,e.m03=n.m03*r,e.m04=n.m04*r,e.m05=n.m05*r,e};k.multiplyScalarAndAdd=function(e,n,r,t){return e.m00=n.m00+r.m00*t,e.m01=n.m01+r.m01*t,e.m02=n.m02+r.m02*t,e.m03=n.m03+r.m03*t,e.m04=n.m04+r.m04*t,e.m05=n.m05+r.m05*t,e};k.exactEquals=function(e,n){return e.m00===n.m00&&e.m01===n.m01&&e.m02===n.m02&&e.m03===n.m03&&e.m04===n.m04&&e.m05===n.m05};k.equals=function(e,n){let r=e.m00,t=e.m01,i=e.m02,m=e.m03,s=e.m04,l=e.m05,c=n.m00,o=n.m01,a=n.m02,f=n.m03,u=n.m04,h=n.m05;return Math.abs(r-c)<=R*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(t-o)<=R*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(i-a)<=R*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(m-f)<=R*Math.max(1,Math.abs(m),Math.abs(f))&&Math.abs(s-u)<=R*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(l-h)<=R*Math.max(1,Math.abs(l),Math.abs(h))};let H=new Array(16);class Ye{constructor(n,r,t,i,m,s,l,c,o,a,f,u,h,y,p,g){this.m00=n,this.m01=r,this.m02=t,this.m03=i,this.m04=m,this.m05=s,this.m06=l,this.m07=c,this.m08=o,this.m09=a,this.m10=f,this.m11=u,this.m12=h,this.m13=y,this.m14=p,this.m15=g}toJSON(){return H[0]=this.m00,H[1]=this.m01,H[2]=this.m02,H[3]=this.m03,H[4]=this.m04,H[5]=this.m05,H[6]=this.m06,H[7]=this.m07,H[8]=this.m08,H[9]=this.m09,H[10]=this.m10,H[11]=this.m11,H[12]=this.m12,H[13]=this.m13,H[14]=this.m14,H[15]=this.m15,H}}let D={};D.create=function(){return new Ye(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)};D.new=function(e,n,r,t,i,m,s,l,c,o,a,f,u,h,y,p){return new Ye(e,n,r,t,i,m,s,l,c,o,a,f,u,h,y,p)};D.clone=function(e){return new Ye(e.m00,e.m01,e.m02,e.m03,e.m04,e.m05,e.m06,e.m07,e.m08,e.m09,e.m10,e.m11,e.m12,e.m13,e.m14,e.m15)};D.copy=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m03,e.m04=n.m04,e.m05=n.m05,e.m06=n.m06,e.m07=n.m07,e.m08=n.m08,e.m09=n.m09,e.m10=n.m10,e.m11=n.m11,e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15,e};D.set=function(e,n,r,t,i,m,s,l,c,o,a,f,u,h,y,p,g){return e.m00=n,e.m01=r,e.m02=t,e.m03=i,e.m04=m,e.m05=s,e.m06=l,e.m07=c,e.m08=o,e.m09=a,e.m10=f,e.m11=u,e.m12=h,e.m13=y,e.m14=p,e.m15=g,e};D.identity=function(e){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=1,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=1,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};D.transpose=function(e,n){if(e===n){let r=n.m01,t=n.m02,i=n.m03,m=n.m06,s=n.m07,l=n.m11;e.m01=n.m04,e.m02=n.m08,e.m03=n.m12,e.m04=r,e.m06=n.m09,e.m07=n.m13,e.m08=t,e.m09=m,e.m11=n.m14,e.m12=i,e.m13=s,e.m14=l}else e.m00=n.m00,e.m01=n.m04,e.m02=n.m08,e.m03=n.m12,e.m04=n.m01,e.m05=n.m05,e.m06=n.m09,e.m07=n.m13,e.m08=n.m02,e.m09=n.m06,e.m10=n.m10,e.m11=n.m14,e.m12=n.m03,e.m13=n.m07,e.m14=n.m11,e.m15=n.m15;return e};D.invert=function(e,n){let r=n.m00,t=n.m01,i=n.m02,m=n.m03,s=n.m04,l=n.m05,c=n.m06,o=n.m07,a=n.m08,f=n.m09,u=n.m10,h=n.m11,y=n.m12,p=n.m13,g=n.m14,M=n.m15,v=r*l-t*s,_=r*c-i*s,d=r*o-m*s,x=t*c-i*l,w=t*o-m*l,S=i*o-m*c,$=a*p-f*y,j=a*g-u*y,N=a*M-h*y,C=f*g-u*p,O=f*M-h*p,q=u*M-h*g,b=v*q-_*O+d*C+x*N-w*j+S*$;return b?(b=1/b,e.m00=(l*q-c*O+o*C)*b,e.m01=(i*O-t*q-m*C)*b,e.m02=(p*S-g*w+M*x)*b,e.m03=(u*w-f*S-h*x)*b,e.m04=(c*N-s*q-o*j)*b,e.m05=(r*q-i*N+m*j)*b,e.m06=(g*d-y*S-M*_)*b,e.m07=(a*S-u*d+h*_)*b,e.m08=(s*O-l*N+o*$)*b,e.m09=(t*N-r*O-m*$)*b,e.m10=(y*w-p*d+M*v)*b,e.m11=(f*d-a*w-h*v)*b,e.m12=(l*j-s*C-c*$)*b,e.m13=(r*C-t*j+i*$)*b,e.m14=(p*_-y*x-g*v)*b,e.m15=(a*x-f*_+u*v)*b,e):null};D.adjoint=function(e,n){let r=n.m00,t=n.m01,i=n.m02,m=n.m03,s=n.m04,l=n.m05,c=n.m06,o=n.m07,a=n.m08,f=n.m09,u=n.m10,h=n.m11,y=n.m12,p=n.m13,g=n.m14,M=n.m15;return e.m00=l*(u*M-h*g)-f*(c*M-o*g)+p*(c*h-o*u),e.m01=-(t*(u*M-h*g)-f*(i*M-m*g)+p*(i*h-m*u)),e.m02=t*(c*M-o*g)-l*(i*M-m*g)+p*(i*o-m*c),e.m03=-(t*(c*h-o*u)-l*(i*h-m*u)+f*(i*o-m*c)),e.m04=-(s*(u*M-h*g)-a*(c*M-o*g)+y*(c*h-o*u)),e.m05=r*(u*M-h*g)-a*(i*M-m*g)+y*(i*h-m*u),e.m06=-(r*(c*M-o*g)-s*(i*M-m*g)+y*(i*o-m*c)),e.m07=r*(c*h-o*u)-s*(i*h-m*u)+a*(i*o-m*c),e.m08=s*(f*M-h*p)-a*(l*M-o*p)+y*(l*h-o*f),e.m09=-(r*(f*M-h*p)-a*(t*M-m*p)+y*(t*h-m*f)),e.m10=r*(l*M-o*p)-s*(t*M-m*p)+y*(t*o-m*l),e.m11=-(r*(l*h-o*f)-s*(t*h-m*f)+a*(t*o-m*l)),e.m12=-(s*(f*g-u*p)-a*(l*g-c*p)+y*(l*u-c*f)),e.m13=r*(f*g-u*p)-a*(t*g-i*p)+y*(t*u-i*f),e.m14=-(r*(l*g-c*p)-s*(t*g-i*p)+y*(t*c-i*l)),e.m15=r*(l*u-c*f)-s*(t*u-i*f)+a*(t*c-i*l),e};D.determinant=function(e){let n=e.m00,r=e.m01,t=e.m02,i=e.m03,m=e.m04,s=e.m05,l=e.m06,c=e.m07,o=e.m08,a=e.m09,f=e.m10,u=e.m11,h=e.m12,y=e.m13,p=e.m14,g=e.m15,M=n*s-r*m,v=n*l-t*m,_=n*c-i*m,d=r*l-t*s,x=r*c-i*s,w=t*c-i*l,S=o*y-a*h,$=o*p-f*h,j=o*g-u*h,N=a*p-f*y,C=a*g-u*y,O=f*g-u*p;return M*O-v*C+_*N+d*j-x*$+w*S};D.multiply=function(e,n,r){let t=n.m00,i=n.m01,m=n.m02,s=n.m03,l=n.m04,c=n.m05,o=n.m06,a=n.m07,f=n.m08,u=n.m09,h=n.m10,y=n.m11,p=n.m12,g=n.m13,M=n.m14,v=n.m15,_=r.m00,d=r.m01,x=r.m02,w=r.m03;return e.m00=_*t+d*l+x*f+w*p,e.m01=_*i+d*c+x*u+w*g,e.m02=_*m+d*o+x*h+w*M,e.m03=_*s+d*a+x*y+w*v,_=r.m04,d=r.m05,x=r.m06,w=r.m07,e.m04=_*t+d*l+x*f+w*p,e.m05=_*i+d*c+x*u+w*g,e.m06=_*m+d*o+x*h+w*M,e.m07=_*s+d*a+x*y+w*v,_=r.m08,d=r.m09,x=r.m10,w=r.m11,e.m08=_*t+d*l+x*f+w*p,e.m09=_*i+d*c+x*u+w*g,e.m10=_*m+d*o+x*h+w*M,e.m11=_*s+d*a+x*y+w*v,_=r.m12,d=r.m13,x=r.m14,w=r.m15,e.m12=_*t+d*l+x*f+w*p,e.m13=_*i+d*c+x*u+w*g,e.m14=_*m+d*o+x*h+w*M,e.m15=_*s+d*a+x*y+w*v,e};D.mul=D.multiply;D.translate=function(e,n,r){let t=r.x,i=r.y,m=r.z,s,l,c,o,a,f,u,h,y,p,g,M;return n===e?(e.m12=n.m00*t+n.m04*i+n.m08*m+n.m12,e.m13=n.m01*t+n.m05*i+n.m09*m+n.m13,e.m14=n.m02*t+n.m06*i+n.m10*m+n.m14,e.m15=n.m03*t+n.m07*i+n.m11*m+n.m15):(s=n.m00,l=n.m01,c=n.m02,o=n.m03,a=n.m04,f=n.m05,u=n.m06,h=n.m07,y=n.m08,p=n.m09,g=n.m10,M=n.m11,e.m00=s,e.m01=l,e.m02=c,e.m03=o,e.m04=a,e.m05=f,e.m06=u,e.m07=h,e.m08=y,e.m09=p,e.m10=g,e.m11=M,e.m12=s*t+a*i+y*m+n.m12,e.m13=l*t+f*i+p*m+n.m13,e.m14=c*t+u*i+g*m+n.m14,e.m15=o*t+h*i+M*m+n.m15),e};D.scale=function(e,n,r){let t=r.x,i=r.y,m=r.z;return e.m00=n.m00*t,e.m01=n.m01*t,e.m02=n.m02*t,e.m03=n.m03*t,e.m04=n.m04*i,e.m05=n.m05*i,e.m06=n.m06*i,e.m07=n.m07*i,e.m08=n.m08*m,e.m09=n.m09*m,e.m10=n.m10*m,e.m11=n.m11*m,e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15,e};D.rotate=function(e,n,r,t){let i=t.x,m=t.y,s=t.z,l,c,o,a,f,u,h,y,p,g,M,v,_,d,x,w,S,$,j,N,C,O,q,b,E=Math.sqrt(i*i+m*m+s*s);return Math.abs(E)<R?null:(E=1/E,i*=E,m*=E,s*=E,l=Math.sin(r),c=Math.cos(r),o=1-c,a=n.m00,f=n.m01,u=n.m02,h=n.m03,y=n.m04,p=n.m05,g=n.m06,M=n.m07,v=n.m08,_=n.m09,d=n.m10,x=n.m11,w=i*i*o+c,S=m*i*o+s*l,$=s*i*o-m*l,j=i*m*o-s*l,N=m*m*o+c,C=s*m*o+i*l,O=i*s*o+m*l,q=m*s*o-i*l,b=s*s*o+c,e.m00=a*w+y*S+v*$,e.m01=f*w+p*S+_*$,e.m02=u*w+g*S+d*$,e.m03=h*w+M*S+x*$,e.m04=a*j+y*N+v*C,e.m05=f*j+p*N+_*C,e.m06=u*j+g*N+d*C,e.m07=h*j+M*N+x*C,e.m08=a*O+y*q+v*b,e.m09=f*O+p*q+_*b,e.m10=u*O+g*q+d*b,e.m11=h*O+M*q+x*b,n!==e&&(e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15),e)};D.rotateX=function(e,n,r){let t=Math.sin(r),i=Math.cos(r),m=n.m04,s=n.m05,l=n.m06,c=n.m07,o=n.m08,a=n.m09,f=n.m10,u=n.m11;return n!==e&&(e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m03,e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15),e.m04=m*i+o*t,e.m05=s*i+a*t,e.m06=l*i+f*t,e.m07=c*i+u*t,e.m08=o*i-m*t,e.m09=a*i-s*t,e.m10=f*i-l*t,e.m11=u*i-c*t,e};D.rotateY=function(e,n,r){let t=Math.sin(r),i=Math.cos(r),m=n.m00,s=n.m01,l=n.m02,c=n.m03,o=n.m08,a=n.m09,f=n.m10,u=n.m11;return n!==e&&(e.m04=n.m04,e.m05=n.m05,e.m06=n.m06,e.m07=n.m07,e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15),e.m00=m*i-o*t,e.m01=s*i-a*t,e.m02=l*i-f*t,e.m03=c*i-u*t,e.m08=m*t+o*i,e.m09=s*t+a*i,e.m10=l*t+f*i,e.m11=c*t+u*i,e};D.rotateZ=function(e,n,r){let t=Math.sin(r),i=Math.cos(r),m=n.m00,s=n.m01,l=n.m02,c=n.m03,o=n.m04,a=n.m05,f=n.m06,u=n.m07;return n!==e&&(e.m08=n.m08,e.m09=n.m09,e.m10=n.m10,e.m11=n.m11,e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15),e.m00=m*i+o*t,e.m01=s*i+a*t,e.m02=l*i+f*t,e.m03=c*i+u*t,e.m04=o*i-m*t,e.m05=a*i-s*t,e.m06=f*i-l*t,e.m07=u*i-c*t,e};D.fromTranslation=function(e,n){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=1,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=1,e.m11=0,e.m12=n.x,e.m13=n.y,e.m14=n.z,e.m15=1,e};D.fromScaling=function(e,n){return e.m00=n.x,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=n.y,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=n.z,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};D.fromRotation=function(e,n,r){let t=r.x,i=r.y,m=r.z,s=Math.sqrt(t*t+i*i+m*m),l,c,o;return Math.abs(s)<R?null:(s=1/s,t*=s,i*=s,m*=s,l=Math.sin(n),c=Math.cos(n),o=1-c,e.m00=t*t*o+c,e.m01=i*t*o+m*l,e.m02=m*t*o-i*l,e.m03=0,e.m04=t*i*o-m*l,e.m05=i*i*o+c,e.m06=m*i*o+t*l,e.m07=0,e.m08=t*m*o+i*l,e.m09=i*m*o-t*l,e.m10=m*m*o+c,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e)};D.fromXRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=t,e.m06=r,e.m07=0,e.m08=0,e.m09=-r,e.m10=t,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};D.fromYRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=t,e.m01=0,e.m02=-r,e.m03=0,e.m04=0,e.m05=1,e.m06=0,e.m07=0,e.m08=r,e.m09=0,e.m10=t,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};D.fromZRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=t,e.m01=r,e.m02=0,e.m03=0,e.m04=-r,e.m05=t,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=1,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};D.fromRT=function(e,n,r){let t=n.x,i=n.y,m=n.z,s=n.w,l=t+t,c=i+i,o=m+m,a=t*l,f=t*c,u=t*o,h=i*c,y=i*o,p=m*o,g=s*l,M=s*c,v=s*o;return e.m00=1-(h+p),e.m01=f+v,e.m02=u-M,e.m03=0,e.m04=f-v,e.m05=1-(a+p),e.m06=y+g,e.m07=0,e.m08=u+M,e.m09=y-g,e.m10=1-(a+h),e.m11=0,e.m12=r.x,e.m13=r.y,e.m14=r.z,e.m15=1,e};D.getTranslation=function(e,n){return e.x=n.m12,e.y=n.m13,e.z=n.m14,e};D.getScaling=function(e,n){let r=n.m00,t=n.m01,i=n.m02,m=n.m04,s=n.m05,l=n.m06,c=n.m08,o=n.m09,a=n.m10;return e.x=Math.sqrt(r*r+t*t+i*i),e.y=Math.sqrt(m*m+s*s+l*l),e.z=Math.sqrt(c*c+o*o+a*a),e};D.getRotation=function(e,n){let r=n.m00+n.m05+n.m10,t=0;return r>0?(t=Math.sqrt(r+1)*2,e.w=.25*t,e.x=(n.m06-n.m09)/t,e.y=(n.m08-n.m02)/t,e.z=(n.m01-n.m04)/t):n.m00>n.m05&n.m00>n.m10?(t=Math.sqrt(1+n.m00-n.m05-n.m10)*2,e.w=(n.m06-n.m09)/t,e.x=.25*t,e.y=(n.m01+n.m04)/t,e.z=(n.m08+n.m02)/t):n.m05>n.m10?(t=Math.sqrt(1+n.m05-n.m00-n.m10)*2,e.w=(n.m08-n.m02)/t,e.x=(n.m01+n.m04)/t,e.y=.25*t,e.z=(n.m06+n.m09)/t):(t=Math.sqrt(1+n.m10-n.m00-n.m05)*2,e.w=(n.m01-n.m04)/t,e.x=(n.m08+n.m02)/t,e.y=(n.m06+n.m09)/t,e.z=.25*t),e};D.fromRTS=function(e,n,r,t){let i=n.x,m=n.y,s=n.z,l=n.w,c=i+i,o=m+m,a=s+s,f=i*c,u=i*o,h=i*a,y=m*o,p=m*a,g=s*a,M=l*c,v=l*o,_=l*a,d=t.x,x=t.y,w=t.z;return e.m00=(1-(y+g))*d,e.m01=(u+_)*d,e.m02=(h-v)*d,e.m03=0,e.m04=(u-_)*x,e.m05=(1-(f+g))*x,e.m06=(p+M)*x,e.m07=0,e.m08=(h+v)*w,e.m09=(p-M)*w,e.m10=(1-(f+y))*w,e.m11=0,e.m12=r.x,e.m13=r.y,e.m14=r.z,e.m15=1,e};D.fromRTSOrigin=function(e,n,r,t,i){let m=n.x,s=n.y,l=n.z,c=n.w,o=m+m,a=s+s,f=l+l,u=m*o,h=m*a,y=m*f,p=s*a,g=s*f,M=l*f,v=c*o,_=c*a,d=c*f,x=t.x,w=t.y,S=t.z,$=i.x,j=i.y,N=i.z;return e.m00=(1-(p+M))*x,e.m01=(h+d)*x,e.m02=(y-_)*x,e.m03=0,e.m04=(h-d)*w,e.m05=(1-(u+M))*w,e.m06=(g+v)*w,e.m07=0,e.m08=(y+_)*S,e.m09=(g-v)*S,e.m10=(1-(u+p))*S,e.m11=0,e.m12=r.x+$-(e.m00*$+e.m04*j+e.m08*N),e.m13=r.y+j-(e.m01*$+e.m05*j+e.m09*N),e.m14=r.z+N-(e.m02*$+e.m06*j+e.m10*N),e.m15=1,e};D.fromQuat=function(e,n){let r=n.x,t=n.y,i=n.z,m=n.w,s=r+r,l=t+t,c=i+i,o=r*s,a=t*s,f=t*l,u=i*s,h=i*l,y=i*c,p=m*s,g=m*l,M=m*c;return e.m00=1-f-y,e.m01=a+M,e.m02=u-g,e.m03=0,e.m04=a-M,e.m05=1-o-y,e.m06=h+p,e.m07=0,e.m08=u+g,e.m09=h-p,e.m10=1-o-f,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};D.frustum=function(e,n,r,t,i,m,s){let l=1/(r-n),c=1/(i-t),o=1/(m-s);return e.m00=m*2*l,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=m*2*c,e.m06=0,e.m07=0,e.m08=(r+n)*l,e.m09=(i+t)*c,e.m10=(s+m)*o,e.m11=-1,e.m12=0,e.m13=0,e.m14=s*m*2*o,e.m15=0,e};D.perspective=function(e,n,r,t,i){let m=1/Math.tan(n/2),s=1/(t-i);return e.m00=m/r,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=m,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=(i+t)*s,e.m11=-1,e.m12=0,e.m13=0,e.m14=2*i*t*s,e.m15=0,e};D.perspectiveFromFieldOfView=function(e,n,r,t){let i=Math.tan(n.upDegrees*Math.PI/180),m=Math.tan(n.downDegrees*Math.PI/180),s=Math.tan(n.leftDegrees*Math.PI/180),l=Math.tan(n.rightDegrees*Math.PI/180),c=2/(s+l),o=2/(i+m);return e.m00=c,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=o,e.m06=0,e.m07=0,e.m08=-((s-l)*c*.5),e.m09=(i-m)*o*.5,e.m10=t/(r-t),e.m11=-1,e.m12=0,e.m13=0,e.m14=t*r/(r-t),e.m15=0,e};D.ortho=function(e,n,r,t,i,m,s){let l=1/(n-r),c=1/(t-i),o=1/(m-s);return e.m00=-2*l,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=-2*c,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=2*o,e.m11=0,e.m12=(n+r)*l,e.m13=(i+t)*c,e.m14=(s+m)*o,e.m15=1,e};D.lookAt=function(e,n,r,t){let i,m,s,l,c,o,a,f,u,h,y=n.x,p=n.y,g=n.z,M=t.x,v=t.y,_=t.z,d=r.x,x=r.y,w=r.z;return Math.abs(y-d)<R&&Math.abs(p-x)<R&&Math.abs(g-w)<R?D.identity(e):(a=y-d,f=p-x,u=g-w,h=1/Math.sqrt(a*a+f*f+u*u),a*=h,f*=h,u*=h,i=v*u-_*f,m=_*a-M*u,s=M*f-v*a,h=Math.sqrt(i*i+m*m+s*s),h?(h=1/h,i*=h,m*=h,s*=h):(i=0,m=0,s=0),l=f*s-u*m,c=u*i-a*s,o=a*m-f*i,h=Math.sqrt(l*l+c*c+o*o),h?(h=1/h,l*=h,c*=h,o*=h):(l=0,c=0,o=0),e.m00=i,e.m01=l,e.m02=a,e.m03=0,e.m04=m,e.m05=c,e.m06=f,e.m07=0,e.m08=s,e.m09=o,e.m10=u,e.m11=0,e.m12=-(i*y+m*p+s*g),e.m13=-(l*y+c*p+o*g),e.m14=-(a*y+f*p+u*g),e.m15=1,e)};D.str=function(e){return`mat4(${e.m00}, ${e.m01}, ${e.m02}, ${e.m03}, ${e.m04}, ${e.m05}, ${e.m06}, ${e.m07}, ${e.m08}, ${e.m09}, ${e.m10}, ${e.m11}, ${e.m12}, ${e.m13}, ${e.m14}, ${e.m15})`};D.array=function(e,n){return e[0]=n.m00,e[1]=n.m01,e[2]=n.m02,e[3]=n.m03,e[4]=n.m04,e[5]=n.m05,e[6]=n.m06,e[7]=n.m07,e[8]=n.m08,e[9]=n.m09,e[10]=n.m10,e[11]=n.m11,e[12]=n.m12,e[13]=n.m13,e[14]=n.m14,e[15]=n.m15,e};D.frob=function(e){return Math.sqrt(Math.pow(e.m00,2)+Math.pow(e.m01,2)+Math.pow(e.m02,2)+Math.pow(e.m03,2)+Math.pow(e.m04,2)+Math.pow(e.m05,2)+Math.pow(e.m06,2)+Math.pow(e.m07,2)+Math.pow(e.m08,2)+Math.pow(e.m09,2)+Math.pow(e.m10,2)+Math.pow(e.m11,2)+Math.pow(e.m12,2)+Math.pow(e.m13,2)+Math.pow(e.m14,2)+Math.pow(e.m15,2))};D.add=function(e,n,r){return e.m00=n.m00+r.m00,e.m01=n.m01+r.m01,e.m02=n.m02+r.m02,e.m03=n.m03+r.m03,e.m04=n.m04+r.m04,e.m05=n.m05+r.m05,e.m06=n.m06+r.m06,e.m07=n.m07+r.m07,e.m08=n.m08+r.m08,e.m09=n.m09+r.m09,e.m10=n.m10+r.m10,e.m11=n.m11+r.m11,e.m12=n.m12+r.m12,e.m13=n.m13+r.m13,e.m14=n.m14+r.m14,e.m15=n.m15+r.m15,e};D.subtract=function(e,n,r){return e.m00=n.m00-r.m00,e.m01=n.m01-r.m01,e.m02=n.m02-r.m02,e.m03=n.m03-r.m03,e.m04=n.m04-r.m04,e.m05=n.m05-r.m05,e.m06=n.m06-r.m06,e.m07=n.m07-r.m07,e.m08=n.m08-r.m08,e.m09=n.m09-r.m09,e.m10=n.m10-r.m10,e.m11=n.m11-r.m11,e.m12=n.m12-r.m12,e.m13=n.m13-r.m13,e.m14=n.m14-r.m14,e.m15=n.m15-r.m15,e};D.sub=D.subtract;D.multiplyScalar=function(e,n,r){return e.m00=n.m00*r,e.m01=n.m01*r,e.m02=n.m02*r,e.m03=n.m03*r,e.m04=n.m04*r,e.m05=n.m05*r,e.m06=n.m06*r,e.m07=n.m07*r,e.m08=n.m08*r,e.m09=n.m09*r,e.m10=n.m10*r,e.m11=n.m11*r,e.m12=n.m12*r,e.m13=n.m13*r,e.m14=n.m14*r,e.m15=n.m15*r,e};D.multiplyScalarAndAdd=function(e,n,r,t){return e.m00=n.m00+r.m00*t,e.m01=n.m01+r.m01*t,e.m02=n.m02+r.m02*t,e.m03=n.m03+r.m03*t,e.m04=n.m04+r.m04*t,e.m05=n.m05+r.m05*t,e.m06=n.m06+r.m06*t,e.m07=n.m07+r.m07*t,e.m08=n.m08+r.m08*t,e.m09=n.m09+r.m09*t,e.m10=n.m10+r.m10*t,e.m11=n.m11+r.m11*t,e.m12=n.m12+r.m12*t,e.m13=n.m13+r.m13*t,e.m14=n.m14+r.m14*t,e.m15=n.m15+r.m15*t,e};D.exactEquals=function(e,n){return e.m00===n.m00&&e.m01===n.m01&&e.m02===n.m02&&e.m03===n.m03&&e.m04===n.m04&&e.m05===n.m05&&e.m06===n.m06&&e.m07===n.m07&&e.m08===n.m08&&e.m09===n.m09&&e.m10===n.m10&&e.m11===n.m11&&e.m12===n.m12&&e.m13===n.m13&&e.m14===n.m14&&e.m15===n.m15};D.equals=function(e,n){let r=e.m00,t=e.m01,i=e.m02,m=e.m03,s=e.m04,l=e.m05,c=e.m06,o=e.m07,a=e.m08,f=e.m09,u=e.m10,h=e.m11,y=e.m12,p=e.m13,g=e.m14,M=e.m15,v=n.m00,_=n.m01,d=n.m02,x=n.m03,w=n.m04,S=n.m05,$=n.m06,j=n.m07,N=n.m08,C=n.m09,O=n.m10,q=n.m11,b=n.m12,E=n.m13,U=n.m14,V=n.m15;return Math.abs(r-v)<=R*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(t-_)<=R*Math.max(1,Math.abs(t),Math.abs(_))&&Math.abs(i-d)<=R*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(m-x)<=R*Math.max(1,Math.abs(m),Math.abs(x))&&Math.abs(s-w)<=R*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(l-S)<=R*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-$)<=R*Math.max(1,Math.abs(c),Math.abs($))&&Math.abs(o-j)<=R*Math.max(1,Math.abs(o),Math.abs(j))&&Math.abs(a-N)<=R*Math.max(1,Math.abs(a),Math.abs(N))&&Math.abs(f-C)<=R*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(u-O)<=R*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(h-q)<=R*Math.max(1,Math.abs(h),Math.abs(q))&&Math.abs(y-b)<=R*Math.max(1,Math.abs(y),Math.abs(b))&&Math.abs(p-E)<=R*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(g-U)<=R*Math.max(1,Math.abs(g),Math.abs(U))&&Math.abs(M-V)<=R*Math.max(1,Math.abs(M),Math.abs(V))};let we=new Array(3);class Ze{constructor(n,r,t){this.r=n,this.g=r,this.b=t}toJSON(){return we[0]=this.r,we[1]=this.g,we[2]=this.b,we}}let Q={};Q.create=function(){return new Ze(1,1,1)};Q.new=function(e,n,r){return new Ze(e,n,r)};Q.clone=function(e){return new Ze(e.r,e.g,e.b,e.a)};Q.copy=function(e,n){return e.r=n.r,e.g=n.g,e.b=n.b,e};Q.set=function(e,n,r,t){return e.r=n,e.g=r,e.b=t,e};Q.fromHex=function(e,n){let r=(n>>16)/255,t=(n>>8&255)/255,i=(n&255)/255;return e.r=r,e.g=t,e.b=i,e};Q.add=function(e,n,r){return e.r=n.r+r.r,e.g=n.g+r.g,e.b=n.b+r.b,e};Q.subtract=function(e,n,r){return e.r=n.r-r.r,e.g=n.g-r.g,e.b=n.b-r.b,e};Q.sub=Q.subtract;Q.multiply=function(e,n,r){return e.r=n.r*r.r,e.g=n.g*r.g,e.b=n.b*r.b,e};Q.mul=Q.multiply;Q.divide=function(e,n,r){return e.r=n.r/r.r,e.g=n.g/r.g,e.b=n.b/r.b,e};Q.div=Q.divide;Q.scale=function(e,n,r){return e.r=n.r*r,e.g=n.g*r,e.b=n.b*r,e};Q.lerp=function(e,n,r,t){let i=n.r,m=n.g,s=n.b;return e.r=i+t*(r.r-i),e.g=m+t*(r.g-m),e.b=s+t*(r.b-s),e};Q.str=function(e){return`color3(${e.r}, ${e.g}, ${e.b})`};Q.array=function(e,n){return e[0]=n.r,e[1]=n.g,e[2]=n.b,e};Q.exactEquals=function(e,n){return e.r===n.r&&e.g===n.g&&e.b===n.b};Q.equals=function(e,n){let r=e.r,t=e.g,i=e.b,m=n.r,s=n.g,l=n.b;return Math.abs(r-m)<=R*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(t-s)<=R*Math.max(1,Math.abs(t),Math.abs(s))&&Math.abs(i-l)<=R*Math.max(1,Math.abs(i),Math.abs(l))};Q.hex=function(e){return e.r*255<<16|e.g*255<<8|e.b*255};let he=new Array(4);class He{constructor(n,r,t,i){this.r=n,this.g=r,this.b=t,this.a=i}toJSON(){return he[0]=this.r,he[1]=this.g,he[2]=this.b,he[3]=this.a,he}}let X={};X.create=function(){return new He(1,1,1,1)};X.new=function(e,n,r,t){return new He(e,n,r,t)};X.clone=function(e){return new He(e.r,e.g,e.b,e.a)};X.copy=function(e,n){return e.r=n.r,e.g=n.g,e.b=n.b,e.a=n.a,e};X.set=function(e,n,r,t,i){return e.r=n,e.g=r,e.b=t,e.a=i,e};X.fromHex=function(e,n){let r=(n>>24)/255,t=(n>>16&255)/255,i=(n>>8&255)/255,m=(n&255)/255;return e.r=r,e.g=t,e.b=i,e.a=m,e};X.add=function(e,n,r){return e.r=n.r+r.r,e.g=n.g+r.g,e.b=n.b+r.b,e.a=n.a+r.a,e};X.subtract=function(e,n,r){return e.r=n.r-r.r,e.g=n.g-r.g,e.b=n.b-r.b,e.a=n.a-r.a,e};X.sub=X.subtract;X.multiply=function(e,n,r){return e.r=n.r*r.r,e.g=n.g*r.g,e.b=n.b*r.b,e.a=n.a*r.a,e};X.mul=X.multiply;X.divide=function(e,n,r){return e.r=n.r/r.r,e.g=n.g/r.g,e.b=n.b/r.b,e.a=n.a/r.a,e};X.div=X.divide;X.scale=function(e,n,r){return e.r=n.r*r,e.g=n.g*r,e.b=n.b*r,e.a=n.a*r,e};X.lerp=function(e,n,r,t){let i=n.r,m=n.g,s=n.b,l=n.a;return e.r=i+t*(r.r-i),e.g=m+t*(r.g-m),e.b=s+t*(r.b-s),e.a=l+t*(r.a-l),e};X.str=function(e){return`color4(${e.r}, ${e.g}, ${e.b}, ${e.a})`};X.array=function(e,n){return e[0]=n.r,e[1]=n.g,e[2]=n.b,e[3]=n.a,e};X.exactEquals=function(e,n){return e.r===n.r&&e.g===n.g&&e.b===n.b&&e.a===n.a};X.equals=function(e,n){let r=e.r,t=e.g,i=e.b,m=e.a,s=n.r,l=n.g,c=n.b,o=n.a;return Math.abs(r-s)<=R*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(t-l)<=R*Math.max(1,Math.abs(t),Math.abs(l))&&Math.abs(i-c)<=R*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(m-o)<=R*Math.max(1,Math.abs(m),Math.abs(o))};X.hex=function(e){return(e.r*255<<24|e.g*255<<16|e.b*255<<8|e.a*255)>>>0};let Hr=Zr;const qn=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:R,approx:Sr,bits:Hr,clamp:br,clamp01:Cr,color3:Q,color4:X,equals:zr,lerp:Ar,mat2:B,mat23:k,mat3:G,mat4:D,nextPow2:Rr,quat:T,random:te,randomRange:En,randomRangeInt:Er,toDegree:Or,toRadian:Lr,vec2:P,vec3:A,vec4:F},Symbol.toStringTag,{value:"Module"}));function Kr(e,n,r,t){let i,m=25;const s=qn["w"in n[0]?"vec4":"z"in n[0]?"vec3":"vec2"];for(let a=1/0,f=m+1;f--;){let u=s.squaredDistance(r,vn(e,n,f/m,t));u<a&&(a=u,i=f)}let l=Math.max((i-1)/m,0),c=Math.min((i+1)/m,1);return et(l,c,a=>s.squaredDistance(r,vn(e,n,a,t)),1e-4)}function et(e,n,r,t){t===void 0&&(t=1e-10);let i=e,m=n,s;for(;m-i>t;)s=(m+i)/2,r(s-t)<r(s+t)?m=s:i=s;return s}function vn(e,n,r,t){n.length<2&&console.error("At least 2 control points are required");const i=qn["w"in n[0]?"vec4":"z"in n[0]?"vec3":"vec2"];t?t.forEach((l,c)=>{i.copy(l,n[c])}):t=n.map(l=>i.clone(l));for(var m=n.length-1;m--;)for(var s=0;s<=m;++s)i.lerp(t[s],t[s],t[s+1],r);return i.copy(e,t[0])}function _e(e,n){const r=P,t=e.map(()=>r.create()),i=r.create();return{relative_position:Kr(i,e.map(s=>r.new(s.x,s.y)),r.new(n.x,n.y),t),absolute_point:{x:i.x,y:i.y}}}function nt(){function e(t,{segments:i}){t.beginPath();const{x:m,y:s,hx:l,hy:c}=i[0],{x:o,y:a,hx:f,hy:u}=i[1];t.moveTo(m,s),t.bezierCurveTo(l,c,f,u,o,a);for(var h=1;h<i.length-1;h++){const{x:y,y:p,hx:g,hy:M}=i[h],{x:v,y:_,hx:d,hy:x}=i[h+1];t.moveTo(y,p);const{x:w,y:S}=reverse(y,p,g,M);t.bezierCurveTo(w,S,d,x,v,_)}}function n({px:t,py:i,segments:m,w:s}){const{x:l,y:c,hx:o,hy:a}=m[0],{x:f,y:u,hx:h,hy:y}=m[1],{relative_position:p,absolute_point:{x:g,y:M}}=_e([{x:l,y:c},{x:o,y:a},{x:h,y},{x:f,y:u}],{x:t,y:i});if(me(g,M,t,i)<s/2)return!0;for(var v=1;v<m.length-1;v++){const{x:_,y:d,hx:x,hy:w}=m[v],{x:S,y:$,hx:j,hy:N}=m[v+1],{x:C,y:O}=reverse(_,d,x,w),{relative_position:q,absolute_point:{x:b,y:E}}=_e([{x:_,y:d},{x:C,y:O},{x:j,y:N},{x:S,y:$}],{x:t,y:i});if(me(b,E,t,i)<s/2)return!0}}function r({px:t,py:i,segments:m,w:s}){const{x:l,y:c,hx:o,hy:a}=m[0],{x:f,y:u,hx:h,hy:y}=m[1];let{absolute_point:p}=_e([{x:l,y:c},{x:o,y:a},{x:h,y},{x:f,y:u}],{x:t,y:i}),g=me(p.x,p.y,t,i);for(var M=1;M<m.length-1;M++){const{x:v,y:_,hx:d,hy:x}=m[M],{x:w,y:S,hx:$,hy:j}=m[M+1],{x:N,y:C}=reverse(v,_,d,x),{absolute_point:O}=_e([{x:v,y:_},{x:N,y:C},{x:$,y:j},{x:w,y:S}],{x:t,y:i}),q=me(O.x,O.y,t,i);q<g&&(g=q,p=O)}return p}return{draw:e,pointOnShape:n,getClosestPoint:r}}function rt(){function e(t,{segments:i}){t.beginPath(),t.moveTo(i[0].x,i[0].y);for(var m=1;m<i.length;m++){const{x:s,y:l}=i[m];t.lineTo(s,l)}t.closePath()}function n({px:t,py:i,segments:m,w:s}){let l=!1;for(let c=0,o=m.length-1;c<m.length;o=c++){const a=m[c].x,f=m[c].y,u=m[o].x,h=m[o].y;f>i!=h>i&&t<(u-a)*(i-f)/(h-f)+a&&(l=!l)}return l}function r({px:t,py:i,segments:m}){let s=1/0,l=null;m.push(m[0]);for(let c=0;c<m.length-1;c+=1){const{x:o,y:a}=m[c],{x:f,y:u}=m[c+1],h=je(t,i,o,a,f,u),y=me(t,i,h.x,h.y);y<s&&(s=y,l=h)}return l}return{draw:e,pointOnShape:n,getClosestPoint:r}}const $n={rect:Mr(),ellipse:xr(),shape:rt()},tt={line:vr(),curve:nt()};function it(e,n,r,t,{properties:{w:i,h:m},update:s}){const{surface:l,w:c,h:o,x:a,y:f}=t;c!=null&&o!=null&&(l.properties.offset.w=l.properties.w/c,l.properties.offset.h=l.properties.h/o),l.properties.offset.x=a,l.properties.offset.y=f,l.properties.parents.push(s);function u(){pr(r,t)}const h={draw:u,layer:t.layer};function y(){const p=e.indexOf(h);p>-1&&e.splice(p,1),s()}return e.push(h),{remove:y}}function mt(e,n,r,t,i){let m;r.type in $n?m=st(n,r):m=lt(n,r);const s={draw:m.draw,layer:r.layer};e.push(s);function l({x:f,y:u}){return{px:(f-i.x)*i.w,py:(u-i.y)*i.h,...r}}function c(f){return m.shape.pointOnShape(l(f))}function o(f){return m.shape.getClosestPoint(l(f))}function a(){const f=e.indexOf(s);f>-1&&e.splice(f,1),t()}return r.pointOnShape=c,r.getClosestPoint=o,r.remove=a,yr(t,r)}function st(e,n){const r=$n[n.type];function t(){const i={...n};i.cx!=null&&(i.x-=i.cx),i.cy!=null&&(i.y-=i.cy),dr(e,i,r.draw)}return{draw:t,shape:r}}function lt(e,n){const r=tt[n.type];function t(){gr(e,n,r.draw)}return{draw:t,shape:r}}function Fn({w:e,h:n,canvas:r=null}){r==null&&(r=document.createElement("canvas")),r.width=e,r.height=n;const t=r.getContext("2d"),i={w:1,h:1,x:0,y:0},m=[],s=[];var l={canvas:r,ctx:t,add:u,update:h,beguinTransaction:a,endTransaction:f,properties:{parents:s,w:e,h:n,offset:i}},c=!1,o=!1;function a(){c=!0,o=!1}function f(){c=!1,o&&h(),o=!1}function u(y){let p;return y.layer||(y.layer=0),y.surface?(p=it(m,s,t,y,l),h(),p):(p=mt(m,t,y,h,i),h(),p)}function h(){if(c){o=!0;return}t.clearRect(0,0,e,n);for(const y of m.sort((p,g)=>p.layer-g.layer))y.draw();for(const y of s)y()}return l}const ee=Fn({w:800,h:600});var Ke=800/2,en=600/2;ee.beguinTransaction();const Tn=ee.add({type:"ellipse",backgroundColor:"#ffc",border:{thickness:1,color:"#ccc"},x:Ke,y:en,w:100,h:100}),Nn=ee.add({type:"rect",backgroundColor:"#ffc",border:{thickness:1,color:"#ccc",radius:10},x:Ke-120,y:en,w:100,h:100}),Pn=ee.add({type:"shape",backgroundColor:"#ffc",border:{thickness:1,color:"#ccc"},segments:[{x:300,y:20},{x:400,y:100},{x:500,y:20},{x:400,y:50}],w:10}),In=ee.add({type:"line",backgroundColor:"#ffc",border:{thickness:1,color:"#ccc"},segments:[{x:300,y:100},{x:400,y:200},{x:500,y:100}],w:10}),Dn=ee.add({type:"curve",backgroundColor:"#ffc",border:{thickness:1,color:"#ccc"},segments:[{x:20,y:20,hx:100,hy:20},{x:100,y:100,hx:100,hy:100}],w:10}),ct=de(Tn),ot=de(Nn),at=de(In),ft=de(Dn),ht=de(Pn);ee.endTransaction();const nn=Fn({w:800,h:600,canvas:ur("canvas",null)});nn.add({surface:ee,x:100,y:100});nn.canvas.$parent(document.body);nn.canvas.addEventListener("mousemove",e=>{ee.beguinTransaction(),ue(e,Nn),ue(e,In),ue(e,Dn),ue(e,Pn),ue(e,Tn),ct(e),ot(e),at(e),ft(e),ht(e),ee.endTransaction()});function de(e){const n=ee.add({type:"ellipse",backgroundColor:"#f00",border:{thickness:1,color:"#ccc"},x:Ke,y:en,w:10,h:10,cx:5,cy:5,layer:1});return function(r){const{x:t,y:i}=e.getClosestPoint({x:r.offsetX,y:r.offsetY});n.x=t,n.y=i}}function ue(e,n){n.pointOnShape({x:e.offsetX,y:e.offsetY})?n.backgroundColor="#cff":n.backgroundColor="#ffc"}
