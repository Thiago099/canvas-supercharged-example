(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&t(m)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Gn(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var r=function t(){if(this instanceof t){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(n,i);return new s}return n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),r}var Be={},tn=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Vn=function(e,n){n=n||{};var r=1,t=1;function i(L){var z=L.match(/\n/g);z&&(r+=z.length);var P=L.lastIndexOf(`
`);t=~P?L.length-P:t+L.length}function s(){var L={line:r,column:t};return function(z){return z.position=new m(L),y(),z}}function m(L){this.start=L,this.end={line:r,column:t},this.source=n.source}m.prototype.content=e;var l=[];function c(L){var z=new Error(n.source+":"+r+":"+t+": "+L);if(z.reason=L,z.filename=n.source,z.line=r,z.column=t,z.source=e,n.silent)l.push(z);else throw z}function o(){var L=u();return{type:"stylesheet",stylesheet:{source:n.source,rules:L,parsingErrors:l}}}function a(){return h(/^{\s*/)}function f(){return h(/^}/)}function u(){var L,z=[];for(y(),p(z);e.length&&e.charAt(0)!="}"&&(L=B()||J());)L!==!1&&(z.push(L),p(z));return z}function h(L){var z=L.exec(e);if(z){var P=z[0];return i(P),e=e.slice(P.length),z}}function y(){h(/^\s*/)}function p(L){var z;for(L=L||[];z=g();)z!==!1&&L.push(z);return L}function g(){var L=s();if(!(e.charAt(0)!="/"||e.charAt(1)!="*")){for(var z=2;e.charAt(z)!=""&&(e.charAt(z)!="*"||e.charAt(z+1)!="/");)++z;if(z+=2,e.charAt(z-1)==="")return c("End of comment missing");var P=e.slice(2,z-2);return t+=2,i(P),e=e.slice(z),t+=2,L({type:"comment",comment:P})}}function x(){var L=h(/^([^{]+)/);if(L)return re(L[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(z){return z.replace(/,/g,"‌")}).split(/\s*(?![^(]*\)),\s*/).map(function(z){return z.replace(/\u200C/g,",")})}function v(){var L=s(),z=h(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(z){if(z=re(z[0]),!h(/^:\s*/))return c("property missing ':'");var P=h(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),W=L({type:"declaration",property:z.replace(tn,""),value:P?re(P[0]).replace(tn,""):""});return h(/^[;\s]*/),W}}function _(){var L=[];if(!a())return c("missing '{'");p(L);for(var z;z=v();)z!==!1&&(L.push(z),p(L));return f()?L:c("missing '}'")}function d(){for(var L,z=[],P=s();L=h(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)z.push(L[1]),h(/^,\s*/);if(z.length)return P({type:"keyframe",values:z,declarations:_()})}function M(){var L=s(),P=h(/^@([-\w]+)?keyframes\s*/);if(P){var z=P[1],P=h(/^([-\w]+)\s*/);if(!P)return c("@keyframes missing name");var W=P[1];if(!a())return c("@keyframes missing '{'");for(var ee,me=p();ee=d();)me.push(ee),me=me.concat(p());return f()?L({type:"keyframes",name:W,vendor:z,keyframes:me}):c("@keyframes missing '}'")}}function w(){var L=s(),z=h(/^@supports *([^{]+)/);if(z){var P=re(z[1]);if(!a())return c("@supports missing '{'");var W=p().concat(u());return f()?L({type:"supports",supports:P,rules:W}):c("@supports missing '}'")}}function S(){var L=s(),z=h(/^@host\s*/);if(z){if(!a())return c("@host missing '{'");var P=p().concat(u());return f()?L({type:"host",rules:P}):c("@host missing '}'")}}function $(){var L=s(),z=h(/^@media *([^{]+)/);if(z){var P=re(z[1]);if(!a())return c("@media missing '{'");var W=p().concat(u());return f()?L({type:"media",media:P,rules:W}):c("@media missing '}'")}}function j(){var L=s(),z=h(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(z)return L({type:"custom-media",name:re(z[1]),media:re(z[2])})}function D(){var L=s(),z=h(/^@page */);if(z){var P=x()||[];if(!a())return c("@page missing '{'");for(var W=p(),ee;ee=v();)W.push(ee),W=W.concat(p());return f()?L({type:"page",selectors:P,declarations:W}):c("@page missing '}'")}}function C(){var L=s(),z=h(/^@([-\w]+)?document *([^{]+)/);if(z){var P=re(z[1]),W=re(z[2]);if(!a())return c("@document missing '{'");var ee=p().concat(u());return f()?L({type:"document",document:W,vendor:P,rules:ee}):c("@document missing '}'")}}function O(){var L=s(),z=h(/^@font-face\s*/);if(z){if(!a())return c("@font-face missing '{'");for(var P=p(),W;W=v();)P.push(W),P=P.concat(p());return f()?L({type:"font-face",declarations:P}):c("@font-face missing '}'")}}var F=U("import"),b=U("charset"),E=U("namespace");function U(L){var z=new RegExp("^@"+L+"\\s*([^;]+);");return function(){var P=s(),W=h(z);if(W){var ee={type:L};return ee[L]=W[1].trim(),P(ee)}}}function B(){if(e[0]=="@")return M()||$()||j()||w()||F()||b()||E()||C()||D()||S()||O()}function J(){var L=s(),z=x();return z?(p(),L({type:"rule",selectors:z,declarations:_()})):c("selector missing")}return Ie(o())};function re(e){return e?e.replace(/^\s+|\s+$/g,""):""}function Ie(e,n){var r=e&&typeof e.type=="string",t=r?e:n;for(var i in e){var s=e[i];Array.isArray(s)?s.forEach(function(m){Ie(m,t)}):s&&typeof s=="object"&&Ie(s,t)}return r&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:n||null}),e}var zn=Ce;function Ce(e){this.options=e||{}}Ce.prototype.emit=function(e){return e};Ce.prototype.visit=function(e){return this[e.type](e)};Ce.prototype.mapVisit=function(e,n){var r="";n=n||"";for(var t=0,i=e.length;t<i;t++)r+=this.visit(e[t]),n&&t<i-1&&(r+=this.emit(n));return r};var je={exports:{}};typeof Object.create=="function"?je.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:je.exports=function(n,r){if(r){n.super_=r;var t=function(){};t.prototype=r.prototype,n.prototype=new t,n.prototype.constructor=n}};var Sn=je.exports,bn=zn,Un=Sn,Wn=Z;function Z(e){bn.call(this,e)}Un(Z,bn);Z.prototype.compile=function(e){return e.stylesheet.rules.map(this.visit,this).join("")};Z.prototype.comment=function(e){return this.emit("",e.position)};Z.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)};Z.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")};Z.prototype.document=function(e){var n="@"+(e.vendor||"")+"document "+e.document;return this.emit(n,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")};Z.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)};Z.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)};Z.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")};Z.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit("{")+this.mapVisit(e.keyframes)+this.emit("}")};Z.prototype.keyframe=function(e){var n=e.declarations;return this.emit(e.values.join(","),e.position)+this.emit("{")+this.mapVisit(n)+this.emit("}")};Z.prototype.page=function(e){var n=e.selectors.length?e.selectors.join(", "):"";return this.emit("@page "+n,e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")};Z.prototype["font-face"]=function(e){return this.emit("@font-face",e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")};Z.prototype.host=function(e){return this.emit("@host",e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")};Z.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)};Z.prototype.rule=function(e){var n=e.declarations;return n.length?this.emit(e.selectors.join(","),e.position)+this.emit("{")+this.mapVisit(n)+this.emit("}"):""};Z.prototype.declaration=function(e){return this.emit(e.property+":"+e.value,e.position)+this.emit(";")};var Cn=zn,Jn=Sn,Qn=Y;function Y(e){e=e||{},Cn.call(this,e),this.indentation=e.indent}Jn(Y,Cn);Y.prototype.compile=function(e){return this.stylesheet(e)};Y.prototype.stylesheet=function(e){return this.mapVisit(e.stylesheet.rules,`

`)};Y.prototype.comment=function(e){return this.emit(this.indent()+"/*"+e.comment+"*/",e.position)};Y.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)};Y.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(this.indent(-1)+`
}`)};Y.prototype.document=function(e){var n="@"+(e.vendor||"")+"document "+e.document;return this.emit(n,e.position)+this.emit(`  {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(this.indent(-1)+`
}`)};Y.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)};Y.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)};Y.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(this.indent(-1)+`
}`)};Y.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.keyframes,`
`)+this.emit(this.indent(-1)+"}")};Y.prototype.keyframe=function(e){var n=e.declarations;return this.emit(this.indent())+this.emit(e.values.join(", "),e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(n,`
`)+this.emit(this.indent(-1)+`
`+this.indent()+`}
`)};Y.prototype.page=function(e){var n=e.selectors.length?e.selectors.join(", ")+" ":"";return this.emit("@page "+n,e.position)+this.emit(`{
`)+this.emit(this.indent(1))+this.mapVisit(e.declarations,`
`)+this.emit(this.indent(-1))+this.emit(`
}`)};Y.prototype["font-face"]=function(e){return this.emit("@font-face ",e.position)+this.emit(`{
`)+this.emit(this.indent(1))+this.mapVisit(e.declarations,`
`)+this.emit(this.indent(-1))+this.emit(`
}`)};Y.prototype.host=function(e){return this.emit("@host",e.position)+this.emit(` {
`+this.indent(1))+this.mapVisit(e.rules,`

`)+this.emit(this.indent(-1)+`
}`)};Y.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)};Y.prototype.rule=function(e){var n=this.indent(),r=e.declarations;return r.length?this.emit(e.selectors.map(function(t){return n+t}).join(`,
`),e.position)+this.emit(` {
`)+this.emit(this.indent(1))+this.mapVisit(r,`
`)+this.emit(this.indent(-1))+this.emit(`
`+this.indent()+"}"):""};Y.prototype.declaration=function(e){return this.emit(this.indent())+this.emit(e.property+": "+e.value,e.position)+this.emit(";")};Y.prototype.indent=function(e){return this.level=this.level||1,e!=null?(this.level+=e,""):Array(this.level).join(this.indentation||"  ")};var ge={exports:{}},oe={},Ae={},Me={},xe={},sn;function Xn(){if(sn)return xe;sn=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return xe.encode=function(n){if(0<=n&&n<e.length)return e[n];throw new TypeError("Must be between 0 and 63: "+n)},xe.decode=function(n){var r=65,t=90,i=97,s=122,m=48,l=57,c=43,o=47,a=26,f=52;return r<=n&&n<=t?n-r:i<=n&&n<=s?n-i+a:m<=n&&n<=l?n-m+f:n==c?62:n==o?63:-1},xe}var mn;function An(){if(mn)return Me;mn=1;var e=Xn(),n=5,r=1<<n,t=r-1,i=r;function s(l){return l<0?(-l<<1)+1:(l<<1)+0}function m(l){var c=(l&1)===1,o=l>>1;return c?-o:o}return Me.encode=function(c){var o="",a,f=s(c);do a=f&t,f>>>=n,f>0&&(a|=i),o+=e.encode(a);while(f>0);return o},Me.decode=function(c,o,a){var f=c.length,u=0,h=0,y,p;do{if(o>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(p=e.decode(c.charCodeAt(o++)),p===-1)throw new Error("Invalid base64 digit: "+c.charAt(o-1));y=!!(p&i),p&=t,u=u+(p<<h),h+=n}while(y);a.value=m(u),a.rest=o},Me}var Le={},ln;function de(){return ln||(ln=1,function(e){function n(d,M,w){if(M in d)return d[M];if(arguments.length===3)return w;throw new Error('"'+M+'" is a required argument.')}e.getArg=n;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,t=/^data:.+\,.+$/;function i(d){var M=d.match(r);return M?{scheme:M[1],auth:M[2],host:M[3],port:M[4],path:M[5]}:null}e.urlParse=i;function s(d){var M="";return d.scheme&&(M+=d.scheme+":"),M+="//",d.auth&&(M+=d.auth+"@"),d.host&&(M+=d.host),d.port&&(M+=":"+d.port),d.path&&(M+=d.path),M}e.urlGenerate=s;function m(d){var M=d,w=i(d);if(w){if(!w.path)return d;M=w.path}for(var S=e.isAbsolute(M),$=M.split(/\/+/),j,D=0,C=$.length-1;C>=0;C--)j=$[C],j==="."?$.splice(C,1):j===".."?D++:D>0&&(j===""?($.splice(C+1,D),D=0):($.splice(C,2),D--));return M=$.join("/"),M===""&&(M=S?"/":"."),w?(w.path=M,s(w)):M}e.normalize=m;function l(d,M){d===""&&(d="."),M===""&&(M=".");var w=i(M),S=i(d);if(S&&(d=S.path||"/"),w&&!w.scheme)return S&&(w.scheme=S.scheme),s(w);if(w||M.match(t))return M;if(S&&!S.host&&!S.path)return S.host=M,s(S);var $=M.charAt(0)==="/"?M:m(d.replace(/\/+$/,"")+"/"+M);return S?(S.path=$,s(S)):$}e.join=l,e.isAbsolute=function(d){return d.charAt(0)==="/"||r.test(d)};function c(d,M){d===""&&(d="."),d=d.replace(/\/$/,"");for(var w=0;M.indexOf(d+"/")!==0;){var S=d.lastIndexOf("/");if(S<0||(d=d.slice(0,S),d.match(/^([^\/]+:\/)?\/*$/)))return M;++w}return Array(w+1).join("../")+M.substr(d.length+1)}e.relative=c;var o=function(){var d=Object.create(null);return!("__proto__"in d)}();function a(d){return d}function f(d){return h(d)?"$"+d:d}e.toSetString=o?a:f;function u(d){return h(d)?d.slice(1):d}e.fromSetString=o?a:u;function h(d){if(!d)return!1;var M=d.length;if(M<9||d.charCodeAt(M-1)!==95||d.charCodeAt(M-2)!==95||d.charCodeAt(M-3)!==111||d.charCodeAt(M-4)!==116||d.charCodeAt(M-5)!==111||d.charCodeAt(M-6)!==114||d.charCodeAt(M-7)!==112||d.charCodeAt(M-8)!==95||d.charCodeAt(M-9)!==95)return!1;for(var w=M-10;w>=0;w--)if(d.charCodeAt(w)!==36)return!1;return!0}function y(d,M,w){var S=g(d.source,M.source);return S!==0||(S=d.originalLine-M.originalLine,S!==0)||(S=d.originalColumn-M.originalColumn,S!==0||w)||(S=d.generatedColumn-M.generatedColumn,S!==0)||(S=d.generatedLine-M.generatedLine,S!==0)?S:g(d.name,M.name)}e.compareByOriginalPositions=y;function p(d,M,w){var S=d.generatedLine-M.generatedLine;return S!==0||(S=d.generatedColumn-M.generatedColumn,S!==0||w)||(S=g(d.source,M.source),S!==0)||(S=d.originalLine-M.originalLine,S!==0)||(S=d.originalColumn-M.originalColumn,S!==0)?S:g(d.name,M.name)}e.compareByGeneratedPositionsDeflated=p;function g(d,M){return d===M?0:d===null?1:M===null?-1:d>M?1:-1}function x(d,M){var w=d.generatedLine-M.generatedLine;return w!==0||(w=d.generatedColumn-M.generatedColumn,w!==0)||(w=g(d.source,M.source),w!==0)||(w=d.originalLine-M.originalLine,w!==0)||(w=d.originalColumn-M.originalColumn,w!==0)?w:g(d.name,M.name)}e.compareByGeneratedPositionsInflated=x;function v(d){return JSON.parse(d.replace(/^\)]}'[^\n]*\n/,""))}e.parseSourceMapInput=v;function _(d,M,w){if(M=M||"",d&&(d[d.length-1]!=="/"&&M[0]!=="/"&&(d+="/"),M=d+M),w){var S=i(w);if(!S)throw new Error("sourceMapURL could not be parsed");if(S.path){var $=S.path.lastIndexOf("/");$>=0&&(S.path=S.path.substring(0,$+1))}M=l(s(S),M)}return m(M)}e.computeSourceURL=_}(Le)),Le}var Oe={},cn;function Ln(){if(cn)return Oe;cn=1;var e=de(),n=Object.prototype.hasOwnProperty,r=typeof Map<"u";function t(){this._array=[],this._set=r?new Map:Object.create(null)}return t.fromArray=function(s,m){for(var l=new t,c=0,o=s.length;c<o;c++)l.add(s[c],m);return l},t.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},t.prototype.add=function(s,m){var l=r?s:e.toSetString(s),c=r?this.has(s):n.call(this._set,l),o=this._array.length;(!c||m)&&this._array.push(s),c||(r?this._set.set(s,o):this._set[l]=o)},t.prototype.has=function(s){if(r)return this._set.has(s);var m=e.toSetString(s);return n.call(this._set,m)},t.prototype.indexOf=function(s){if(r){var m=this._set.get(s);if(m>=0)return m}else{var l=e.toSetString(s);if(n.call(this._set,l))return this._set[l]}throw new Error('"'+s+'" is not in the set.')},t.prototype.at=function(s){if(s>=0&&s<this._array.length)return this._array[s];throw new Error("No element indexed by "+s)},t.prototype.toArray=function(){return this._array.slice()},Oe.ArraySet=t,Oe}var Ee={},on;function Yn(){if(on)return Ee;on=1;var e=de();function n(t,i){var s=t.generatedLine,m=i.generatedLine,l=t.generatedColumn,c=i.generatedColumn;return m>s||m==s&&c>=l||e.compareByGeneratedPositionsInflated(t,i)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(i,s){this._array.forEach(i,s)},r.prototype.add=function(i){n(this._last,i)?(this._last=i,this._array.push(i)):(this._sorted=!1,this._array.push(i))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Ee.MappingList=r,Ee}var an;function On(){if(an)return Ae;an=1;var e=An(),n=de(),r=Ln().ArraySet,t=Yn().MappingList;function i(s){s||(s={}),this._file=n.getArg(s,"file",null),this._sourceRoot=n.getArg(s,"sourceRoot",null),this._skipValidation=n.getArg(s,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new t,this._sourcesContents=null}return i.prototype._version=3,i.fromSourceMap=function(m){var l=m.sourceRoot,c=new i({file:m.file,sourceRoot:l});return m.eachMapping(function(o){var a={generated:{line:o.generatedLine,column:o.generatedColumn}};o.source!=null&&(a.source=o.source,l!=null&&(a.source=n.relative(l,a.source)),a.original={line:o.originalLine,column:o.originalColumn},o.name!=null&&(a.name=o.name)),c.addMapping(a)}),m.sources.forEach(function(o){var a=o;l!==null&&(a=n.relative(l,o)),c._sources.has(a)||c._sources.add(a);var f=m.sourceContentFor(o);f!=null&&c.setSourceContent(o,f)}),c},i.prototype.addMapping=function(m){var l=n.getArg(m,"generated"),c=n.getArg(m,"original",null),o=n.getArg(m,"source",null),a=n.getArg(m,"name",null);this._skipValidation||this._validateMapping(l,c,o,a),o!=null&&(o=String(o),this._sources.has(o)||this._sources.add(o)),a!=null&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:o,name:a})},i.prototype.setSourceContent=function(m,l){var c=m;this._sourceRoot!=null&&(c=n.relative(this._sourceRoot,c)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[n.toSetString(c)]=l):this._sourcesContents&&(delete this._sourcesContents[n.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},i.prototype.applySourceMap=function(m,l,c){var o=l;if(l==null){if(m.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);o=m.file}var a=this._sourceRoot;a!=null&&(o=n.relative(a,o));var f=new r,u=new r;this._mappings.unsortedForEach(function(h){if(h.source===o&&h.originalLine!=null){var y=m.originalPositionFor({line:h.originalLine,column:h.originalColumn});y.source!=null&&(h.source=y.source,c!=null&&(h.source=n.join(c,h.source)),a!=null&&(h.source=n.relative(a,h.source)),h.originalLine=y.line,h.originalColumn=y.column,y.name!=null&&(h.name=y.name))}var p=h.source;p!=null&&!f.has(p)&&f.add(p);var g=h.name;g!=null&&!u.has(g)&&u.add(g)},this),this._sources=f,this._names=u,m.sources.forEach(function(h){var y=m.sourceContentFor(h);y!=null&&(c!=null&&(h=n.join(c,h)),a!=null&&(h=n.relative(a,h)),this.setSourceContent(h,y))},this)},i.prototype._validateMapping=function(m,l,c,o){if(l&&typeof l.line!="number"&&typeof l.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(m&&"line"in m&&"column"in m&&m.line>0&&m.column>=0&&!l&&!c&&!o)){if(m&&"line"in m&&"column"in m&&l&&"line"in l&&"column"in l&&m.line>0&&m.column>=0&&l.line>0&&l.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:m,source:c,original:l,name:o}))}},i.prototype._serializeMappings=function(){for(var m=0,l=1,c=0,o=0,a=0,f=0,u="",h,y,p,g,x=this._mappings.toArray(),v=0,_=x.length;v<_;v++){if(y=x[v],h="",y.generatedLine!==l)for(m=0;y.generatedLine!==l;)h+=";",l++;else if(v>0){if(!n.compareByGeneratedPositionsInflated(y,x[v-1]))continue;h+=","}h+=e.encode(y.generatedColumn-m),m=y.generatedColumn,y.source!=null&&(g=this._sources.indexOf(y.source),h+=e.encode(g-f),f=g,h+=e.encode(y.originalLine-1-o),o=y.originalLine-1,h+=e.encode(y.originalColumn-c),c=y.originalColumn,y.name!=null&&(p=this._names.indexOf(y.name),h+=e.encode(p-a),a=p)),u+=h}return u},i.prototype._generateSourcesContent=function(m,l){return m.map(function(c){if(!this._sourcesContents)return null;l!=null&&(c=n.relative(l,c));var o=n.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)},i.prototype.toJSON=function(){var m={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(m.file=this._file),this._sourceRoot!=null&&(m.sourceRoot=this._sourceRoot),this._sourcesContents&&(m.sourcesContent=this._generateSourcesContent(m.sources,m.sourceRoot)),m},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},Ae.SourceMapGenerator=i,Ae}var ae={},Re={},fn;function Zn(){return fn||(fn=1,function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function n(r,t,i,s,m,l){var c=Math.floor((t-r)/2)+r,o=m(i,s[c],!0);return o===0?c:o>0?t-c>1?n(c,t,i,s,m,l):l==e.LEAST_UPPER_BOUND?t<s.length?t:-1:c:c-r>1?n(r,c,i,s,m,l):l==e.LEAST_UPPER_BOUND?c:r<0?-1:r}e.search=function(t,i,s,m){if(i.length===0)return-1;var l=n(-1,i.length,t,i,s,m||e.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&s(i[l],i[l-1],!0)===0;)--l;return l}}(Re)),Re}var Fe={},hn;function Hn(){if(hn)return Fe;hn=1;function e(t,i,s){var m=t[i];t[i]=t[s],t[s]=m}function n(t,i){return Math.round(t+Math.random()*(i-t))}function r(t,i,s,m){if(s<m){var l=n(s,m),c=s-1;e(t,l,m);for(var o=t[m],a=s;a<m;a++)i(t[a],o)<=0&&(c+=1,e(t,c,a));e(t,c+1,a);var f=c+1;r(t,i,s,f-1),r(t,i,f+1,m)}}return Fe.quickSort=function(t,i){r(t,i,0,t.length-1)},Fe}var un;function Kn(){if(un)return ae;un=1;var e=de(),n=Zn(),r=Ln().ArraySet,t=An(),i=Hn().quickSort;function s(o,a){var f=o;return typeof o=="string"&&(f=e.parseSourceMapInput(o)),f.sections!=null?new c(f,a):new m(f,a)}s.fromSourceMap=function(o,a){return m.fromSourceMap(o,a)},s.prototype._version=3,s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),s.prototype._charIsMappingSeparator=function(a,f){var u=a.charAt(f);return u===";"||u===","},s.prototype._parseMappings=function(a,f){throw new Error("Subclasses must implement _parseMappings")},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2,s.prototype.eachMapping=function(a,f,u){var h=f||null,y=u||s.GENERATED_ORDER,p;switch(y){case s.GENERATED_ORDER:p=this._generatedMappings;break;case s.ORIGINAL_ORDER:p=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var g=this.sourceRoot;p.map(function(x){var v=x.source===null?null:this._sources.at(x.source);return v=e.computeSourceURL(g,v,this._sourceMapURL),{source:v,generatedLine:x.generatedLine,generatedColumn:x.generatedColumn,originalLine:x.originalLine,originalColumn:x.originalColumn,name:x.name===null?null:this._names.at(x.name)}},this).forEach(a,h)},s.prototype.allGeneratedPositionsFor=function(a){var f=e.getArg(a,"line"),u={source:e.getArg(a,"source"),originalLine:f,originalColumn:e.getArg(a,"column",0)};if(u.source=this._findSourceIndex(u.source),u.source<0)return[];var h=[],y=this._findMapping(u,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,n.LEAST_UPPER_BOUND);if(y>=0){var p=this._originalMappings[y];if(a.column===void 0)for(var g=p.originalLine;p&&p.originalLine===g;)h.push({line:e.getArg(p,"generatedLine",null),column:e.getArg(p,"generatedColumn",null),lastColumn:e.getArg(p,"lastGeneratedColumn",null)}),p=this._originalMappings[++y];else for(var x=p.originalColumn;p&&p.originalLine===f&&p.originalColumn==x;)h.push({line:e.getArg(p,"generatedLine",null),column:e.getArg(p,"generatedColumn",null),lastColumn:e.getArg(p,"lastGeneratedColumn",null)}),p=this._originalMappings[++y]}return h},ae.SourceMapConsumer=s;function m(o,a){var f=o;typeof o=="string"&&(f=e.parseSourceMapInput(o));var u=e.getArg(f,"version"),h=e.getArg(f,"sources"),y=e.getArg(f,"names",[]),p=e.getArg(f,"sourceRoot",null),g=e.getArg(f,"sourcesContent",null),x=e.getArg(f,"mappings"),v=e.getArg(f,"file",null);if(u!=this._version)throw new Error("Unsupported version: "+u);p&&(p=e.normalize(p)),h=h.map(String).map(e.normalize).map(function(_){return p&&e.isAbsolute(p)&&e.isAbsolute(_)?e.relative(p,_):_}),this._names=r.fromArray(y.map(String),!0),this._sources=r.fromArray(h,!0),this._absoluteSources=this._sources.toArray().map(function(_){return e.computeSourceURL(p,_,a)}),this.sourceRoot=p,this.sourcesContent=g,this._mappings=x,this._sourceMapURL=a,this.file=v}m.prototype=Object.create(s.prototype),m.prototype.consumer=s,m.prototype._findSourceIndex=function(o){var a=o;if(this.sourceRoot!=null&&(a=e.relative(this.sourceRoot,a)),this._sources.has(a))return this._sources.indexOf(a);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==o)return f;return-1},m.fromSourceMap=function(a,f){var u=Object.create(m.prototype),h=u._names=r.fromArray(a._names.toArray(),!0),y=u._sources=r.fromArray(a._sources.toArray(),!0);u.sourceRoot=a._sourceRoot,u.sourcesContent=a._generateSourcesContent(u._sources.toArray(),u.sourceRoot),u.file=a._file,u._sourceMapURL=f,u._absoluteSources=u._sources.toArray().map(function(w){return e.computeSourceURL(u.sourceRoot,w,f)});for(var p=a._mappings.toArray().slice(),g=u.__generatedMappings=[],x=u.__originalMappings=[],v=0,_=p.length;v<_;v++){var d=p[v],M=new l;M.generatedLine=d.generatedLine,M.generatedColumn=d.generatedColumn,d.source&&(M.source=y.indexOf(d.source),M.originalLine=d.originalLine,M.originalColumn=d.originalColumn,d.name&&(M.name=h.indexOf(d.name)),x.push(M)),g.push(M)}return i(u.__originalMappings,e.compareByOriginalPositions),u},m.prototype._version=3,Object.defineProperty(m.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}m.prototype._parseMappings=function(a,f){for(var u=1,h=0,y=0,p=0,g=0,x=0,v=a.length,_=0,d={},M={},w=[],S=[],$,j,D,C,O;_<v;)if(a.charAt(_)===";")u++,_++,h=0;else if(a.charAt(_)===",")_++;else{for($=new l,$.generatedLine=u,C=_;C<v&&!this._charIsMappingSeparator(a,C);C++);if(j=a.slice(_,C),D=d[j],D)_+=j.length;else{for(D=[];_<C;)t.decode(a,_,M),O=M.value,_=M.rest,D.push(O);if(D.length===2)throw new Error("Found a source, but no line and column");if(D.length===3)throw new Error("Found a source and line, but no column");d[j]=D}$.generatedColumn=h+D[0],h=$.generatedColumn,D.length>1&&($.source=g+D[1],g+=D[1],$.originalLine=y+D[2],y=$.originalLine,$.originalLine+=1,$.originalColumn=p+D[3],p=$.originalColumn,D.length>4&&($.name=x+D[4],x+=D[4])),S.push($),typeof $.originalLine=="number"&&w.push($)}i(S,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,i(w,e.compareByOriginalPositions),this.__originalMappings=w},m.prototype._findMapping=function(a,f,u,h,y,p){if(a[u]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+a[u]);if(a[h]<0)throw new TypeError("Column must be greater than or equal to 0, got "+a[h]);return n.search(a,f,y,p)},m.prototype.computeColumnSpans=function(){for(var a=0;a<this._generatedMappings.length;++a){var f=this._generatedMappings[a];if(a+1<this._generatedMappings.length){var u=this._generatedMappings[a+1];if(f.generatedLine===u.generatedLine){f.lastGeneratedColumn=u.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},m.prototype.originalPositionFor=function(a){var f={generatedLine:e.getArg(a,"line"),generatedColumn:e.getArg(a,"column")},u=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(a,"bias",s.GREATEST_LOWER_BOUND));if(u>=0){var h=this._generatedMappings[u];if(h.generatedLine===f.generatedLine){var y=e.getArg(h,"source",null);y!==null&&(y=this._sources.at(y),y=e.computeSourceURL(this.sourceRoot,y,this._sourceMapURL));var p=e.getArg(h,"name",null);return p!==null&&(p=this._names.at(p)),{source:y,line:e.getArg(h,"originalLine",null),column:e.getArg(h,"originalColumn",null),name:p}}}return{source:null,line:null,column:null,name:null}},m.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(a){return a==null}):!1},m.prototype.sourceContentFor=function(a,f){if(!this.sourcesContent)return null;var u=this._findSourceIndex(a);if(u>=0)return this.sourcesContent[u];var h=a;this.sourceRoot!=null&&(h=e.relative(this.sourceRoot,h));var y;if(this.sourceRoot!=null&&(y=e.urlParse(this.sourceRoot))){var p=h.replace(/^file:\/\//,"");if(y.scheme=="file"&&this._sources.has(p))return this.sourcesContent[this._sources.indexOf(p)];if((!y.path||y.path=="/")&&this._sources.has("/"+h))return this.sourcesContent[this._sources.indexOf("/"+h)]}if(f)return null;throw new Error('"'+h+'" is not in the SourceMap.')},m.prototype.generatedPositionFor=function(a){var f=e.getArg(a,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var u={source:f,originalLine:e.getArg(a,"line"),originalColumn:e.getArg(a,"column")},h=this._findMapping(u,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(a,"bias",s.GREATEST_LOWER_BOUND));if(h>=0){var y=this._originalMappings[h];if(y.source===u.source)return{line:e.getArg(y,"generatedLine",null),column:e.getArg(y,"generatedColumn",null),lastColumn:e.getArg(y,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},ae.BasicSourceMapConsumer=m;function c(o,a){var f=o;typeof o=="string"&&(f=e.parseSourceMapInput(o));var u=e.getArg(f,"version"),h=e.getArg(f,"sections");if(u!=this._version)throw new Error("Unsupported version: "+u);this._sources=new r,this._names=new r;var y={line:-1,column:0};this._sections=h.map(function(p){if(p.url)throw new Error("Support for url field in sections not implemented.");var g=e.getArg(p,"offset"),x=e.getArg(g,"line"),v=e.getArg(g,"column");if(x<y.line||x===y.line&&v<y.column)throw new Error("Section offsets must be ordered and non-overlapping.");return y=g,{generatedOffset:{generatedLine:x+1,generatedColumn:v+1},consumer:new s(e.getArg(p,"map"),a)}})}return c.prototype=Object.create(s.prototype),c.prototype.constructor=s,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){for(var o=[],a=0;a<this._sections.length;a++)for(var f=0;f<this._sections[a].consumer.sources.length;f++)o.push(this._sections[a].consumer.sources[f]);return o}}),c.prototype.originalPositionFor=function(a){var f={generatedLine:e.getArg(a,"line"),generatedColumn:e.getArg(a,"column")},u=n.search(f,this._sections,function(y,p){var g=y.generatedLine-p.generatedOffset.generatedLine;return g||y.generatedColumn-p.generatedOffset.generatedColumn}),h=this._sections[u];return h?h.consumer.originalPositionFor({line:f.generatedLine-(h.generatedOffset.generatedLine-1),column:f.generatedColumn-(h.generatedOffset.generatedLine===f.generatedLine?h.generatedOffset.generatedColumn-1:0),bias:a.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(a){return a.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(a,f){for(var u=0;u<this._sections.length;u++){var h=this._sections[u],y=h.consumer.sourceContentFor(a,!0);if(y)return y}if(f)return null;throw new Error('"'+a+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(a){for(var f=0;f<this._sections.length;f++){var u=this._sections[f];if(u.consumer._findSourceIndex(e.getArg(a,"source"))!==-1){var h=u.consumer.generatedPositionFor(a);if(h){var y={line:h.line+(u.generatedOffset.generatedLine-1),column:h.column+(u.generatedOffset.generatedLine===h.line?u.generatedOffset.generatedColumn-1:0)};return y}}}return{line:null,column:null}},c.prototype._parseMappings=function(a,f){this.__generatedMappings=[],this.__originalMappings=[];for(var u=0;u<this._sections.length;u++)for(var h=this._sections[u],y=h.consumer._generatedMappings,p=0;p<y.length;p++){var g=y[p],x=h.consumer._sources.at(g.source);x=e.computeSourceURL(h.consumer.sourceRoot,x,this._sourceMapURL),this._sources.add(x),x=this._sources.indexOf(x);var v=null;g.name&&(v=h.consumer._names.at(g.name),this._names.add(v),v=this._names.indexOf(v));var _={source:x,generatedLine:g.generatedLine+(h.generatedOffset.generatedLine-1),generatedColumn:g.generatedColumn+(h.generatedOffset.generatedLine===g.generatedLine?h.generatedOffset.generatedColumn-1:0),originalLine:g.originalLine,originalColumn:g.originalColumn,name:v};this.__generatedMappings.push(_),typeof _.originalLine=="number"&&this.__originalMappings.push(_)}i(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),i(this.__originalMappings,e.compareByOriginalPositions)},ae.IndexedSourceMapConsumer=c,ae}var $e={},yn;function er(){if(yn)return $e;yn=1;var e=On().SourceMapGenerator,n=de(),r=/(\r?\n)/,t=10,i="$$$isSourceNode$$$";function s(m,l,c,o,a){this.children=[],this.sourceContents={},this.line=m??null,this.column=l??null,this.source=c??null,this.name=a??null,this[i]=!0,o!=null&&this.add(o)}return s.fromStringWithSourceMap=function(l,c,o){var a=new s,f=l.split(r),u=0,h=function(){var v=d(),_=d()||"";return v+_;function d(){return u<f.length?f[u++]:void 0}},y=1,p=0,g=null;return c.eachMapping(function(v){if(g!==null)if(y<v.generatedLine)x(g,h()),y++,p=0;else{var _=f[u]||"",d=_.substr(0,v.generatedColumn-p);f[u]=_.substr(v.generatedColumn-p),p=v.generatedColumn,x(g,d),g=v;return}for(;y<v.generatedLine;)a.add(h()),y++;if(p<v.generatedColumn){var _=f[u]||"";a.add(_.substr(0,v.generatedColumn)),f[u]=_.substr(v.generatedColumn),p=v.generatedColumn}g=v},this),u<f.length&&(g&&x(g,h()),a.add(f.splice(u).join(""))),c.sources.forEach(function(v){var _=c.sourceContentFor(v);_!=null&&(o!=null&&(v=n.join(o,v)),a.setSourceContent(v,_))}),a;function x(v,_){if(v===null||v.source===void 0)a.add(_);else{var d=o?n.join(o,v.source):v.source;a.add(new s(v.originalLine,v.originalColumn,d,_,v.name))}}},s.prototype.add=function(l){if(Array.isArray(l))l.forEach(function(c){this.add(c)},this);else if(l[i]||typeof l=="string")l&&this.children.push(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},s.prototype.prepend=function(l){if(Array.isArray(l))for(var c=l.length-1;c>=0;c--)this.prepend(l[c]);else if(l[i]||typeof l=="string")this.children.unshift(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},s.prototype.walk=function(l){for(var c,o=0,a=this.children.length;o<a;o++)c=this.children[o],c[i]?c.walk(l):c!==""&&l(c,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(l){var c,o,a=this.children.length;if(a>0){for(c=[],o=0;o<a-1;o++)c.push(this.children[o]),c.push(l);c.push(this.children[o]),this.children=c}return this},s.prototype.replaceRight=function(l,c){var o=this.children[this.children.length-1];return o[i]?o.replaceRight(l,c):typeof o=="string"?this.children[this.children.length-1]=o.replace(l,c):this.children.push("".replace(l,c)),this},s.prototype.setSourceContent=function(l,c){this.sourceContents[n.toSetString(l)]=c},s.prototype.walkSourceContents=function(l){for(var c=0,o=this.children.length;c<o;c++)this.children[c][i]&&this.children[c].walkSourceContents(l);for(var a=Object.keys(this.sourceContents),c=0,o=a.length;c<o;c++)l(n.fromSetString(a[c]),this.sourceContents[a[c]])},s.prototype.toString=function(){var l="";return this.walk(function(c){l+=c}),l},s.prototype.toStringWithSourceMap=function(l){var c={code:"",line:1,column:0},o=new e(l),a=!1,f=null,u=null,h=null,y=null;return this.walk(function(p,g){c.code+=p,g.source!==null&&g.line!==null&&g.column!==null?((f!==g.source||u!==g.line||h!==g.column||y!==g.name)&&o.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:c.line,column:c.column},name:g.name}),f=g.source,u=g.line,h=g.column,y=g.name,a=!0):a&&(o.addMapping({generated:{line:c.line,column:c.column}}),f=null,a=!1);for(var x=0,v=p.length;x<v;x++)p.charCodeAt(x)===t?(c.line++,c.column=0,x+1===v?(f=null,a=!1):a&&o.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:c.line,column:c.column},name:g.name})):c.column++}),this.walkSourceContents(function(p,g){o.setSourceContent(p,g)}),{code:c.code,map:o}},$e.SourceNode=s,$e}var pn;function dn(){return pn||(pn=1,oe.SourceMapGenerator=On().SourceMapGenerator,oe.SourceMapConsumer=Kn().SourceMapConsumer,oe.SourceNode=er().SourceNode),oe}var qe={exports:{}},gn;function nr(){return gn||(gn=1,function(e){(function(n){function r(i){return typeof i=="function"?i:typeof Buffer=="function"?function(m){//!! Deliberately using an API that's deprecated in node.js because
//!! this file is for browsers and we expect them to cope with it.
//!! Discussion: github.com/node-browser-compat/atob/pull/9
return new Buffer(m,"base64").toString("binary")}:typeof n.base64js=="object"?function(m){var l=n.base64js.b64ToByteArray(m);return Array.prototype.map.call(l,function(c){return String.fromCharCode(c)}).join("")}:function(){throw new Error("You're probably in an old browser or an iOS webworker. It might help to include beatgammit's base64-js.")}}var t=r(n.atob);n.atob=t,e&&e.exports&&(e.exports=t)})(window)}(qe)),qe.exports}const rr={},tr=Object.freeze(Object.defineProperty({__proto__:null,default:rr},Symbol.toStringTag,{value:"Module"})),Se=Gn(tr);var Te,Mn;function ir(){if(Mn)return Te;Mn=1;var e="%[a-f0-9]{2}",n=new RegExp("("+e+")|([^%]+?)","gi"),r=new RegExp("("+e+")+","gi");function t(m,l){try{return[decodeURIComponent(m.join(""))]}catch{}if(m.length===1)return m;l=l||1;var c=m.slice(0,l),o=m.slice(l);return Array.prototype.concat.call([],t(c),t(o))}function i(m){try{return decodeURIComponent(m)}catch{for(var l=m.match(n)||[],c=1;c<l.length;c++)m=t(l,c).join(""),l=m.match(n)||[];return m}}function s(m){for(var l={"%FE%FF":"��","%FF%FE":"��"},c=r.exec(m);c;){try{l[c[0]]=decodeURIComponent(c[0])}catch{var o=i(c[0]);o!==c[0]&&(l[c[0]]=o)}c=r.exec(m)}l["%C2"]="�";for(var a=Object.keys(l),f=0;f<a.length;f++){var u=a[f];m=m.replace(new RegExp(u,"g"),l[u])}return m}return Te=function(m){if(typeof m!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof m+"`");try{return m=m.replace(/\+/g," "),decodeURIComponent(m)}catch{return s(m)}},Te}var De,xn;function sr(){if(xn)return De;xn=1;var e=nr(),n=Se,r=Se,t=ir();function i(){return Array.prototype.reduce.call(arguments,function(C,O){return n.resolve(C,O)})}function s(C){return r.sep==="\\"?C.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):C}function m(C){return t(C.replace(/\+/g,"%2B"))}function l(C,O,F){setImmediate(function(){C(O,F)})}function c(C,O){try{return JSON.parse(C.replace(/^\)\]\}'/,""))}catch(F){throw F.sourceMapData=O,F}}function o(C,O,F){var b=m(O);try{return String(C(b))}catch(E){throw E.sourceMapData=F,E}}var a=/[#@] sourceMappingURL=([^\s'"]*)/,f=RegExp(`(?:/\\*(?:\\s*\r?
(?://)?)?(?:`+a.source+")\\s*\\*/|//(?:"+a.source+"))\\s*");function u(C){var O=C.match(f);return O?O[1]||O[2]||"":null}function h(C,O,F,b){var E;try{E=d(C,O)}catch(B){return l(b,B)}if(!E||E.map)return l(b,null,E);var U=m(E.url);F(U,function(B,J){if(B)return B.sourceMapData=E,b(B);E.map=String(J);try{E.map=c(E.map,E)}catch(L){return b(L)}b(null,E)})}function y(C,O,F){var b=d(C,O);return!b||b.map||(b.map=o(F,b.url,b),b.map=c(b.map,b)),b}var p=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,g=/^(?:application|text)\/json$/,x="utf-8";function v(C){for(var O=e(C),F=O.length,b=new Uint8Array(F),E=0;E<F;E++)b[E]=O.charCodeAt(E);return b}function _(C){if(typeof TextDecoder>"u"||typeof Uint8Array>"u")return e(C);var O=v(C),F=new TextDecoder(x,{fatal:!0});return F.decode(O)}function d(C,O){O=s(O);var F=u(C);if(!F)return null;var b=F.match(p);if(b){var E=b[1]||"text/plain",U=b[2]||"",B=b[3]||"",J={sourceMappingURL:F,url:null,sourcesRelativeTo:O,map:B};if(!g.test(E)){var L=new Error("Unuseful data uri mime type: "+E);throw L.sourceMapData=J,L}try{J.map=c(U===";base64"?_(B):decodeURIComponent(B),J)}catch(P){throw P.sourceMapData=J,P}return J}var z=i(O,F);return{sourceMappingURL:F,url:z,sourcesRelativeTo:z,map:null}}function M(C,O,F,b,E){typeof b=="function"&&(E=b,b={});var U=C.sources?C.sources.length:0,B={sourcesResolved:[],sourcesContent:[]};if(U===0){l(E,null,B);return}var J=function(){U--,U===0&&E(null,B)};$(C,O,b,function(L,z,P){if(B.sourcesResolved[P]=L,typeof z=="string")B.sourcesContent[P]=z,l(J,null);else{var W=m(L);F(W,function(ee,me){B.sourcesContent[P]=ee||String(me),J()})}})}function w(C,O,F,b){var E={sourcesResolved:[],sourcesContent:[]};return!C.sources||C.sources.length===0||$(C,O,b,function(U,B,J){if(E.sourcesResolved[J]=U,F!==null)if(typeof B=="string")E.sourcesContent[J]=B;else{var L=m(U);try{E.sourcesContent[J]=String(F(L))}catch(z){E.sourcesContent[J]=z}}}),E}var S=/\/?$/;function $(C,O,F,b){F=F||{},O=s(O);for(var E,U,B,J=0,L=C.sources.length;J<L;J++)B=null,typeof F.sourceRoot=="string"?B=F.sourceRoot:typeof C.sourceRoot=="string"&&F.sourceRoot!==!1&&(B=C.sourceRoot),B===null||B===""?E=i(O,C.sources[J]):E=i(O,B.replace(S,"/"),C.sources[J]),U=(C.sourcesContent||[])[J],b(E,U,J)}function j(C,O,F,b,E){if(typeof b=="function"&&(E=b,b={}),C===null){var U=O,B={sourceMappingURL:null,url:U,sourcesRelativeTo:U,map:null},J=m(U);F(J,function(z,P){if(z)return z.sourceMapData=B,E(z);B.map=String(P);try{B.map=c(B.map,B)}catch(W){return E(W)}L(B)})}else h(C,O,F,function(z,P){if(z)return E(z);if(!P)return E(null,null);L(P)});function L(z){M(z.map,z.sourcesRelativeTo,F,b,function(P,W){if(P)return E(P);z.sourcesResolved=W.sourcesResolved,z.sourcesContent=W.sourcesContent,E(null,z)})}}function D(C,O,F,b){var E;if(C===null){var U=O;E={sourceMappingURL:null,url:U,sourcesRelativeTo:U,map:null},E.map=o(F,U,E),E.map=c(E.map,E)}else if(E=y(C,O,F),!E)return null;var B=w(E.map,E.sourcesRelativeTo,F,b);return E.sourcesResolved=B.sourcesResolved,E.sourcesContent=B.sourcesContent,E}return De={resolveSourceMap:h,resolveSourceMapSync:y,resolveSources:M,resolveSourcesSync:w,resolve:j,resolveSync:D,parseMapToJSON:c},De}var vn;function mr(){return vn||(vn=1,function(e,n){var r=dn().SourceMapGenerator,t=dn().SourceMapConsumer,i=sr(),s=Se,m=Se;e.exports=c;const l=function(o){return m.sep==="\\"?o.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):o};function c(o){o._comment=o.comment,o.map=new r,o.position={line:1,column:1},o.files={};for(var a in n)o[a]=n[a]}n.updatePosition=function(o){var a=o.match(/\n/g);a&&(this.position.line+=a.length);var f=o.lastIndexOf(`
`);this.position.column=~f?o.length-f:this.position.column+o.length},n.emit=function(o,a){if(a){var f=l(a.source||"source.css");this.map.addMapping({source:f,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:a.start.line,column:a.start.column-1}}),this.addFile(f,a)}return this.updatePosition(o),o},n.addFile=function(o,a){typeof a.content=="string"&&(Object.prototype.hasOwnProperty.call(this.files,o)||(this.files[o]=a.content))},n.applySourceMaps=function(){Object.keys(this.files).forEach(function(o){var a=this.files[o];if(this.map.setSourceContent(o,a),this.options.inputSourcemaps!==!1){var f=i.resolveSync(a,o,s.readFileSync);if(f){var u=new t(f.map),h=f.sourcesRelativeTo;this.map.applySourceMap(u,o,l(m.dirname(h)))}}},this)},n.comment=function(o){return/^# sourceMappingURL=/.test(o.comment)?this.emit("",o.position):this._comment(o)}}(ge,ge.exports)),ge.exports}var lr=Wn,cr=Qn,or=function(e,n){n=n||{};var r=n.compress?new lr(n):new cr(n);if(n.sourcemap){var t=mr();t(r);var s=r.compile(e);r.applySourceMaps();var i=n.sourcemap==="generator"?r.map:r.map.toJSON();return{code:s,map:i}}var s=r.compile(e);return s};Be.parse=Vn;Be.stringify=or;function ar(e,n){try{var r=Be.parse(e)}catch{return console.error(`Failed to parse css ${e}`),{Add:()=>{},Remove:()=>{}}}function t(){if(r&&r.stylesheet&&r.stylesheet.rules){const s=r.stylesheet.rules;for(const m of s)if(m.type==="rule"){const l=m.selectors,c=m.declarations;if(l&&c)for(const o of l){const a=Array.from(n.querySelectorAll(o));n.matches(o)&&a.unshift(n);for(const f of a)for(const u of c){const{property:h,value:y}=u;f.style.setProperty(h,y)}}}}}function i(){if(r&&r.stylesheet&&r.stylesheet.rules){const s=r.stylesheet.rules;for(const m of s)if(m.type==="rule"){const l=m.selectors,c=m.declarations;if(l&&c)for(const o of l){const a=Array.from(n.querySelectorAll(o));n.matches(o)&&a.unshift(n);for(const f of a)for(const u of c){const{property:h,value:y}=u;f.style.setProperty(h,null)}}}}}return{Add:t,Remove:i}}function fr(e){return e.map(n=>En(n))}function hr(e){var n={};for(const r in e)n[r]=En(e[r]);return n}function En(e){let n=e;for(;typeof e=="function";)n=e,e=e();return n}function be(e){for(;typeof e=="function";)e=e();return e}class Rn{$css(n,r){r.element&&r.element.Remove();const t=ar(n,this);t.Add(),r.element=t}$update(){var n=this.querySelectorAll("*");for(const r of this.__events)r();for(const r of n)if(r.__events)for(const t of r.__events)t();return this}$on(n,r){const t=this;function i(){t.removeEventListener(n,s)}function s(m){r(m,i)}return this.addEventListener(n,s),this}$style(n,r){if(r.style)if(typeof n=="object")for(const t in n)this.style.setProperty(t,null);else{const t=n.split(";").filter(i=>i.length>0);this.style={};for(const i of t){const[s,m]=i.split(":");this.style.setProperty(s,null)}}if(typeof n=="object")for(const t in n)this.style.setProperty(t,n[t]);else{const t=n.split(";").filter(i=>i.length>0);this.style={};for(const i of t){const[s,m]=i.split(":");this.style.setProperty(s,m)}}return r.style=n,this}$class(n,r){let t;if(typeof n=="object"?t=Object.keys(n).filter(i=>n[i]):t=n.split(" "),r.classesSplit)for(const i of r.classesSplit)this.classList.remove(i);for(const i of t)this.classList.add(i);r.classesSplit=t}$getComputedStyle(n){return window.getComputedStyle(this).getPropertyValue(n)}$parent(n){return n.appendChild(this),this}$model(n,r){this.value=n.value,r.added||(r.added=!0,this.$on("input",()=>{n.value=this.value}))}$child(n,r){return n instanceof HTMLElement||(n=document.createTextNode(n)),r.element?r.element.replaceWith(n):this.appendChild(n),r.element=n,this}$state(n){var r=be(n);(r==null?void 0:r.$key)=="ce800a6b-1ecc-41dd-8ade-fb12cd3cdb62"&&r.$subscribe(this)}}var Ne=new Rn,ur=["$on","$update","$parent","$state"];function yr(e){let n;n=document.createElement(e),n.__events=[];for(const r of pr(Rn))ur.includes(r)?n[r]=(...t)=>Ne[r].apply(n,t):n[r]=(...t)=>{t.push({});function i(){var l=[];for(const o of t){var c=be(o);(c==null?void 0:c.$key)=="ce800a6b-1ecc-41dd-8ade-fb12cd3cdb62"&&r!="$model"?l.push(c.value):l.push(c)}return Ne[r].apply(n,l)}var s=[];for(const l of t){var m=be(l);(m==null?void 0:m.$key)=="ce800a6b-1ecc-41dd-8ade-fb12cd3cdb62"?(m.$subscribe(n),r=="$model"?s.push(m):s.push(m.value)):s.push(m)}return n.__events.push(i),Ne[r].apply(n,s)};return n}function pr(e){const n=[],r=new e,t=Object.getPrototypeOf(r),i=Object.getOwnPropertyNames(t);for(const s of i)typeof t[s]=="function"&&s!="constructor"&&n.push(s);return n}const ze=(e,n,...r)=>{var t;if(typeof e=="function"){if(t=e(hr(n),...fr(r)),t===void 0)return r}else{t=yr(e);for(const l of r)t.$child(l)}const i={style:l=>{t.$style(l)},class:l=>{t.$class(l)},css:l=>{t.$css(l)},ref:l=>{l.$element=t},state:l=>{t.$state(l)},model:l=>{t.$model(l)}},s={on:(l,c)=>{t.$on(l,c)}};for(var m in n){const l=m.split(":");l.length==2?s[l[0]]&&s[l[0]](l[1],n[m]):Object.keys(i).includes(m)?i[m](n[m]):t[m]=be(n[m])}return t};function dr(e,n){const r={get(t,i){return typeof t[i]=="object"&&t[i]!==null?new Proxy(t[i],r):t[i]},set(t,i,s){return t[i]!=s&&(t[i]=s,e()),!0}};return new Proxy(n,r)}function gr(e,{surface:n,x:r=0,y:t=0,w:i=null,h:s=null}){i!=null&&s!=null?e.drawImage(n.canvas,r,t,i,s):e.drawImage(n.canvas,r,t)}function Mr(e,n,r){e.beginPath(),r(e,n);const{backgroundColor:t}=n,{border:i}=n;if(t!=null&&(e.fillStyle=t,e.fill()),i!=null){const{thickness:s,color:m}=i;s!=null?e.lineWidth=s:e.lineWidth=1,m!=null?e.strokeStyle=m:e.strokeStyle="black",e.stroke()}}function xr(e,n,r){e.beginPath();const{fill:t,stroke:i}=r(e,n),{backgroundColor:s}=n,{border:m}=n;if(s!=null&&(e.fillStyle=s,t()),m!=null){const{thickness:l,color:c}=m;l!=null?e.lineWidth=l:e.lineWidth=1,c!=null?e.strokeStyle=c:e.strokeStyle="black",i()}}function vr(e,n,r){e.beginPath(),r(e,n);let{cap:t}=n;const{backgroundColor:i}=n,{border:s}=n;let{w:m}=n;if(t==null&&(t="square"),m==null&&(m=1),e.lineCap=t,s!=null){const{thickness:l,color:c}=s;l!=null?e.lineWidth=l*2+m:e.lineWidth=1+m,c!=null?e.strokeStyle=c:e.strokeStyle="black",e.stroke()}i!=null&&(e.lineWidth=m,e.strokeStyle=i,e.stroke())}function wr(){function e(t,{x:i,y:s,w:m,h:l}){m/=2,l/=2,t.ellipse(i+m,s+l,m,l,0,0,2*Math.PI)}function n({px:t,py:i,x:s,y:m,w:l,h:c}){l/=2,c/=2,s+=l,m+=c;const o=t-s,a=i-m;return o*o/(l*l)+a*a/(c*c)<=1}function r({px:t,py:i,x:s,y:m,w:l,h:c}){l/=2,c/=2;const o=s+l,a=m+c,f=t-o,u=i-a,h=Math.atan2(u,f),y=o+l*Math.cos(h),p=a+c*Math.sin(h);return{x:y,y:p}}return{draw:e,pointOnShape:n,getClosestPoint:r}}function _r(){function e(t,{x:i,y:s,w:m,h:l,border:c}){let o;if(c==null||c.radius==0||c.radius==null){t.rect(i,s,m,l);return}else typeof c.radius=="number"?(o=c.radius,o={tl:o,tr:o,br:o,bl:o}):(o=c.radius,o={tl:0,tr:0,br:0,bl:0,...o});t.moveTo(i+o.tl,s),t.lineTo(i+m-o.tr,s),t.quadraticCurveTo(i+m,s,i+m,s+o.tr),t.lineTo(i+m,s+l-o.br),t.quadraticCurveTo(i+m,s+l,i+m-o.br,s+l),t.lineTo(i+o.bl,s+l),t.quadraticCurveTo(i,s+l,i,s+l-o.bl),t.lineTo(i,s+o.tl),t.quadraticCurveTo(i,s,i+o.tl,s)}function n({px:t,py:i,x:s,y:m,w:l,h:c}){return t>=s&&t<=s+l&&i>=m&&i<=m+c}function r({px:t,py:i,x:s,y:m,w:l,h:c}){if(t>=s&&t<=s+l&&i>=m&&i<=m+c){const f=t-s,u=s+l-t,h=i-m,y=m+c-i,p=Math.min(f,u,h,y);return p===f?{x:s,y:i}:p===u?{x:s+l,y:i}:p===h?{x:t,y:m}:{x:t,y:m+c}}let o;t<s?o=s:t>s+l?o=s+l:o=t;let a;return i<m?a=m:i>m+c?a=m+c:a=i,{x:o,y:a}}return{draw:e,pointOnShape:n,getClosestPoint:r}}function se(e,n,r,t){var i=r-e,s=t-n,m=Math.sqrt(i*i+s*s);return m}function ke(e,n,r,t,i,s){var m=Math.sqrt(Math.pow(i-r,2)+Math.pow(s-t,2)),l=(i-r)/m,c=(s-t)/m,o={x:e-r,y:n-t},a=o.x*l+o.y*c;a=Math.max(0,Math.min(a,m));var f=r+a*l,u=t+a*c;return{x:f,y:u}}function zr(){function e(t,{segments:i}){t.moveTo(i[0].x,i[0].y);for(var s=1;s<i.length;s++){const{x:m,y:l}=i[s];t.lineTo(m,l)}}function n({px:t,py:i,segments:s,w:m}){for(var l=0;l<s.length-1;l+=1){const{x:c,y:o}=s[l],{x:a,y:f}=s[l+1],u=ke(t,i,c,o,a,f);if(se(u.x,u.y,t,i)<m/2)return!0}return!1}function r({px:t,py:i,segments:s}){let m=null,l=null;for(var c=0;c<s.length-1;c+=1){const{x:o,y:a}=s[c],{x:f,y:u}=s[c+1],h=ke(t,i,o,a,f,u),y=se(h.x,h.y,t,i);(l==null||y<l)&&(m=h,l=y)}return m}return{draw:e,pointOnShape:n,getClosestPoint:r}}const Sr=Math.PI/180,br=180/Math.PI,R=1e-6;function Cr(e,n){return Math.abs(e-n)<=R*Math.max(1,Math.abs(e),Math.abs(n))}function Ar(e,n,r){return r=r||R,Math.abs(e-n)<=r}function Lr(e,n,r){return e<n?n:e>r?r:e}function Or(e){return e<0?0:e>1?1:e}function Er(e,n,r){return e+(n-e)*r}function Rr(e){return e*Sr}function Fr(e){return e*br}const te=Math.random;function Fn(e,n){return Math.random()*(n-e)+e}function $r(e,n){return Math.floor(Fn(e,n))}function qr(e){return--e,e=e>>1|e,e=e>>2|e,e=e>>4|e,e=e>>8|e,e=e>>16|e,++e,e}const Ge=32,Tr=2147483647,Dr=-1<<Ge-1;function Nr(e){return(e>0)-(e<0)}function Pr(e){let n=e>>Ge-1;return(e^n)-n}function Ir(e,n){return n^(e^n)&-(e<n)}function jr(e,n){return e^(e^n)&-(e<n)}function kr(e){return!(e&e-1)&&!!e}function Br(e){let n,r;return n=(e>65535)<<4,e>>>=n,r=(e>255)<<3,e>>>=r,n|=r,r=(e>15)<<2,e>>>=r,n|=r,r=(e>3)<<1,e>>>=r,n|=r,n|e>>1}function Gr(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0}function Vr(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}function $n(e){let n=32;return e&=-e,e&&n--,e&65535&&(n-=16),e&16711935&&(n-=8),e&252645135&&(n-=4),e&858993459&&(n-=2),e&1431655765&&(n-=1),n}function Ur(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function Wr(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)}function Jr(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1}const pe=new Array(256);(function(e){for(let n=0;n<256;++n){let r=n,t=n,i=7;for(r>>>=1;r;r>>>=1)t<<=1,t|=r&1,--i;e[n]=t<<i&255}})(pe);function Qr(e){return pe[e&255]<<24|pe[e>>>8&255]<<16|pe[e>>>16&255]<<8|pe[e>>>24&255]}function Xr(e,n){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e|n<<1}function Yr(e,n){return e=e>>>n&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16}function Zr(e,n,r){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,e|=n<<1,r&=1023,r=(r|r<<16)&4278190335,r=(r|r<<8)&251719695,r=(r|r<<4)&3272356035,r=(r|r<<2)&1227133513,e|r<<2}function Hr(e,n){return e=e>>>n&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22}function Kr(e){let n=e|e-1;return n+1|(~n&-~n)-1>>>$n(e)+1}const et=Object.freeze(Object.defineProperty({__proto__:null,INT_BITS:Ge,INT_MAX:Tr,INT_MIN:Dr,abs:Pr,countTrailingZeros:$n,deinterleave2:Yr,deinterleave3:Hr,interleave2:Xr,interleave3:Zr,isPow2:kr,log10:Gr,log2:Br,max:jr,min:Ir,nextCombination:Kr,nextPow2:Ur,parity:Jr,popCount:Vr,prevPow2:Wr,reverse:Qr,sign:Nr},Symbol.toStringTag,{value:"Module"}));let Pe=new Array(2);class Ve{constructor(n,r){this.x=n,this.y=r}toJSON(){return Pe[0]=this.x,Pe[1]=this.y,Pe}}let N={};N.create=function(){return new Ve(0,0)};N.new=function(e,n){return new Ve(e,n)};N.clone=function(e){return new Ve(e.x,e.y)};N.copy=function(e,n){return e.x=n.x,e.y=n.y,e};N.set=function(e,n,r){return e.x=n,e.y=r,e};N.add=function(e,n,r){return e.x=n.x+r.x,e.y=n.y+r.y,e};N.subtract=function(e,n,r){return e.x=n.x-r.x,e.y=n.y-r.y,e};N.sub=N.subtract;N.multiply=function(e,n,r){return e.x=n.x*r.x,e.y=n.y*r.y,e};N.mul=N.multiply;N.divide=function(e,n,r){return e.x=n.x/r.x,e.y=n.y/r.y,e};N.div=N.divide;N.ceil=function(e,n){return e.x=Math.ceil(n.x),e.y=Math.ceil(n.y),e};N.floor=function(e,n){return e.x=Math.floor(n.x),e.y=Math.floor(n.y),e};N.min=function(e,n,r){return e.x=Math.min(n.x,r.x),e.y=Math.min(n.y,r.y),e};N.max=function(e,n,r){return e.x=Math.max(n.x,r.x),e.y=Math.max(n.y,r.y),e};N.round=function(e,n){return e.x=Math.round(n.x),e.y=Math.round(n.y),e};N.scale=function(e,n,r){return e.x=n.x*r,e.y=n.y*r,e};N.scaleAndAdd=function(e,n,r,t){return e.x=n.x+r.x*t,e.y=n.y+r.y*t,e};N.distance=function(e,n){let r=n.x-e.x,t=n.y-e.y;return Math.sqrt(r*r+t*t)};N.dist=N.distance;N.squaredDistance=function(e,n){let r=n.x-e.x,t=n.y-e.y;return r*r+t*t};N.sqrDist=N.squaredDistance;N.length=function(e){let n=e.x,r=e.y;return Math.sqrt(n*n+r*r)};N.len=N.length;N.squaredLength=function(e){let n=e.x,r=e.y;return n*n+r*r};N.sqrLen=N.squaredLength;N.negate=function(e,n){return e.x=-n.x,e.y=-n.y,e};N.inverse=function(e,n){return e.x=1/n.x,e.y=1/n.y,e};N.inverseSafe=function(e,n){let r=n.x,t=n.y;return Math.abs(r)<R?e.x=0:e.x=1/r,Math.abs(t)<R?e.y=0:e.y=1/n.y,e};N.normalize=function(e,n){let r=n.x,t=n.y,i=r*r+t*t;return i>0&&(i=1/Math.sqrt(i),e.x=n.x*i,e.y=n.y*i),e};N.dot=function(e,n){return e.x*n.x+e.y*n.y};N.cross=function(e,n,r){let t=n.x*r.y-n.y*r.x;return e.x=e.y=0,e.z=t,e};N.lerp=function(e,n,r,t){let i=n.x,s=n.y;return e.x=i+t*(r.x-i),e.y=s+t*(r.y-s),e};N.random=function(e,n){n=n||1;let r=te()*2*Math.PI;return e.x=Math.cos(r)*n,e.y=Math.sin(r)*n,e};N.transformMat2=function(e,n,r){let t=n.x,i=n.y;return e.x=r.m00*t+r.m02*i,e.y=r.m01*t+r.m03*i,e};N.transformMat23=function(e,n,r){let t=n.x,i=n.y;return e.x=r.m00*t+r.m02*i+r.m04,e.y=r.m01*t+r.m03*i+r.m05,e};N.transformMat3=function(e,n,r){let t=n.x,i=n.y;return e.x=r.m00*t+r.m03*i+r.m06,e.y=r.m01*t+r.m04*i+r.m07,e};N.transformMat4=function(e,n,r){let t=n.x,i=n.y;return e.x=r.m00*t+r.m04*i+r.m12,e.y=r.m01*t+r.m05*i+r.m13,e};N.forEach=function(){let e=N.create();return function(n,r,t,i,s,m){let l,c;for(r||(r=2),t||(t=0),i?c=Math.min(i*r+t,n.length):c=n.length,l=t;l<c;l+=r)e.x=n[l],e.y=n[l+1],s(e,e,m),n[l]=e.x,n[l+1]=e.y;return n}}();N.str=function(e){return`vec2(${e.x}, ${e.y})`};N.array=function(e,n){return e[0]=n.x,e[1]=n.y,e};N.exactEquals=function(e,n){return e.x===n.x&&e.y===n.y};N.equals=function(e,n){let r=e.x,t=e.y,i=n.x,s=n.y;return Math.abs(r-i)<=R*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(t-s)<=R*Math.max(1,Math.abs(t),Math.abs(s))};let ve=new Array(3);class Ue{constructor(n,r,t){this.x=n,this.y=r,this.z=t}toJSON(){return ve[0]=this.x,ve[1]=this.y,ve[2]=this.z,ve}}let A={};A.create=function(){return new Ue(0,0,0)};A.new=function(e,n,r){return new Ue(e,n,r)};A.clone=function(e){return new Ue(e.x,e.y,e.z)};A.copy=function(e,n){return e.x=n.x,e.y=n.y,e.z=n.z,e};A.set=function(e,n,r,t){return e.x=n,e.y=r,e.z=t,e};A.add=function(e,n,r){return e.x=n.x+r.x,e.y=n.y+r.y,e.z=n.z+r.z,e};A.subtract=function(e,n,r){return e.x=n.x-r.x,e.y=n.y-r.y,e.z=n.z-r.z,e};A.sub=A.subtract;A.multiply=function(e,n,r){return e.x=n.x*r.x,e.y=n.y*r.y,e.z=n.z*r.z,e};A.mul=A.multiply;A.divide=function(e,n,r){return e.x=n.x/r.x,e.y=n.y/r.y,e.z=n.z/r.z,e};A.div=A.divide;A.ceil=function(e,n){return e.x=Math.ceil(n.x),e.y=Math.ceil(n.y),e.z=Math.ceil(n.z),e};A.floor=function(e,n){return e.x=Math.floor(n.x),e.y=Math.floor(n.y),e.z=Math.floor(n.z),e};A.min=function(e,n,r){return e.x=Math.min(n.x,r.x),e.y=Math.min(n.y,r.y),e.z=Math.min(n.z,r.z),e};A.max=function(e,n,r){return e.x=Math.max(n.x,r.x),e.y=Math.max(n.y,r.y),e.z=Math.max(n.z,r.z),e};A.round=function(e,n){return e.x=Math.round(n.x),e.y=Math.round(n.y),e.z=Math.round(n.z),e};A.scale=function(e,n,r){return e.x=n.x*r,e.y=n.y*r,e.z=n.z*r,e};A.scaleAndAdd=function(e,n,r,t){return e.x=n.x+r.x*t,e.y=n.y+r.y*t,e.z=n.z+r.z*t,e};A.distance=function(e,n){let r=n.x-e.x,t=n.y-e.y,i=n.z-e.z;return Math.sqrt(r*r+t*t+i*i)};A.dist=A.distance;A.squaredDistance=function(e,n){let r=n.x-e.x,t=n.y-e.y,i=n.z-e.z;return r*r+t*t+i*i};A.sqrDist=A.squaredDistance;A.length=function(e){let n=e.x,r=e.y,t=e.z;return Math.sqrt(n*n+r*r+t*t)};A.len=A.length;A.squaredLength=function(e){let n=e.x,r=e.y,t=e.z;return n*n+r*r+t*t};A.sqrLen=A.squaredLength;A.negate=function(e,n){return e.x=-n.x,e.y=-n.y,e.z=-n.z,e};A.inverse=function(e,n){return e.x=1/n.x,e.y=1/n.y,e.z=1/n.z,e};A.inverseSafe=function(e,n){let r=n.x,t=n.y,i=n.z;return Math.abs(r)<R?e.x=0:e.x=1/r,Math.abs(t)<R?e.y=0:e.y=1/t,Math.abs(i)<R?e.z=0:e.z=1/i,e};A.normalize=function(e,n){let r=n.x,t=n.y,i=n.z,s=r*r+t*t+i*i;return s>0&&(s=1/Math.sqrt(s),e.x=r*s,e.y=t*s,e.z=i*s),e};A.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z};A.cross=function(e,n,r){let t=n.x,i=n.y,s=n.z,m=r.x,l=r.y,c=r.z;return e.x=i*c-s*l,e.y=s*m-t*c,e.z=t*l-i*m,e};A.lerp=function(e,n,r,t){let i=n.x,s=n.y,m=n.z;return e.x=i+t*(r.x-i),e.y=s+t*(r.y-s),e.z=m+t*(r.z-m),e};A.hermite=function(e,n,r,t,i,s){let m=s*s,l=m*(2*s-3)+1,c=m*(s-2)+s,o=m*(s-1),a=m*(3-2*s);return e.x=n.x*l+r.x*c+t.x*o+i.x*a,e.y=n.y*l+r.y*c+t.y*o+i.y*a,e.z=n.z*l+r.z*c+t.z*o+i.z*a,e};A.bezier=function(e,n,r,t,i,s){let m=1-s,l=m*m,c=s*s,o=l*m,a=3*s*l,f=3*c*m,u=c*s;return e.x=n.x*o+r.x*a+t.x*f+i.x*u,e.y=n.y*o+r.y*a+t.y*f+i.y*u,e.z=n.z*o+r.z*a+t.z*f+i.z*u,e};A.random=function(e,n){n=n||1;let r=te()*2*Math.PI,t=te()*2-1,i=Math.sqrt(1-t*t)*n;return e.x=Math.cos(r)*i,e.y=Math.sin(r)*i,e.z=t*n,e};A.transformMat4=function(e,n,r){let t=n.x,i=n.y,s=n.z,m=r.m03*t+r.m07*i+r.m11*s+r.m15;return m=m||1,e.x=(r.m00*t+r.m04*i+r.m08*s+r.m12)/m,e.y=(r.m01*t+r.m05*i+r.m09*s+r.m13)/m,e.z=(r.m02*t+r.m06*i+r.m10*s+r.m14)/m,e};A.transformMat3=function(e,n,r){let t=n.x,i=n.y,s=n.z;return e.x=t*r.m00+i*r.m03+s*r.m06,e.y=t*r.m01+i*r.m04+s*r.m07,e.z=t*r.m02+i*r.m05+s*r.m08,e};A.transformQuat=function(e,n,r){let t=n.x,i=n.y,s=n.z,m=r.x,l=r.y,c=r.z,o=r.w,a=o*t+l*s-c*i,f=o*i+c*t-m*s,u=o*s+m*i-l*t,h=-m*t-l*i-c*s;return e.x=a*o+h*-m+f*-c-u*-l,e.y=f*o+h*-l+u*-m-a*-c,e.z=u*o+h*-c+a*-l-f*-m,e};A.rotateX=function(e,n,r,t){let i=[],s=[];return i.x=n.x-r.x,i.y=n.y-r.y,i.z=n.z-r.z,s.x=i.x,s.y=i.y*Math.cos(t)-i.z*Math.sin(t),s.z=i.y*Math.sin(t)+i.z*Math.cos(t),e.x=s.x+r.x,e.y=s.y+r.y,e.z=s.z+r.z,e};A.rotateY=function(e,n,r,t){let i=[],s=[];return i.x=n.x-r.x,i.y=n.y-r.y,i.z=n.z-r.z,s.x=i.z*Math.sin(t)+i.x*Math.cos(t),s.y=i.y,s.z=i.z*Math.cos(t)-i.x*Math.sin(t),e.x=s.x+r.x,e.y=s.y+r.y,e.z=s.z+r.z,e};A.rotateZ=function(e,n,r,t){let i=[],s=[];return i.x=n.x-r.x,i.y=n.y-r.y,i.z=n.z-r.z,s.x=i.x*Math.cos(t)-i.y*Math.sin(t),s.y=i.x*Math.sin(t)+i.y*Math.cos(t),s.z=i.z,e.x=s.x+r.x,e.y=s.y+r.y,e.z=s.z+r.z,e};A.forEach=function(){let e=A.create();return function(n,r,t,i,s,m){let l,c;for(r||(r=3),t||(t=0),i?c=Math.min(i*r+t,n.length):c=n.length,l=t;l<c;l+=r)e.x=n[l],e.y=n[l+1],e.z=n[l+2],s(e,e,m),n[l]=e.x,n[l+1]=e.y,n[l+2]=e.z;return n}}();A.angle=function(){let e=A.create(),n=A.create();return function(r,t){A.copy(e,r),A.copy(n,t),A.normalize(e,e),A.normalize(n,n);let i=A.dot(e,n);return i>1?0:i<-1?Math.PI:Math.acos(i)}}();A.str=function(e){return`vec3(${e.x}, ${e.y}, ${e.z})`};A.array=function(e,n){return e[0]=n.x,e[1]=n.y,e[2]=n.z,e};A.exactEquals=function(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z};A.equals=function(e,n){let r=e.x,t=e.y,i=e.z,s=n.x,m=n.y,l=n.z;return Math.abs(r-s)<=R*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(t-m)<=R*Math.max(1,Math.abs(t),Math.abs(m))&&Math.abs(i-l)<=R*Math.max(1,Math.abs(i),Math.abs(l))};let fe=new Array(4);class We{constructor(n,r,t,i){this.x=n,this.y=r,this.z=t,this.w=i}toJSON(){return fe[0]=this.x,fe[1]=this.y,fe[2]=this.z,fe[3]=this.w,fe}}let q={};q.create=function(){return new We(0,0,0,0)};q.new=function(e,n,r,t){return new We(e,n,r,t)};q.clone=function(e){return new We(e.x,e.y,e.z,e.w)};q.copy=function(e,n){return e.x=n.x,e.y=n.y,e.z=n.z,e.w=n.w,e};q.set=function(e,n,r,t,i){return e.x=n,e.y=r,e.z=t,e.w=i,e};q.add=function(e,n,r){return e.x=n.x+r.x,e.y=n.y+r.y,e.z=n.z+r.z,e.w=n.w+r.w,e};q.subtract=function(e,n,r){return e.x=n.x-r.x,e.y=n.y-r.y,e.z=n.z-r.z,e.w=n.w-r.w,e};q.sub=q.subtract;q.multiply=function(e,n,r){return e.x=n.x*r.x,e.y=n.y*r.y,e.z=n.z*r.z,e.w=n.w*r.w,e};q.mul=q.multiply;q.divide=function(e,n,r){return e.x=n.x/r.x,e.y=n.y/r.y,e.z=n.z/r.z,e.w=n.w/r.w,e};q.div=q.divide;q.ceil=function(e,n){return e.x=Math.ceil(n.x),e.y=Math.ceil(n.y),e.z=Math.ceil(n.z),e.w=Math.ceil(n.w),e};q.floor=function(e,n){return e.x=Math.floor(n.x),e.y=Math.floor(n.y),e.z=Math.floor(n.z),e.w=Math.floor(n.w),e};q.min=function(e,n,r){return e.x=Math.min(n.x,r.x),e.y=Math.min(n.y,r.y),e.z=Math.min(n.z,r.z),e.w=Math.min(n.w,r.w),e};q.max=function(e,n,r){return e.x=Math.max(n.x,r.x),e.y=Math.max(n.y,r.y),e.z=Math.max(n.z,r.z),e.w=Math.max(n.w,r.w),e};q.round=function(e,n){return e.x=Math.round(n.x),e.y=Math.round(n.y),e.z=Math.round(n.z),e.w=Math.round(n.w),e};q.scale=function(e,n,r){return e.x=n.x*r,e.y=n.y*r,e.z=n.z*r,e.w=n.w*r,e};q.scaleAndAdd=function(e,n,r,t){return e.x=n.x+r.x*t,e.y=n.y+r.y*t,e.z=n.z+r.z*t,e.w=n.w+r.w*t,e};q.distance=function(e,n){let r=n.x-e.x,t=n.y-e.y,i=n.z-e.z,s=n.w-e.w;return Math.sqrt(r*r+t*t+i*i+s*s)};q.dist=q.distance;q.squaredDistance=function(e,n){let r=n.x-e.x,t=n.y-e.y,i=n.z-e.z,s=n.w-e.w;return r*r+t*t+i*i+s*s};q.sqrDist=q.squaredDistance;q.length=function(e){let n=e.x,r=e.y,t=e.z,i=e.w;return Math.sqrt(n*n+r*r+t*t+i*i)};q.len=q.length;q.squaredLength=function(e){let n=e.x,r=e.y,t=e.z,i=e.w;return n*n+r*r+t*t+i*i};q.sqrLen=q.squaredLength;q.negate=function(e,n){return e.x=-n.x,e.y=-n.y,e.z=-n.z,e.w=-n.w,e};q.inverse=function(e,n){return e.x=1/n.x,e.y=1/n.y,e.z=1/n.z,e.w=1/n.w,e};q.inverseSafe=function(e,n){let r=n.x,t=n.y,i=n.z,s=n.w;return Math.abs(r)<R?e.x=0:e.x=1/r,Math.abs(t)<R?e.y=0:e.y=1/t,Math.abs(i)<R?e.z=0:e.z=1/i,Math.abs(s)<R?e.w=0:e.w=1/s,e};q.normalize=function(e,n){let r=n.x,t=n.y,i=n.z,s=n.w,m=r*r+t*t+i*i+s*s;return m>0&&(m=1/Math.sqrt(m),e.x=r*m,e.y=t*m,e.z=i*m,e.w=s*m),e};q.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z+e.w*n.w};q.lerp=function(e,n,r,t){let i=n.x,s=n.y,m=n.z,l=n.w;return e.x=i+t*(r.x-i),e.y=s+t*(r.y-s),e.z=m+t*(r.z-m),e.w=l+t*(r.w-l),e};q.random=function(e,n){return n=n||1,e.x=te(),e.y=te(),e.z=te(),e.w=te(),q.normalize(e,e),q.scale(e,e,n),e};q.transformMat4=function(e,n,r){let t=n.x,i=n.y,s=n.z,m=n.w;return e.x=r.m00*t+r.m04*i+r.m08*s+r.m12*m,e.y=r.m01*t+r.m05*i+r.m09*s+r.m13*m,e.z=r.m02*t+r.m06*i+r.m10*s+r.m14*m,e.w=r.m03*t+r.m07*i+r.m11*s+r.m15*m,e};q.transformQuat=function(e,n,r){let t=n.x,i=n.y,s=n.z,m=r.x,l=r.y,c=r.z,o=r.w,a=o*t+l*s-c*i,f=o*i+c*t-m*s,u=o*s+m*i-l*t,h=-m*t-l*i-c*s;return e.x=a*o+h*-m+f*-c-u*-l,e.y=f*o+h*-l+u*-m-a*-c,e.z=u*o+h*-c+a*-l-f*-m,e.w=n.w,e};q.forEach=function(){let e=q.create();return function(n,r,t,i,s,m){let l,c;for(r||(r=4),t||(t=0),i?c=Math.min(i*r+t,n.length):c=n.length,l=t;l<c;l+=r)e.x=n[l],e.y=n[l+1],e.z=n[l+2],e.w=n[l+3],s(e,e,m),n[l]=e.x,n[l+1]=e.y,n[l+2]=e.z,n[l+3]=e.w;return n}}();q.str=function(e){return`vec4(${e.x}, ${e.y}, ${e.z}, ${e.w})`};q.array=function(e,n){return e[0]=n.x,e[1]=n.y,e[2]=n.z,e[3]=n.w,e};q.exactEquals=function(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w};q.equals=function(e,n){let r=e.x,t=e.y,i=e.z,s=e.w,m=n.x,l=n.y,c=n.z,o=n.w;return Math.abs(r-m)<=R*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(t-l)<=R*Math.max(1,Math.abs(t),Math.abs(l))&&Math.abs(i-c)<=R*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(s-o)<=R*Math.max(1,Math.abs(s),Math.abs(o))};let ne=new Array(9);class Je{constructor(n,r,t,i,s,m,l,c,o){this.m00=n,this.m01=r,this.m02=t,this.m03=i,this.m04=s,this.m05=m,this.m06=l,this.m07=c,this.m08=o}toJSON(){return ne[0]=this.m00,ne[1]=this.m01,ne[2]=this.m02,ne[3]=this.m03,ne[4]=this.m04,ne[5]=this.m05,ne[6]=this.m06,ne[7]=this.m07,ne[8]=this.m08,ne}}let k={};k.create=function(){return new Je(1,0,0,0,1,0,0,0,1)};k.new=function(e,n,r,t,i,s,m,l,c){return new Je(e,n,r,t,i,s,m,l,c)};k.clone=function(e){return new Je(e.m00,e.m01,e.m02,e.m03,e.m04,e.m05,e.m06,e.m07,e.m08)};k.copy=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m03,e.m04=n.m04,e.m05=n.m05,e.m06=n.m06,e.m07=n.m07,e.m08=n.m08,e};k.set=function(e,n,r,t,i,s,m,l,c,o){return e.m00=n,e.m01=r,e.m02=t,e.m03=i,e.m04=s,e.m05=m,e.m06=l,e.m07=c,e.m08=o,e};k.identity=function(e){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=1,e.m05=0,e.m06=0,e.m07=0,e.m08=1,e};k.transpose=function(e,n){if(e===n){let r=n.m01,t=n.m02,i=n.m05;e.m01=n.m03,e.m02=n.m06,e.m03=r,e.m05=n.m07,e.m06=t,e.m07=i}else e.m00=n.m00,e.m01=n.m03,e.m02=n.m06,e.m03=n.m01,e.m04=n.m04,e.m05=n.m07,e.m06=n.m02,e.m07=n.m05,e.m08=n.m08;return e};k.invert=function(e,n){let r=n.m00,t=n.m01,i=n.m02,s=n.m03,m=n.m04,l=n.m05,c=n.m06,o=n.m07,a=n.m08,f=a*m-l*o,u=-a*s+l*c,h=o*s-m*c,y=r*f+t*u+i*h;return y?(y=1/y,e.m00=f*y,e.m01=(-a*t+i*o)*y,e.m02=(l*t-i*m)*y,e.m03=u*y,e.m04=(a*r-i*c)*y,e.m05=(-l*r+i*s)*y,e.m06=h*y,e.m07=(-o*r+t*c)*y,e.m08=(m*r-t*s)*y,e):null};k.adjoint=function(e,n){let r=n.m00,t=n.m01,i=n.m02,s=n.m03,m=n.m04,l=n.m05,c=n.m06,o=n.m07,a=n.m08;return e.m00=m*a-l*o,e.m01=i*o-t*a,e.m02=t*l-i*m,e.m03=l*c-s*a,e.m04=r*a-i*c,e.m05=i*s-r*l,e.m06=s*o-m*c,e.m07=t*c-r*o,e.m08=r*m-t*s,e};k.determinant=function(e){let n=e.m00,r=e.m01,t=e.m02,i=e.m03,s=e.m04,m=e.m05,l=e.m06,c=e.m07,o=e.m08;return n*(o*s-m*c)+r*(-o*i+m*l)+t*(c*i-s*l)};k.multiply=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=n.m04,c=n.m05,o=n.m06,a=n.m07,f=n.m08,u=r.m00,h=r.m01,y=r.m02,p=r.m03,g=r.m04,x=r.m05,v=r.m06,_=r.m07,d=r.m08;return e.m00=u*t+h*m+y*o,e.m01=u*i+h*l+y*a,e.m02=u*s+h*c+y*f,e.m03=p*t+g*m+x*o,e.m04=p*i+g*l+x*a,e.m05=p*s+g*c+x*f,e.m06=v*t+_*m+d*o,e.m07=v*i+_*l+d*a,e.m08=v*s+_*c+d*f,e};k.mul=k.multiply;k.translate=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=n.m04,c=n.m05,o=n.m06,a=n.m07,f=n.m08,u=r.x,h=r.y;return e.m00=t,e.m01=i,e.m02=s,e.m03=m,e.m04=l,e.m05=c,e.m06=u*t+h*m+o,e.m07=u*i+h*l+a,e.m08=u*s+h*c+f,e};k.rotate=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=n.m04,c=n.m05,o=n.m06,a=n.m07,f=n.m08,u=Math.sin(r),h=Math.cos(r);return e.m00=h*t+u*m,e.m01=h*i+u*l,e.m02=h*s+u*c,e.m03=h*m-u*t,e.m04=h*l-u*i,e.m05=h*c-u*s,e.m06=o,e.m07=a,e.m08=f,e};k.scale=function(e,n,r){let t=r.x,i=r.y;return e.m00=t*n.m00,e.m01=t*n.m01,e.m02=t*n.m02,e.m03=i*n.m03,e.m04=i*n.m04,e.m05=i*n.m05,e.m06=n.m06,e.m07=n.m07,e.m08=n.m08,e};k.fromMat4=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m04,e.m04=n.m05,e.m05=n.m06,e.m06=n.m08,e.m07=n.m09,e.m08=n.m10,e};k.fromTranslation=function(e,n){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=1,e.m05=0,e.m06=n.x,e.m07=n.y,e.m08=1,e};k.fromRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=t,e.m01=r,e.m02=0,e.m03=-r,e.m04=t,e.m05=0,e.m06=0,e.m07=0,e.m08=1,e};k.fromScaling=function(e,n){return e.m00=n.x,e.m01=0,e.m02=0,e.m03=0,e.m04=n.y,e.m05=0,e.m06=0,e.m07=0,e.m08=1,e};k.fromMat2d=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=0,e.m03=n.m02,e.m04=n.m03,e.m05=0,e.m06=n.m04,e.m07=n.m05,e.m08=1,e};k.fromQuat=function(e,n){let r=n.x,t=n.y,i=n.z,s=n.w,m=r+r,l=t+t,c=i+i,o=r*m,a=t*m,f=t*l,u=i*m,h=i*l,y=i*c,p=s*m,g=s*l,x=s*c;return e.m00=1-f-y,e.m03=a-x,e.m06=u+g,e.m01=a+x,e.m04=1-o-y,e.m07=h-p,e.m02=u-g,e.m05=h+p,e.m08=1-o-f,e};k.fromViewUp=function(){let e=A.new(0,1,0),n=A.create(),r=A.create();return function(t,i,s){return A.sqrLen(i)<R*R||(s=s||e,A.cross(n,s,i),A.sqrLen(n)<R*R)?(k.identity(t),t):(A.cross(r,i,n),k.set(t,n.x,n.y,n.z,r.x,r.y,r.z,i.x,i.y,i.z),t)}}();k.normalFromMat4=function(e,n){let r=n.m00,t=n.m01,i=n.m02,s=n.m03,m=n.m04,l=n.m05,c=n.m06,o=n.m07,a=n.m08,f=n.m09,u=n.m10,h=n.m11,y=n.m12,p=n.m13,g=n.m14,x=n.m15,v=r*l-t*m,_=r*c-i*m,d=r*o-s*m,M=t*c-i*l,w=t*o-s*l,S=i*o-s*c,$=a*p-f*y,j=a*g-u*y,D=a*x-h*y,C=f*g-u*p,O=f*x-h*p,F=u*x-h*g,b=v*F-_*O+d*C+M*D-w*j+S*$;return b?(b=1/b,e.m00=(l*F-c*O+o*C)*b,e.m01=(c*D-m*F-o*j)*b,e.m02=(m*O-l*D+o*$)*b,e.m03=(i*O-t*F-s*C)*b,e.m04=(r*F-i*D+s*j)*b,e.m05=(t*D-r*O-s*$)*b,e.m06=(p*S-g*w+x*M)*b,e.m07=(g*d-y*S-x*_)*b,e.m08=(y*w-p*d+x*v)*b,e):null};k.str=function(e){return`mat3(${e.m00}, ${e.m01}, ${e.m02}, ${e.m03}, ${e.m04}, ${e.m05}, ${e.m06}, ${e.m07}, ${e.m08})`};k.array=function(e,n){return e[0]=n.m00,e[1]=n.m01,e[2]=n.m02,e[3]=n.m03,e[4]=n.m04,e[5]=n.m05,e[6]=n.m06,e[7]=n.m07,e[8]=n.m08,e};k.frob=function(e){return Math.sqrt(Math.pow(e.m00,2)+Math.pow(e.m01,2)+Math.pow(e.m02,2)+Math.pow(e.m03,2)+Math.pow(e.m04,2)+Math.pow(e.m05,2)+Math.pow(e.m06,2)+Math.pow(e.m07,2)+Math.pow(e.m08,2))};k.add=function(e,n,r){return e.m00=n.m00+r.m00,e.m01=n.m01+r.m01,e.m02=n.m02+r.m02,e.m03=n.m03+r.m03,e.m04=n.m04+r.m04,e.m05=n.m05+r.m05,e.m06=n.m06+r.m06,e.m07=n.m07+r.m07,e.m08=n.m08+r.m08,e};k.subtract=function(e,n,r){return e.m00=n.m00-r.m00,e.m01=n.m01-r.m01,e.m02=n.m02-r.m02,e.m03=n.m03-r.m03,e.m04=n.m04-r.m04,e.m05=n.m05-r.m05,e.m06=n.m06-r.m06,e.m07=n.m07-r.m07,e.m08=n.m08-r.m08,e};k.sub=k.subtract;k.multiplyScalar=function(e,n,r){return e.m00=n.m00*r,e.m01=n.m01*r,e.m02=n.m02*r,e.m03=n.m03*r,e.m04=n.m04*r,e.m05=n.m05*r,e.m06=n.m06*r,e.m07=n.m07*r,e.m08=n.m08*r,e};k.multiplyScalarAndAdd=function(e,n,r,t){return e.m00=n.m00+r.m00*t,e.m01=n.m01+r.m01*t,e.m02=n.m02+r.m02*t,e.m03=n.m03+r.m03*t,e.m04=n.m04+r.m04*t,e.m05=n.m05+r.m05*t,e.m06=n.m06+r.m06*t,e.m07=n.m07+r.m07*t,e.m08=n.m08+r.m08*t,e};k.exactEquals=function(e,n){return e.m00===n.m00&&e.m01===n.m01&&e.m02===n.m02&&e.m03===n.m03&&e.m04===n.m04&&e.m05===n.m05&&e.m06===n.m06&&e.m07===n.m07&&e.m08===n.m08};k.equals=function(e,n){let r=e.m00,t=e.m01,i=e.m02,s=e.m03,m=e.m04,l=e.m05,c=e.m06,o=e.m07,a=e.m08,f=n.m00,u=n.m01,h=n.m02,y=n.m03,p=n.m04,g=n.m05,x=n.m06,v=n.m07,_=n.m08;return Math.abs(r-f)<=R*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(t-u)<=R*Math.max(1,Math.abs(t),Math.abs(u))&&Math.abs(i-h)<=R*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-y)<=R*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(m-p)<=R*Math.max(1,Math.abs(m),Math.abs(p))&&Math.abs(l-g)<=R*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-x)<=R*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(o-v)<=R*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-_)<=R*Math.max(1,Math.abs(a),Math.abs(_))};let he=new Array(4);class Qe{constructor(n,r,t,i){this.x=n,this.y=r,this.z=t,this.w=i}toJSON(){return he[0]=this.x,he[1]=this.y,he[2]=this.z,he[3]=this.w,he}}let T={};T.create=function(){return new Qe(0,0,0,1)};T.new=function(e,n,r,t){return new Qe(e,n,r,t)};T.clone=function(e){return new Qe(e.x,e.y,e.z,e.w)};T.copy=q.copy;T.set=q.set;T.identity=function(e){return e.x=0,e.y=0,e.z=0,e.w=1,e};T.rotationTo=function(){let e=A.create(),n=A.new(1,0,0),r=A.new(0,1,0);return function(t,i,s){let m=A.dot(i,s);return m<-.999999?(A.cross(e,n,i),A.length(e)<1e-6&&A.cross(e,r,i),A.normalize(e,e),T.fromAxisAngle(t,e,Math.PI),t):m>.999999?(t.x=0,t.y=0,t.z=0,t.w=1,t):(A.cross(e,i,s),t.x=e.x,t.y=e.y,t.z=e.z,t.w=1+m,T.normalize(t,t))}}();T.getAxisAngle=function(e,n){let r=Math.acos(n.w)*2,t=Math.sin(r/2);return t!=0?(e.x=n.x/t,e.y=n.y/t,e.z=n.z/t):(e.x=1,e.y=0,e.z=0),r};T.multiply=function(e,n,r){let t=n.x,i=n.y,s=n.z,m=n.w,l=r.x,c=r.y,o=r.z,a=r.w;return e.x=t*a+m*l+i*o-s*c,e.y=i*a+m*c+s*l-t*o,e.z=s*a+m*o+t*c-i*l,e.w=m*a-t*l-i*c-s*o,e};T.mul=T.multiply;T.scale=q.scale;T.rotateX=function(e,n,r){r*=.5;let t=n.x,i=n.y,s=n.z,m=n.w,l=Math.sin(r),c=Math.cos(r);return e.x=t*c+m*l,e.y=i*c+s*l,e.z=s*c-i*l,e.w=m*c-t*l,e};T.rotateY=function(e,n,r){r*=.5;let t=n.x,i=n.y,s=n.z,m=n.w,l=Math.sin(r),c=Math.cos(r);return e.x=t*c-s*l,e.y=i*c+m*l,e.z=s*c+t*l,e.w=m*c-i*l,e};T.rotateZ=function(e,n,r){r*=.5;let t=n.x,i=n.y,s=n.z,m=n.w,l=Math.sin(r),c=Math.cos(r);return e.x=t*c+i*l,e.y=i*c-t*l,e.z=s*c+m*l,e.w=m*c-s*l,e};T.rotateAround=function(){let e=A.create(),n=T.create();return function(r,t,i,s){return T.invert(n,t),A.transformQuat(e,i,n),T.fromAxisAngle(n,e,s),T.mul(r,t,n),r}}();T.rotateAroundLocal=function(){let e=T.create();return function(n,r,t,i){return T.fromAxisAngle(e,t,i),T.mul(n,r,e),n}}();T.calculateW=function(e,n){let r=n.x,t=n.y,i=n.z;return e.x=r,e.y=t,e.z=i,e.w=Math.sqrt(Math.abs(1-r*r-t*t-i*i)),e};T.dot=q.dot;T.lerp=q.lerp;T.slerp=function(e,n,r,t){let i=n.x,s=n.y,m=n.z,l=n.w,c=r.x,o=r.y,a=r.z,f=r.w,u,h,y,p,g;return h=i*c+s*o+m*a+l*f,h<0&&(h=-h,c=-c,o=-o,a=-a,f=-f),1-h>1e-6?(u=Math.acos(h),y=Math.sin(u),p=Math.sin((1-t)*u)/y,g=Math.sin(t*u)/y):(p=1-t,g=t),e.x=p*i+g*c,e.y=p*s+g*o,e.z=p*m+g*a,e.w=p*l+g*f,e};T.sqlerp=function(){let e=T.create(),n=T.create();return function(r,t,i,s,m,l){return T.slerp(e,t,m,l),T.slerp(n,i,s,l),T.slerp(r,e,n,2*l*(1-l)),r}}();T.invert=function(e,n){let r=n.x,t=n.y,i=n.z,s=n.w,m=r*r+t*t+i*i+s*s,l=m?1/m:0;return e.x=-r*l,e.y=-t*l,e.z=-i*l,e.w=s*l,e};T.conjugate=function(e,n){return e.x=-n.x,e.y=-n.y,e.z=-n.z,e.w=n.w,e};T.length=q.length;T.len=T.length;T.squaredLength=q.squaredLength;T.sqrLen=T.squaredLength;T.normalize=q.normalize;T.fromAxes=function(){let e=k.create();return function(n,r,t,i){return k.set(e,r.x,r.y,r.z,t.x,t.y,t.z,i.x,i.y,i.z),T.normalize(n,T.fromMat3(n,e))}}();T.fromViewUp=function(){let e=k.create();return function(n,r,t){return k.fromViewUp(e,r,t),e?T.normalize(n,T.fromMat3(n,e)):null}}();T.fromAxisAngle=function(e,n,r){r=r*.5;let t=Math.sin(r);return e.x=t*n.x,e.y=t*n.y,e.z=t*n.z,e.w=Math.cos(r),e};T.fromMat3=function(e,n){let r=n.m00,t=n.m03,i=n.m06,s=n.m01,m=n.m04,l=n.m07,c=n.m02,o=n.m05,a=n.m08,f=r+m+a;if(f>0){let u=.5/Math.sqrt(f+1);e.w=.25/u,e.x=(o-l)*u,e.y=(i-c)*u,e.z=(s-t)*u}else if(r>m&&r>a){let u=2*Math.sqrt(1+r-m-a);e.w=(o-l)/u,e.x=.25*u,e.y=(t+s)/u,e.z=(i+c)/u}else if(m>a){let u=2*Math.sqrt(1+m-r-a);e.w=(i-c)/u,e.x=(t+s)/u,e.y=.25*u,e.z=(l+o)/u}else{let u=2*Math.sqrt(1+a-r-m);e.w=(s-t)/u,e.x=(i+c)/u,e.y=(l+o)/u,e.z=.25*u}return e};T.fromEuler=function(e,n,r,t){let i=.5*Math.PI/180;n*=i,r*=i,t*=i;let s=Math.sin(n),m=Math.cos(n),l=Math.sin(r),c=Math.cos(r),o=Math.sin(t),a=Math.cos(t);return e.x=s*c*a-m*l*o,e.y=m*l*a+s*c*o,e.z=m*c*o-s*l*a,e.w=m*c*a+s*l*o,e};T.str=function(e){return`quat(${e.x}, ${e.y}, ${e.z}, ${e.w})`};T.array=function(e,n){return e[0]=n.x,e[1]=n.y,e[2]=n.z,e[3]=n.w,e};T.exactEquals=q.exactEquals;T.equals=q.equals;let ue=new Array(4);class Xe{constructor(n,r,t,i){this.m00=n,this.m01=r,this.m02=t,this.m03=i}toJSON(){return ue[0]=this.m00,ue[1]=this.m01,ue[2]=this.m02,ue[3]=this.m03,ue}}let V={};V.create=function(){return new Xe(1,0,0,1)};V.new=function(e,n,r,t){return new Xe(e,n,r,t)};V.clone=function(e){return new Xe(e.m00,e.m01,e.m02,e.m03)};V.copy=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m03,e};V.identity=function(e){return e.m00=1,e.m01=0,e.m02=0,e.m03=1,e};V.set=function(e,n,r,t,i){return e.m00=n,e.m01=r,e.m02=t,e.m03=i,e};V.transpose=function(e,n){if(e===n){let r=n.m01;e.m01=n.m02,e.m02=r}else e.m00=n.m00,e.m01=n.m02,e.m02=n.m01,e.m03=n.m03;return e};V.invert=function(e,n){let r=n.m00,t=n.m01,i=n.m02,s=n.m03,m=r*s-i*t;return m?(m=1/m,e.m00=s*m,e.m01=-t*m,e.m02=-i*m,e.m03=r*m,e):null};V.adjoint=function(e,n){let r=n.m00;return e.m00=n.m03,e.m01=-n.m01,e.m02=-n.m02,e.m03=r,e};V.determinant=function(e){return e.m00*e.m03-e.m02*e.m01};V.multiply=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=r.m00,c=r.m01,o=r.m02,a=r.m03;return e.m00=t*l+s*c,e.m01=i*l+m*c,e.m02=t*o+s*a,e.m03=i*o+m*a,e};V.mul=V.multiply;V.rotate=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=Math.sin(r),c=Math.cos(r);return e.m00=t*c+s*l,e.m01=i*c+m*l,e.m02=t*-l+s*c,e.m03=i*-l+m*c,e};V.scale=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=r.x,c=r.y;return e.m00=t*l,e.m01=i*l,e.m02=s*c,e.m03=m*c,e};V.fromRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=t,e.m01=r,e.m02=-r,e.m03=t,e};V.fromScaling=function(e,n){return e.m00=n.x,e.m01=0,e.m02=0,e.m03=n.y,e};V.str=function(e){return`mat2(${e.m00}, ${e.m01}, ${e.m02}, ${e.m03})`};V.array=function(e,n){return e[0]=n.m00,e[1]=n.m01,e[2]=n.m02,e[3]=n.m03,e};V.frob=function(e){return Math.sqrt(Math.pow(e.m00,2)+Math.pow(e.m01,2)+Math.pow(e.m02,2)+Math.pow(e.m03,2))};V.LDU=function(e,n,r,t){e.m02=t.m02/t.m00,r.m00=t.m00,r.m01=t.m01,r.m03=t.m03-e.m02*r.m01};V.add=function(e,n,r){return e.m00=n.m00+r.m00,e.m01=n.m01+r.m01,e.m02=n.m02+r.m02,e.m03=n.m03+r.m03,e};V.subtract=function(e,n,r){return e.m00=n.m00-r.m00,e.m01=n.m01-r.m01,e.m02=n.m02-r.m02,e.m03=n.m03-r.m03,e};V.sub=V.subtract;V.exactEquals=function(e,n){return e.m00===n.m00&&e.m01===n.m01&&e.m02===n.m02&&e.m03===n.m03};V.equals=function(e,n){let r=e.m00,t=e.m01,i=e.m02,s=e.m03,m=n.m00,l=n.m01,c=n.m02,o=n.m03;return Math.abs(r-m)<=R*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(t-l)<=R*Math.max(1,Math.abs(t),Math.abs(l))&&Math.abs(i-c)<=R*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(s-o)<=R*Math.max(1,Math.abs(s),Math.abs(o))};V.multiplyScalar=function(e,n,r){return e.m00=n.m00*r,e.m01=n.m01*r,e.m02=n.m02*r,e.m03=n.m03*r,e};V.multiplyScalarAndAdd=function(e,n,r,t){return e.m00=n.m00+r.m00*t,e.m01=n.m01+r.m01*t,e.m02=n.m02+r.m02*t,e.m03=n.m03+r.m03*t,e};let ie=new Array(6);class Ye{constructor(n,r,t,i,s,m){this.m00=n,this.m01=r,this.m02=t,this.m03=i,this.m04=s,this.m05=m}toJSON(){return ie[0]=this.m00,ie[1]=this.m01,ie[2]=this.m02,ie[3]=this.m03,ie[4]=this.m04,ie[5]=this.m05,ie}}let G={};G.create=function(){return new Ye(1,0,0,1,0,0)};G.new=function(e,n,r,t,i,s){return new Ye(e,n,r,t,i,s)};G.clone=function(e){return new Ye(e.m00,e.m01,e.m02,e.m03,e.m04,e.m05)};G.copy=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m03,e.m04=n.m04,e.m05=n.m05,e};G.identity=function(e){return e.m00=1,e.m01=0,e.m02=0,e.m03=1,e.m04=0,e.m05=0,e};G.set=function(e,n,r,t,i,s,m){return e.m00=n,e.m01=r,e.m02=t,e.m03=i,e.m04=s,e.m05=m,e};G.invert=function(e,n){let r=n.m00,t=n.m01,i=n.m02,s=n.m03,m=n.m04,l=n.m05,c=r*s-t*i;return c?(c=1/c,e.m00=s*c,e.m01=-t*c,e.m02=-i*c,e.m03=r*c,e.m04=(i*l-s*m)*c,e.m05=(t*m-r*l)*c,e):null};G.determinant=function(e){return e.m00*e.m03-e.m01*e.m02};G.multiply=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=n.m04,c=n.m05,o=r.m00,a=r.m01,f=r.m02,u=r.m03,h=r.m04,y=r.m05;return e.m00=t*o+s*a,e.m01=i*o+m*a,e.m02=t*f+s*u,e.m03=i*f+m*u,e.m04=t*h+s*y+l,e.m05=i*h+m*y+c,e};G.mul=G.multiply;G.rotate=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=n.m04,c=n.m05,o=Math.sin(r),a=Math.cos(r);return e.m00=t*a+s*o,e.m01=i*a+m*o,e.m02=t*-o+s*a,e.m03=i*-o+m*a,e.m04=l,e.m05=c,e};G.scale=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=n.m04,c=n.m05,o=r.x,a=r.y;return e.m00=t*o,e.m01=i*o,e.m02=s*a,e.m03=m*a,e.m04=l,e.m05=c,e};G.translate=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=n.m04,c=n.m05,o=r.x,a=r.y;return e.m00=t,e.m01=i,e.m02=s,e.m03=m,e.m04=t*o+s*a+l,e.m05=i*o+m*a+c,e};G.fromRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=t,e.m01=r,e.m02=-r,e.m03=t,e.m04=0,e.m05=0,e};G.fromScaling=function(e,n){return e.m00=n.m00,e.m01=0,e.m02=0,e.m03=n.m01,e.m04=0,e.m05=0,e};G.fromTranslation=function(e,n){return e.m00=1,e.m01=0,e.m02=0,e.m03=1,e.m04=n.x,e.m05=n.y,e};G.fromRTS=function(e,n,r,t){let i=Math.sin(n),s=Math.cos(n);return e.m00=s*t.x,e.m01=i*t.x,e.m02=-i*t.y,e.m03=s*t.y,e.m04=r.x,e.m05=r.y,e};G.str=function(e){return`mat23(${e.m00}, ${e.m01}, ${e.m02}, ${e.m03}, ${e.m04}, ${e.m05})`};G.array=function(e,n){return e[0]=n.m00,e[1]=n.m01,e[2]=n.m02,e[3]=n.m03,e[4]=n.m04,e[5]=n.m05,e};G.array4x4=function(e,n){return e[0]=n.m00,e[1]=n.m01,e[2]=0,e[3]=0,e[4]=n.m02,e[5]=n.m03,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=n.m04,e[13]=n.m05,e[14]=0,e[15]=1,e};G.frob=function(e){return Math.sqrt(Math.pow(e.m00,2)+Math.pow(e.m01,2)+Math.pow(e.m02,2)+Math.pow(e.m03,2)+Math.pow(e.m04,2)+Math.pow(e.m05,2)+1)};G.add=function(e,n,r){return e.m00=n.m00+r.m00,e.m01=n.m01+r.m01,e.m02=n.m02+r.m02,e.m03=n.m03+r.m03,e.m04=n.m04+r.m04,e.m05=n.m05+r.m05,e};G.subtract=function(e,n,r){return e.m00=n.m00-r.m00,e.m01=n.m01-r.m01,e.m02=n.m02-r.m02,e.m03=n.m03-r.m03,e.m04=n.m04-r.m04,e.m05=n.m05-r.m05,e};G.sub=G.subtract;G.multiplyScalar=function(e,n,r){return e.m00=n.m00*r,e.m01=n.m01*r,e.m02=n.m02*r,e.m03=n.m03*r,e.m04=n.m04*r,e.m05=n.m05*r,e};G.multiplyScalarAndAdd=function(e,n,r,t){return e.m00=n.m00+r.m00*t,e.m01=n.m01+r.m01*t,e.m02=n.m02+r.m02*t,e.m03=n.m03+r.m03*t,e.m04=n.m04+r.m04*t,e.m05=n.m05+r.m05*t,e};G.exactEquals=function(e,n){return e.m00===n.m00&&e.m01===n.m01&&e.m02===n.m02&&e.m03===n.m03&&e.m04===n.m04&&e.m05===n.m05};G.equals=function(e,n){let r=e.m00,t=e.m01,i=e.m02,s=e.m03,m=e.m04,l=e.m05,c=n.m00,o=n.m01,a=n.m02,f=n.m03,u=n.m04,h=n.m05;return Math.abs(r-c)<=R*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(t-o)<=R*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(i-a)<=R*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(s-f)<=R*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(m-u)<=R*Math.max(1,Math.abs(m),Math.abs(u))&&Math.abs(l-h)<=R*Math.max(1,Math.abs(l),Math.abs(h))};let H=new Array(16);class Ze{constructor(n,r,t,i,s,m,l,c,o,a,f,u,h,y,p,g){this.m00=n,this.m01=r,this.m02=t,this.m03=i,this.m04=s,this.m05=m,this.m06=l,this.m07=c,this.m08=o,this.m09=a,this.m10=f,this.m11=u,this.m12=h,this.m13=y,this.m14=p,this.m15=g}toJSON(){return H[0]=this.m00,H[1]=this.m01,H[2]=this.m02,H[3]=this.m03,H[4]=this.m04,H[5]=this.m05,H[6]=this.m06,H[7]=this.m07,H[8]=this.m08,H[9]=this.m09,H[10]=this.m10,H[11]=this.m11,H[12]=this.m12,H[13]=this.m13,H[14]=this.m14,H[15]=this.m15,H}}let I={};I.create=function(){return new Ze(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)};I.new=function(e,n,r,t,i,s,m,l,c,o,a,f,u,h,y,p){return new Ze(e,n,r,t,i,s,m,l,c,o,a,f,u,h,y,p)};I.clone=function(e){return new Ze(e.m00,e.m01,e.m02,e.m03,e.m04,e.m05,e.m06,e.m07,e.m08,e.m09,e.m10,e.m11,e.m12,e.m13,e.m14,e.m15)};I.copy=function(e,n){return e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m03,e.m04=n.m04,e.m05=n.m05,e.m06=n.m06,e.m07=n.m07,e.m08=n.m08,e.m09=n.m09,e.m10=n.m10,e.m11=n.m11,e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15,e};I.set=function(e,n,r,t,i,s,m,l,c,o,a,f,u,h,y,p,g){return e.m00=n,e.m01=r,e.m02=t,e.m03=i,e.m04=s,e.m05=m,e.m06=l,e.m07=c,e.m08=o,e.m09=a,e.m10=f,e.m11=u,e.m12=h,e.m13=y,e.m14=p,e.m15=g,e};I.identity=function(e){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=1,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=1,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};I.transpose=function(e,n){if(e===n){let r=n.m01,t=n.m02,i=n.m03,s=n.m06,m=n.m07,l=n.m11;e.m01=n.m04,e.m02=n.m08,e.m03=n.m12,e.m04=r,e.m06=n.m09,e.m07=n.m13,e.m08=t,e.m09=s,e.m11=n.m14,e.m12=i,e.m13=m,e.m14=l}else e.m00=n.m00,e.m01=n.m04,e.m02=n.m08,e.m03=n.m12,e.m04=n.m01,e.m05=n.m05,e.m06=n.m09,e.m07=n.m13,e.m08=n.m02,e.m09=n.m06,e.m10=n.m10,e.m11=n.m14,e.m12=n.m03,e.m13=n.m07,e.m14=n.m11,e.m15=n.m15;return e};I.invert=function(e,n){let r=n.m00,t=n.m01,i=n.m02,s=n.m03,m=n.m04,l=n.m05,c=n.m06,o=n.m07,a=n.m08,f=n.m09,u=n.m10,h=n.m11,y=n.m12,p=n.m13,g=n.m14,x=n.m15,v=r*l-t*m,_=r*c-i*m,d=r*o-s*m,M=t*c-i*l,w=t*o-s*l,S=i*o-s*c,$=a*p-f*y,j=a*g-u*y,D=a*x-h*y,C=f*g-u*p,O=f*x-h*p,F=u*x-h*g,b=v*F-_*O+d*C+M*D-w*j+S*$;return b?(b=1/b,e.m00=(l*F-c*O+o*C)*b,e.m01=(i*O-t*F-s*C)*b,e.m02=(p*S-g*w+x*M)*b,e.m03=(u*w-f*S-h*M)*b,e.m04=(c*D-m*F-o*j)*b,e.m05=(r*F-i*D+s*j)*b,e.m06=(g*d-y*S-x*_)*b,e.m07=(a*S-u*d+h*_)*b,e.m08=(m*O-l*D+o*$)*b,e.m09=(t*D-r*O-s*$)*b,e.m10=(y*w-p*d+x*v)*b,e.m11=(f*d-a*w-h*v)*b,e.m12=(l*j-m*C-c*$)*b,e.m13=(r*C-t*j+i*$)*b,e.m14=(p*_-y*M-g*v)*b,e.m15=(a*M-f*_+u*v)*b,e):null};I.adjoint=function(e,n){let r=n.m00,t=n.m01,i=n.m02,s=n.m03,m=n.m04,l=n.m05,c=n.m06,o=n.m07,a=n.m08,f=n.m09,u=n.m10,h=n.m11,y=n.m12,p=n.m13,g=n.m14,x=n.m15;return e.m00=l*(u*x-h*g)-f*(c*x-o*g)+p*(c*h-o*u),e.m01=-(t*(u*x-h*g)-f*(i*x-s*g)+p*(i*h-s*u)),e.m02=t*(c*x-o*g)-l*(i*x-s*g)+p*(i*o-s*c),e.m03=-(t*(c*h-o*u)-l*(i*h-s*u)+f*(i*o-s*c)),e.m04=-(m*(u*x-h*g)-a*(c*x-o*g)+y*(c*h-o*u)),e.m05=r*(u*x-h*g)-a*(i*x-s*g)+y*(i*h-s*u),e.m06=-(r*(c*x-o*g)-m*(i*x-s*g)+y*(i*o-s*c)),e.m07=r*(c*h-o*u)-m*(i*h-s*u)+a*(i*o-s*c),e.m08=m*(f*x-h*p)-a*(l*x-o*p)+y*(l*h-o*f),e.m09=-(r*(f*x-h*p)-a*(t*x-s*p)+y*(t*h-s*f)),e.m10=r*(l*x-o*p)-m*(t*x-s*p)+y*(t*o-s*l),e.m11=-(r*(l*h-o*f)-m*(t*h-s*f)+a*(t*o-s*l)),e.m12=-(m*(f*g-u*p)-a*(l*g-c*p)+y*(l*u-c*f)),e.m13=r*(f*g-u*p)-a*(t*g-i*p)+y*(t*u-i*f),e.m14=-(r*(l*g-c*p)-m*(t*g-i*p)+y*(t*c-i*l)),e.m15=r*(l*u-c*f)-m*(t*u-i*f)+a*(t*c-i*l),e};I.determinant=function(e){let n=e.m00,r=e.m01,t=e.m02,i=e.m03,s=e.m04,m=e.m05,l=e.m06,c=e.m07,o=e.m08,a=e.m09,f=e.m10,u=e.m11,h=e.m12,y=e.m13,p=e.m14,g=e.m15,x=n*m-r*s,v=n*l-t*s,_=n*c-i*s,d=r*l-t*m,M=r*c-i*m,w=t*c-i*l,S=o*y-a*h,$=o*p-f*h,j=o*g-u*h,D=a*p-f*y,C=a*g-u*y,O=f*g-u*p;return x*O-v*C+_*D+d*j-M*$+w*S};I.multiply=function(e,n,r){let t=n.m00,i=n.m01,s=n.m02,m=n.m03,l=n.m04,c=n.m05,o=n.m06,a=n.m07,f=n.m08,u=n.m09,h=n.m10,y=n.m11,p=n.m12,g=n.m13,x=n.m14,v=n.m15,_=r.m00,d=r.m01,M=r.m02,w=r.m03;return e.m00=_*t+d*l+M*f+w*p,e.m01=_*i+d*c+M*u+w*g,e.m02=_*s+d*o+M*h+w*x,e.m03=_*m+d*a+M*y+w*v,_=r.m04,d=r.m05,M=r.m06,w=r.m07,e.m04=_*t+d*l+M*f+w*p,e.m05=_*i+d*c+M*u+w*g,e.m06=_*s+d*o+M*h+w*x,e.m07=_*m+d*a+M*y+w*v,_=r.m08,d=r.m09,M=r.m10,w=r.m11,e.m08=_*t+d*l+M*f+w*p,e.m09=_*i+d*c+M*u+w*g,e.m10=_*s+d*o+M*h+w*x,e.m11=_*m+d*a+M*y+w*v,_=r.m12,d=r.m13,M=r.m14,w=r.m15,e.m12=_*t+d*l+M*f+w*p,e.m13=_*i+d*c+M*u+w*g,e.m14=_*s+d*o+M*h+w*x,e.m15=_*m+d*a+M*y+w*v,e};I.mul=I.multiply;I.translate=function(e,n,r){let t=r.x,i=r.y,s=r.z,m,l,c,o,a,f,u,h,y,p,g,x;return n===e?(e.m12=n.m00*t+n.m04*i+n.m08*s+n.m12,e.m13=n.m01*t+n.m05*i+n.m09*s+n.m13,e.m14=n.m02*t+n.m06*i+n.m10*s+n.m14,e.m15=n.m03*t+n.m07*i+n.m11*s+n.m15):(m=n.m00,l=n.m01,c=n.m02,o=n.m03,a=n.m04,f=n.m05,u=n.m06,h=n.m07,y=n.m08,p=n.m09,g=n.m10,x=n.m11,e.m00=m,e.m01=l,e.m02=c,e.m03=o,e.m04=a,e.m05=f,e.m06=u,e.m07=h,e.m08=y,e.m09=p,e.m10=g,e.m11=x,e.m12=m*t+a*i+y*s+n.m12,e.m13=l*t+f*i+p*s+n.m13,e.m14=c*t+u*i+g*s+n.m14,e.m15=o*t+h*i+x*s+n.m15),e};I.scale=function(e,n,r){let t=r.x,i=r.y,s=r.z;return e.m00=n.m00*t,e.m01=n.m01*t,e.m02=n.m02*t,e.m03=n.m03*t,e.m04=n.m04*i,e.m05=n.m05*i,e.m06=n.m06*i,e.m07=n.m07*i,e.m08=n.m08*s,e.m09=n.m09*s,e.m10=n.m10*s,e.m11=n.m11*s,e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15,e};I.rotate=function(e,n,r,t){let i=t.x,s=t.y,m=t.z,l,c,o,a,f,u,h,y,p,g,x,v,_,d,M,w,S,$,j,D,C,O,F,b,E=Math.sqrt(i*i+s*s+m*m);return Math.abs(E)<R?null:(E=1/E,i*=E,s*=E,m*=E,l=Math.sin(r),c=Math.cos(r),o=1-c,a=n.m00,f=n.m01,u=n.m02,h=n.m03,y=n.m04,p=n.m05,g=n.m06,x=n.m07,v=n.m08,_=n.m09,d=n.m10,M=n.m11,w=i*i*o+c,S=s*i*o+m*l,$=m*i*o-s*l,j=i*s*o-m*l,D=s*s*o+c,C=m*s*o+i*l,O=i*m*o+s*l,F=s*m*o-i*l,b=m*m*o+c,e.m00=a*w+y*S+v*$,e.m01=f*w+p*S+_*$,e.m02=u*w+g*S+d*$,e.m03=h*w+x*S+M*$,e.m04=a*j+y*D+v*C,e.m05=f*j+p*D+_*C,e.m06=u*j+g*D+d*C,e.m07=h*j+x*D+M*C,e.m08=a*O+y*F+v*b,e.m09=f*O+p*F+_*b,e.m10=u*O+g*F+d*b,e.m11=h*O+x*F+M*b,n!==e&&(e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15),e)};I.rotateX=function(e,n,r){let t=Math.sin(r),i=Math.cos(r),s=n.m04,m=n.m05,l=n.m06,c=n.m07,o=n.m08,a=n.m09,f=n.m10,u=n.m11;return n!==e&&(e.m00=n.m00,e.m01=n.m01,e.m02=n.m02,e.m03=n.m03,e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15),e.m04=s*i+o*t,e.m05=m*i+a*t,e.m06=l*i+f*t,e.m07=c*i+u*t,e.m08=o*i-s*t,e.m09=a*i-m*t,e.m10=f*i-l*t,e.m11=u*i-c*t,e};I.rotateY=function(e,n,r){let t=Math.sin(r),i=Math.cos(r),s=n.m00,m=n.m01,l=n.m02,c=n.m03,o=n.m08,a=n.m09,f=n.m10,u=n.m11;return n!==e&&(e.m04=n.m04,e.m05=n.m05,e.m06=n.m06,e.m07=n.m07,e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15),e.m00=s*i-o*t,e.m01=m*i-a*t,e.m02=l*i-f*t,e.m03=c*i-u*t,e.m08=s*t+o*i,e.m09=m*t+a*i,e.m10=l*t+f*i,e.m11=c*t+u*i,e};I.rotateZ=function(e,n,r){let t=Math.sin(r),i=Math.cos(r),s=n.m00,m=n.m01,l=n.m02,c=n.m03,o=n.m04,a=n.m05,f=n.m06,u=n.m07;return n!==e&&(e.m08=n.m08,e.m09=n.m09,e.m10=n.m10,e.m11=n.m11,e.m12=n.m12,e.m13=n.m13,e.m14=n.m14,e.m15=n.m15),e.m00=s*i+o*t,e.m01=m*i+a*t,e.m02=l*i+f*t,e.m03=c*i+u*t,e.m04=o*i-s*t,e.m05=a*i-m*t,e.m06=f*i-l*t,e.m07=u*i-c*t,e};I.fromTranslation=function(e,n){return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=1,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=1,e.m11=0,e.m12=n.x,e.m13=n.y,e.m14=n.z,e.m15=1,e};I.fromScaling=function(e,n){return e.m00=n.x,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=n.y,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=n.z,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};I.fromRotation=function(e,n,r){let t=r.x,i=r.y,s=r.z,m=Math.sqrt(t*t+i*i+s*s),l,c,o;return Math.abs(m)<R?null:(m=1/m,t*=m,i*=m,s*=m,l=Math.sin(n),c=Math.cos(n),o=1-c,e.m00=t*t*o+c,e.m01=i*t*o+s*l,e.m02=s*t*o-i*l,e.m03=0,e.m04=t*i*o-s*l,e.m05=i*i*o+c,e.m06=s*i*o+t*l,e.m07=0,e.m08=t*s*o+i*l,e.m09=i*s*o-t*l,e.m10=s*s*o+c,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e)};I.fromXRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=1,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=t,e.m06=r,e.m07=0,e.m08=0,e.m09=-r,e.m10=t,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};I.fromYRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=t,e.m01=0,e.m02=-r,e.m03=0,e.m04=0,e.m05=1,e.m06=0,e.m07=0,e.m08=r,e.m09=0,e.m10=t,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};I.fromZRotation=function(e,n){let r=Math.sin(n),t=Math.cos(n);return e.m00=t,e.m01=r,e.m02=0,e.m03=0,e.m04=-r,e.m05=t,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=1,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};I.fromRT=function(e,n,r){let t=n.x,i=n.y,s=n.z,m=n.w,l=t+t,c=i+i,o=s+s,a=t*l,f=t*c,u=t*o,h=i*c,y=i*o,p=s*o,g=m*l,x=m*c,v=m*o;return e.m00=1-(h+p),e.m01=f+v,e.m02=u-x,e.m03=0,e.m04=f-v,e.m05=1-(a+p),e.m06=y+g,e.m07=0,e.m08=u+x,e.m09=y-g,e.m10=1-(a+h),e.m11=0,e.m12=r.x,e.m13=r.y,e.m14=r.z,e.m15=1,e};I.getTranslation=function(e,n){return e.x=n.m12,e.y=n.m13,e.z=n.m14,e};I.getScaling=function(e,n){let r=n.m00,t=n.m01,i=n.m02,s=n.m04,m=n.m05,l=n.m06,c=n.m08,o=n.m09,a=n.m10;return e.x=Math.sqrt(r*r+t*t+i*i),e.y=Math.sqrt(s*s+m*m+l*l),e.z=Math.sqrt(c*c+o*o+a*a),e};I.getRotation=function(e,n){let r=n.m00+n.m05+n.m10,t=0;return r>0?(t=Math.sqrt(r+1)*2,e.w=.25*t,e.x=(n.m06-n.m09)/t,e.y=(n.m08-n.m02)/t,e.z=(n.m01-n.m04)/t):n.m00>n.m05&n.m00>n.m10?(t=Math.sqrt(1+n.m00-n.m05-n.m10)*2,e.w=(n.m06-n.m09)/t,e.x=.25*t,e.y=(n.m01+n.m04)/t,e.z=(n.m08+n.m02)/t):n.m05>n.m10?(t=Math.sqrt(1+n.m05-n.m00-n.m10)*2,e.w=(n.m08-n.m02)/t,e.x=(n.m01+n.m04)/t,e.y=.25*t,e.z=(n.m06+n.m09)/t):(t=Math.sqrt(1+n.m10-n.m00-n.m05)*2,e.w=(n.m01-n.m04)/t,e.x=(n.m08+n.m02)/t,e.y=(n.m06+n.m09)/t,e.z=.25*t),e};I.fromRTS=function(e,n,r,t){let i=n.x,s=n.y,m=n.z,l=n.w,c=i+i,o=s+s,a=m+m,f=i*c,u=i*o,h=i*a,y=s*o,p=s*a,g=m*a,x=l*c,v=l*o,_=l*a,d=t.x,M=t.y,w=t.z;return e.m00=(1-(y+g))*d,e.m01=(u+_)*d,e.m02=(h-v)*d,e.m03=0,e.m04=(u-_)*M,e.m05=(1-(f+g))*M,e.m06=(p+x)*M,e.m07=0,e.m08=(h+v)*w,e.m09=(p-x)*w,e.m10=(1-(f+y))*w,e.m11=0,e.m12=r.x,e.m13=r.y,e.m14=r.z,e.m15=1,e};I.fromRTSOrigin=function(e,n,r,t,i){let s=n.x,m=n.y,l=n.z,c=n.w,o=s+s,a=m+m,f=l+l,u=s*o,h=s*a,y=s*f,p=m*a,g=m*f,x=l*f,v=c*o,_=c*a,d=c*f,M=t.x,w=t.y,S=t.z,$=i.x,j=i.y,D=i.z;return e.m00=(1-(p+x))*M,e.m01=(h+d)*M,e.m02=(y-_)*M,e.m03=0,e.m04=(h-d)*w,e.m05=(1-(u+x))*w,e.m06=(g+v)*w,e.m07=0,e.m08=(y+_)*S,e.m09=(g-v)*S,e.m10=(1-(u+p))*S,e.m11=0,e.m12=r.x+$-(e.m00*$+e.m04*j+e.m08*D),e.m13=r.y+j-(e.m01*$+e.m05*j+e.m09*D),e.m14=r.z+D-(e.m02*$+e.m06*j+e.m10*D),e.m15=1,e};I.fromQuat=function(e,n){let r=n.x,t=n.y,i=n.z,s=n.w,m=r+r,l=t+t,c=i+i,o=r*m,a=t*m,f=t*l,u=i*m,h=i*l,y=i*c,p=s*m,g=s*l,x=s*c;return e.m00=1-f-y,e.m01=a+x,e.m02=u-g,e.m03=0,e.m04=a-x,e.m05=1-o-y,e.m06=h+p,e.m07=0,e.m08=u+g,e.m09=h-p,e.m10=1-o-f,e.m11=0,e.m12=0,e.m13=0,e.m14=0,e.m15=1,e};I.frustum=function(e,n,r,t,i,s,m){let l=1/(r-n),c=1/(i-t),o=1/(s-m);return e.m00=s*2*l,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=s*2*c,e.m06=0,e.m07=0,e.m08=(r+n)*l,e.m09=(i+t)*c,e.m10=(m+s)*o,e.m11=-1,e.m12=0,e.m13=0,e.m14=m*s*2*o,e.m15=0,e};I.perspective=function(e,n,r,t,i){let s=1/Math.tan(n/2),m=1/(t-i);return e.m00=s/r,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=s,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=(i+t)*m,e.m11=-1,e.m12=0,e.m13=0,e.m14=2*i*t*m,e.m15=0,e};I.perspectiveFromFieldOfView=function(e,n,r,t){let i=Math.tan(n.upDegrees*Math.PI/180),s=Math.tan(n.downDegrees*Math.PI/180),m=Math.tan(n.leftDegrees*Math.PI/180),l=Math.tan(n.rightDegrees*Math.PI/180),c=2/(m+l),o=2/(i+s);return e.m00=c,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=o,e.m06=0,e.m07=0,e.m08=-((m-l)*c*.5),e.m09=(i-s)*o*.5,e.m10=t/(r-t),e.m11=-1,e.m12=0,e.m13=0,e.m14=t*r/(r-t),e.m15=0,e};I.ortho=function(e,n,r,t,i,s,m){let l=1/(n-r),c=1/(t-i),o=1/(s-m);return e.m00=-2*l,e.m01=0,e.m02=0,e.m03=0,e.m04=0,e.m05=-2*c,e.m06=0,e.m07=0,e.m08=0,e.m09=0,e.m10=2*o,e.m11=0,e.m12=(n+r)*l,e.m13=(i+t)*c,e.m14=(m+s)*o,e.m15=1,e};I.lookAt=function(e,n,r,t){let i,s,m,l,c,o,a,f,u,h,y=n.x,p=n.y,g=n.z,x=t.x,v=t.y,_=t.z,d=r.x,M=r.y,w=r.z;return Math.abs(y-d)<R&&Math.abs(p-M)<R&&Math.abs(g-w)<R?I.identity(e):(a=y-d,f=p-M,u=g-w,h=1/Math.sqrt(a*a+f*f+u*u),a*=h,f*=h,u*=h,i=v*u-_*f,s=_*a-x*u,m=x*f-v*a,h=Math.sqrt(i*i+s*s+m*m),h?(h=1/h,i*=h,s*=h,m*=h):(i=0,s=0,m=0),l=f*m-u*s,c=u*i-a*m,o=a*s-f*i,h=Math.sqrt(l*l+c*c+o*o),h?(h=1/h,l*=h,c*=h,o*=h):(l=0,c=0,o=0),e.m00=i,e.m01=l,e.m02=a,e.m03=0,e.m04=s,e.m05=c,e.m06=f,e.m07=0,e.m08=m,e.m09=o,e.m10=u,e.m11=0,e.m12=-(i*y+s*p+m*g),e.m13=-(l*y+c*p+o*g),e.m14=-(a*y+f*p+u*g),e.m15=1,e)};I.str=function(e){return`mat4(${e.m00}, ${e.m01}, ${e.m02}, ${e.m03}, ${e.m04}, ${e.m05}, ${e.m06}, ${e.m07}, ${e.m08}, ${e.m09}, ${e.m10}, ${e.m11}, ${e.m12}, ${e.m13}, ${e.m14}, ${e.m15})`};I.array=function(e,n){return e[0]=n.m00,e[1]=n.m01,e[2]=n.m02,e[3]=n.m03,e[4]=n.m04,e[5]=n.m05,e[6]=n.m06,e[7]=n.m07,e[8]=n.m08,e[9]=n.m09,e[10]=n.m10,e[11]=n.m11,e[12]=n.m12,e[13]=n.m13,e[14]=n.m14,e[15]=n.m15,e};I.frob=function(e){return Math.sqrt(Math.pow(e.m00,2)+Math.pow(e.m01,2)+Math.pow(e.m02,2)+Math.pow(e.m03,2)+Math.pow(e.m04,2)+Math.pow(e.m05,2)+Math.pow(e.m06,2)+Math.pow(e.m07,2)+Math.pow(e.m08,2)+Math.pow(e.m09,2)+Math.pow(e.m10,2)+Math.pow(e.m11,2)+Math.pow(e.m12,2)+Math.pow(e.m13,2)+Math.pow(e.m14,2)+Math.pow(e.m15,2))};I.add=function(e,n,r){return e.m00=n.m00+r.m00,e.m01=n.m01+r.m01,e.m02=n.m02+r.m02,e.m03=n.m03+r.m03,e.m04=n.m04+r.m04,e.m05=n.m05+r.m05,e.m06=n.m06+r.m06,e.m07=n.m07+r.m07,e.m08=n.m08+r.m08,e.m09=n.m09+r.m09,e.m10=n.m10+r.m10,e.m11=n.m11+r.m11,e.m12=n.m12+r.m12,e.m13=n.m13+r.m13,e.m14=n.m14+r.m14,e.m15=n.m15+r.m15,e};I.subtract=function(e,n,r){return e.m00=n.m00-r.m00,e.m01=n.m01-r.m01,e.m02=n.m02-r.m02,e.m03=n.m03-r.m03,e.m04=n.m04-r.m04,e.m05=n.m05-r.m05,e.m06=n.m06-r.m06,e.m07=n.m07-r.m07,e.m08=n.m08-r.m08,e.m09=n.m09-r.m09,e.m10=n.m10-r.m10,e.m11=n.m11-r.m11,e.m12=n.m12-r.m12,e.m13=n.m13-r.m13,e.m14=n.m14-r.m14,e.m15=n.m15-r.m15,e};I.sub=I.subtract;I.multiplyScalar=function(e,n,r){return e.m00=n.m00*r,e.m01=n.m01*r,e.m02=n.m02*r,e.m03=n.m03*r,e.m04=n.m04*r,e.m05=n.m05*r,e.m06=n.m06*r,e.m07=n.m07*r,e.m08=n.m08*r,e.m09=n.m09*r,e.m10=n.m10*r,e.m11=n.m11*r,e.m12=n.m12*r,e.m13=n.m13*r,e.m14=n.m14*r,e.m15=n.m15*r,e};I.multiplyScalarAndAdd=function(e,n,r,t){return e.m00=n.m00+r.m00*t,e.m01=n.m01+r.m01*t,e.m02=n.m02+r.m02*t,e.m03=n.m03+r.m03*t,e.m04=n.m04+r.m04*t,e.m05=n.m05+r.m05*t,e.m06=n.m06+r.m06*t,e.m07=n.m07+r.m07*t,e.m08=n.m08+r.m08*t,e.m09=n.m09+r.m09*t,e.m10=n.m10+r.m10*t,e.m11=n.m11+r.m11*t,e.m12=n.m12+r.m12*t,e.m13=n.m13+r.m13*t,e.m14=n.m14+r.m14*t,e.m15=n.m15+r.m15*t,e};I.exactEquals=function(e,n){return e.m00===n.m00&&e.m01===n.m01&&e.m02===n.m02&&e.m03===n.m03&&e.m04===n.m04&&e.m05===n.m05&&e.m06===n.m06&&e.m07===n.m07&&e.m08===n.m08&&e.m09===n.m09&&e.m10===n.m10&&e.m11===n.m11&&e.m12===n.m12&&e.m13===n.m13&&e.m14===n.m14&&e.m15===n.m15};I.equals=function(e,n){let r=e.m00,t=e.m01,i=e.m02,s=e.m03,m=e.m04,l=e.m05,c=e.m06,o=e.m07,a=e.m08,f=e.m09,u=e.m10,h=e.m11,y=e.m12,p=e.m13,g=e.m14,x=e.m15,v=n.m00,_=n.m01,d=n.m02,M=n.m03,w=n.m04,S=n.m05,$=n.m06,j=n.m07,D=n.m08,C=n.m09,O=n.m10,F=n.m11,b=n.m12,E=n.m13,U=n.m14,B=n.m15;return Math.abs(r-v)<=R*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(t-_)<=R*Math.max(1,Math.abs(t),Math.abs(_))&&Math.abs(i-d)<=R*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-M)<=R*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(m-w)<=R*Math.max(1,Math.abs(m),Math.abs(w))&&Math.abs(l-S)<=R*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-$)<=R*Math.max(1,Math.abs(c),Math.abs($))&&Math.abs(o-j)<=R*Math.max(1,Math.abs(o),Math.abs(j))&&Math.abs(a-D)<=R*Math.max(1,Math.abs(a),Math.abs(D))&&Math.abs(f-C)<=R*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(u-O)<=R*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(h-F)<=R*Math.max(1,Math.abs(h),Math.abs(F))&&Math.abs(y-b)<=R*Math.max(1,Math.abs(y),Math.abs(b))&&Math.abs(p-E)<=R*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(g-U)<=R*Math.max(1,Math.abs(g),Math.abs(U))&&Math.abs(x-B)<=R*Math.max(1,Math.abs(x),Math.abs(B))};let we=new Array(3);class He{constructor(n,r,t){this.r=n,this.g=r,this.b=t}toJSON(){return we[0]=this.r,we[1]=this.g,we[2]=this.b,we}}let Q={};Q.create=function(){return new He(1,1,1)};Q.new=function(e,n,r){return new He(e,n,r)};Q.clone=function(e){return new He(e.r,e.g,e.b,e.a)};Q.copy=function(e,n){return e.r=n.r,e.g=n.g,e.b=n.b,e};Q.set=function(e,n,r,t){return e.r=n,e.g=r,e.b=t,e};Q.fromHex=function(e,n){let r=(n>>16)/255,t=(n>>8&255)/255,i=(n&255)/255;return e.r=r,e.g=t,e.b=i,e};Q.add=function(e,n,r){return e.r=n.r+r.r,e.g=n.g+r.g,e.b=n.b+r.b,e};Q.subtract=function(e,n,r){return e.r=n.r-r.r,e.g=n.g-r.g,e.b=n.b-r.b,e};Q.sub=Q.subtract;Q.multiply=function(e,n,r){return e.r=n.r*r.r,e.g=n.g*r.g,e.b=n.b*r.b,e};Q.mul=Q.multiply;Q.divide=function(e,n,r){return e.r=n.r/r.r,e.g=n.g/r.g,e.b=n.b/r.b,e};Q.div=Q.divide;Q.scale=function(e,n,r){return e.r=n.r*r,e.g=n.g*r,e.b=n.b*r,e};Q.lerp=function(e,n,r,t){let i=n.r,s=n.g,m=n.b;return e.r=i+t*(r.r-i),e.g=s+t*(r.g-s),e.b=m+t*(r.b-m),e};Q.str=function(e){return`color3(${e.r}, ${e.g}, ${e.b})`};Q.array=function(e,n){return e[0]=n.r,e[1]=n.g,e[2]=n.b,e};Q.exactEquals=function(e,n){return e.r===n.r&&e.g===n.g&&e.b===n.b};Q.equals=function(e,n){let r=e.r,t=e.g,i=e.b,s=n.r,m=n.g,l=n.b;return Math.abs(r-s)<=R*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(t-m)<=R*Math.max(1,Math.abs(t),Math.abs(m))&&Math.abs(i-l)<=R*Math.max(1,Math.abs(i),Math.abs(l))};Q.hex=function(e){return e.r*255<<16|e.g*255<<8|e.b*255};let ye=new Array(4);class Ke{constructor(n,r,t,i){this.r=n,this.g=r,this.b=t,this.a=i}toJSON(){return ye[0]=this.r,ye[1]=this.g,ye[2]=this.b,ye[3]=this.a,ye}}let X={};X.create=function(){return new Ke(1,1,1,1)};X.new=function(e,n,r,t){return new Ke(e,n,r,t)};X.clone=function(e){return new Ke(e.r,e.g,e.b,e.a)};X.copy=function(e,n){return e.r=n.r,e.g=n.g,e.b=n.b,e.a=n.a,e};X.set=function(e,n,r,t,i){return e.r=n,e.g=r,e.b=t,e.a=i,e};X.fromHex=function(e,n){let r=(n>>24)/255,t=(n>>16&255)/255,i=(n>>8&255)/255,s=(n&255)/255;return e.r=r,e.g=t,e.b=i,e.a=s,e};X.add=function(e,n,r){return e.r=n.r+r.r,e.g=n.g+r.g,e.b=n.b+r.b,e.a=n.a+r.a,e};X.subtract=function(e,n,r){return e.r=n.r-r.r,e.g=n.g-r.g,e.b=n.b-r.b,e.a=n.a-r.a,e};X.sub=X.subtract;X.multiply=function(e,n,r){return e.r=n.r*r.r,e.g=n.g*r.g,e.b=n.b*r.b,e.a=n.a*r.a,e};X.mul=X.multiply;X.divide=function(e,n,r){return e.r=n.r/r.r,e.g=n.g/r.g,e.b=n.b/r.b,e.a=n.a/r.a,e};X.div=X.divide;X.scale=function(e,n,r){return e.r=n.r*r,e.g=n.g*r,e.b=n.b*r,e.a=n.a*r,e};X.lerp=function(e,n,r,t){let i=n.r,s=n.g,m=n.b,l=n.a;return e.r=i+t*(r.r-i),e.g=s+t*(r.g-s),e.b=m+t*(r.b-m),e.a=l+t*(r.a-l),e};X.str=function(e){return`color4(${e.r}, ${e.g}, ${e.b}, ${e.a})`};X.array=function(e,n){return e[0]=n.r,e[1]=n.g,e[2]=n.b,e[3]=n.a,e};X.exactEquals=function(e,n){return e.r===n.r&&e.g===n.g&&e.b===n.b&&e.a===n.a};X.equals=function(e,n){let r=e.r,t=e.g,i=e.b,s=e.a,m=n.r,l=n.g,c=n.b,o=n.a;return Math.abs(r-m)<=R*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(t-l)<=R*Math.max(1,Math.abs(t),Math.abs(l))&&Math.abs(i-c)<=R*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(s-o)<=R*Math.max(1,Math.abs(s),Math.abs(o))};X.hex=function(e){return(e.r*255<<24|e.g*255<<16|e.b*255<<8|e.a*255)>>>0};let nt=et;const qn=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:R,approx:Ar,bits:nt,clamp:Lr,clamp01:Or,color3:Q,color4:X,equals:Cr,lerp:Er,mat2:V,mat23:G,mat3:k,mat4:I,nextPow2:qr,quat:T,random:te,randomRange:Fn,randomRangeInt:$r,toDegree:Fr,toRadian:Rr,vec2:N,vec3:A,vec4:q},Symbol.toStringTag,{value:"Module"}));function rt(e,n,r,t){let i,s=25;const m=qn["w"in n[0]?"vec4":"z"in n[0]?"vec3":"vec2"];for(let a=1/0,f=s+1;f--;){let u=m.squaredDistance(r,wn(e,n,f/s,t));u<a&&(a=u,i=f)}let l=Math.max((i-1)/s,0),c=Math.min((i+1)/s,1);return tt(l,c,a=>m.squaredDistance(r,wn(e,n,a,t)),1e-4)}function tt(e,n,r,t){t===void 0&&(t=1e-10);let i=e,s=n,m;for(;s-i>t;)m=(s+i)/2,r(m-t)<r(m+t)?s=m:i=m;return m}function wn(e,n,r,t){n.length<2&&console.error("At least 2 control points are required");const i=qn["w"in n[0]?"vec4":"z"in n[0]?"vec3":"vec2"];t?t.forEach((l,c)=>{i.copy(l,n[c])}):t=n.map(l=>i.clone(l));for(var s=n.length-1;s--;)for(var m=0;m<=s;++m)i.lerp(t[m],t[m],t[m+1],r);return i.copy(e,t[0])}function _e(e,n){const r=N,t=e.map(()=>r.create()),i=r.create();return{relative_position:rt(i,e.map(m=>r.new(m.x,m.y)),r.new(n.x,n.y),t),absolute_point:{x:i.x,y:i.y}}}function it(){function e(t,{segments:i}){const{x:s,y:m,hx:l,hy:c}=i[0],{x:o,y:a,hx:f,hy:u}=i[1];t.moveTo(s,m),t.bezierCurveTo(l,c,f,u,o,a);for(var h=1;h<i.length-1;h++){const{x:y,y:p,hx:g,hy:x}=i[h],{x:v,y:_,hx:d,hy:M}=i[h+1];t.moveTo(y,p);const{x:w,y:S}=reverse(y,p,g,x);t.bezierCurveTo(w,S,d,M,v,_)}}function n({px:t,py:i,segments:s,w:m}){const{x:l,y:c,hx:o,hy:a}=s[0],{x:f,y:u,hx:h,hy:y}=s[1],{relative_position:p,absolute_point:{x:g,y:x}}=_e([{x:l,y:c},{x:o,y:a},{x:h,y},{x:f,y:u}],{x:t,y:i});if(se(g,x,t,i)<m/2)return!0;for(var v=1;v<s.length-1;v++){const{x:_,y:d,hx:M,hy:w}=s[v],{x:S,y:$,hx:j,hy:D}=s[v+1],{x:C,y:O}=reverse(_,d,M,w),{relative_position:F,absolute_point:{x:b,y:E}}=_e([{x:_,y:d},{x:C,y:O},{x:j,y:D},{x:S,y:$}],{x:t,y:i});if(se(b,E,t,i)<m/2)return!0}}function r({px:t,py:i,segments:s,w:m}){const{x:l,y:c,hx:o,hy:a}=s[0],{x:f,y:u,hx:h,hy:y}=s[1];let{absolute_point:p}=_e([{x:l,y:c},{x:o,y:a},{x:h,y},{x:f,y:u}],{x:t,y:i}),g=se(p.x,p.y,t,i);for(var x=1;x<s.length-1;x++){const{x:v,y:_,hx:d,hy:M}=s[x],{x:w,y:S,hx:$,hy:j}=s[x+1],{x:D,y:C}=reverse(v,_,d,M),{absolute_point:O}=_e([{x:v,y:_},{x:D,y:C},{x:$,y:j},{x:w,y:S}],{x:t,y:i}),F=se(O.x,O.y,t,i);F<g&&(g=F,p=O)}return p}return{draw:e,pointOnShape:n,getClosestPoint:r}}function st(){function e(t,{segments:i}){t.moveTo(i[0].x,i[0].y);for(var s=1;s<i.length;s++){const{x:m,y:l}=i[s];t.lineTo(m,l)}t.closePath()}function n({px:t,py:i,segments:s}){let m=!1;for(let l=0,c=s.length-1;l<s.length;c=l++){const o=s[l].x,a=s[l].y,f=s[c].x,u=s[c].y;a>i!=u>i&&t<(f-o)*(i-a)/(u-a)+o&&(m=!m)}return m}function r({px:t,py:i,segments:s}){let m=1/0,l=null;s.push(s[0]);for(let c=0;c<s.length-1;c+=1){const{x:o,y:a}=s[c],{x:f,y:u}=s[c+1],h=ke(t,i,o,a,f,u),y=se(t,i,h.x,h.y);y<m&&(m=y,l=h)}return l}return{draw:e,pointOnShape:n,getClosestPoint:r}}function mt(){function e(t,{text:i,x:s,y:m,font:l,fontSize:c,verticalAlign:o,horizontalAlign:a}){i==null&&(i=""),t.font=`${c}pt ${l}`,t.textAlign=a;const f=t.measureText(i),u=f.actualBoundingBoxAscent+f.actualBoundingBoxDescent;o=="center"&&(m-=u/2),o!="end"&&o!="top"&&(m+=u);function h(){t.fillText(i,s,m)}function y(){t.strokeText(i,s,m)}return{fill:h,stroke:y}}function n({px:t,py:i,text:s,x:m,y:l,font:c,fontSize:o,verticalAlign:a,horizontalAlign:f,ctx:u}){u.font=`${o}pt ${c}`;const h=u.measureText(s),{width:y}=h,p=h.actualBoundingBoxAscent+h.actualBoundingBoxDescent;return f=="center"?m-=y/2:(f=="right"||f=="end")&&(m-=y),a=="center"?l-=p/2:(a=="end"||a=="top")&&(l-=p),t>=m&&t<=m+y&&i>=l&&i<=l+o}function r({px:t,py:i,text:s,x:m,y:l,font:c,fontSize:o,verticalAlign:a,horizontalAlign:f,ctx:u}){u.font=`${o}pt ${c}`;const h=u.measureText(s),{width:y}=h,p=h.actualBoundingBoxAscent+h.actualBoundingBoxDescent;if(f=="center"?m-=y/2:(f=="right"||f=="end")&&(m-=y),a=="center"?l-=p/2:(a=="end"||a=="top")&&(l-=p),t>=m&&t<=m+y&&i>=l&&i<=l+p){const v=t-m,_=m+y-t,d=i-l,M=l+p-i,w=Math.min(v,_,d,M);return w===v?{x:m,y:i}:w===_?{x:m+y,y:i}:w===d?{x:t,y:l}:{x:t,y:l+p}}let g;t<m?g=m:t>m+y?g=m+y:g=t;let x;return i<l?x=l:i>l+p?x=l+p:x=i,{x:g,y:x}}return{draw:e,pointOnShape:n,getClosestPoint:r}}const Tn={rect:_r(),ellipse:wr(),shape:st()},lt={line:zr(),curve:it()},_n=mt();function ct(e,n,r,t,{properties:{w:i,h:s},update:m}){const{surface:l,w:c,h:o,x:a,y:f}=t;c!=null&&o!=null&&(l.properties.offset.w=l.properties.w/c,l.properties.offset.h=l.properties.h/o),l.properties.offset.x=a,l.properties.offset.y=f,l.properties.parents.push(m);function u(){gr(r,t)}const h={draw:u,layer:t.layer};function y(){const p=e.indexOf(h);p>-1&&e.splice(p,1),m()}return e.push(h),{remove:y}}function ot(e,n,r,t,i){let s;r.type=="text"?(r.ctx=n,s=ft(n,r)):r.type in Tn?s=at(n,r):s=ht(n,r);const m={draw:s.draw,layer:r.layer};e.push(m);function l({x:f,y:u}){return{px:(f-i.x)*i.w,py:(u-i.y)*i.h,...r}}function c(f){return s.shape.pointOnShape(l(f))}function o(f){return s.shape.getClosestPoint(l(f))}function a(){const f=e.indexOf(m);f>-1&&e.splice(f,1),t()}return r.pointOnShape=c,r.getClosestPoint=o,r.remove=a,dr(t,r)}function at(e,n){const r=Tn[n.type];function t(){const i={...n};i.cx!=null&&(i.x-=i.cx),i.cy!=null&&(i.y-=i.cy),Mr(e,i,r.draw)}return{draw:t,shape:r}}function ft(e,n){function r(){const t={...n};t.cx!=null&&(t.x-=t.cx),t.cy!=null&&(t.y-=t.cy),xr(e,t,_n.draw)}return{draw:r,shape:_n}}function ht(e,n){const r=lt[n.type];function t(){vr(e,n,r.draw)}return{draw:t,shape:r}}function Dn({w:e,h:n,canvas:r=null}){r==null&&(r=document.createElement("canvas")),r.width=e,r.height=n;const t=r.getContext("2d"),i={w:1,h:1,x:0,y:0},s=[],m=[];var l={canvas:r,ctx:t,add:u,update:h,beguinTransaction:a,endTransaction:f,properties:{parents:m,w:e,h:n,offset:i}},c=!1,o=!1;function a(){c=!0,o=!1}function f(){c=!1,o&&h(),o=!1}function u(y){let p;return y.layer||(y.layer=0),y.surface?(p=ct(s,m,t,y,l),h(),p):(p=ot(s,t,y,h,i),h(),p)}function h(){if(c){o=!0;return}t.clearRect(0,0,e,n);for(const y of s.sort((p,g)=>p.layer-g.layer))y.draw();for(const y of m)y()}return l}const ut=ze("div",null,ze("p",null,"Hover over the shapes to highlight them"),ze("p",null,"The red dot is the closest point in the edge of the shape to the mouse position "));ut.$parent(document.body);const K=Dn({w:800,h:600});var en=800/2,nn=600/2;K.beguinTransaction();const Nn=K.add({type:"ellipse",backgroundColor:"#BF4F51",border:{thickness:3,color:"black"},x:en,y:nn,w:100,h:100}),Pn=K.add({type:"rect",backgroundColor:"#BF4F51",border:{thickness:3,color:"black",radius:10},x:en-120,y:nn,w:100,h:100}),In=K.add({type:"shape",backgroundColor:"#BF4F51",border:{thickness:3,color:"black"},segments:[{x:300,y:20},{x:400,y:100},{x:500,y:20},{x:400,y:50}]}),jn=K.add({type:"line",backgroundColor:"#BF4F51",border:{thickness:3,color:"black"},segments:[{x:300,y:150},{x:400,y:250},{x:500,y:150}],cap:"square",w:10}),kn=K.add({type:"curve",backgroundColor:"#BF4F51",border:{thickness:3,color:"black"},segments:[{x:20,y:20,hx:100,hy:20},{x:100,y:100,hx:100,hy:100}],cap:"square",w:10}),Bn=K.add({type:"text",text:"hello",x:100,y:200,font:"Arial",fontSize:50,verticalAlign:"center",horizontalAlign:"center",backgroundColor:"#BF4F51",border:{thickness:3,color:"black"}}),yt=ce(Nn),pt=ce(Pn),dt=ce(jn),gt=ce(kn),Mt=ce(In),xt=ce(Bn);K.endTransaction();const rn=Dn({w:800,h:600,canvas:ze("canvas",null)});rn.add({surface:K,x:100,y:100});rn.canvas.$parent(document.body);rn.canvas.addEventListener("mousemove",e=>{K.beguinTransaction(),le(e,Pn),le(e,jn),le(e,kn),le(e,In),le(e,Nn),le(e,Bn),yt(e),pt(e),dt(e),gt(e),Mt(e),xt(e),K.endTransaction()});function ce(e){const n=K.add({type:"ellipse",x:en,y:nn,w:10,h:10,cx:5,cy:5,layer:1});return function(r){K.beguinTransaction(),n.backgroundColor="#9966CC",n.border={thickness:2,color:"black"};const{x:t,y:i}=e.getClosestPoint({x:r.offsetX,y:r.offsetY});n.x=t,n.y=i,K.endTransaction()}}function le(e,n){n.pointOnShape({x:e.offsetX,y:e.offsetY})?n.backgroundColor="#E52B50":n.backgroundColor="#BF4F51"}
